function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var l=function(e){var t,r=("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")()).Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}(),p=function(){return Math.random().toString(36).substring(7).split("").join(".")},h={INIT:"@@redux/INIT"+p(),REPLACE:"@@redux/REPLACE"+p(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+p()}};function _(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function f(e,t,r){var n;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(f)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,i=t,s=[],a=s,c=!1;function d(){a===s&&(a=s.slice())}function u(){if(c)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return i}function p(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(c)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return d(),a.push(e),function(){if(t){if(c)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,d();var r=a.indexOf(e);a.splice(r,1),s=null}}}function v(e){if(!_(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,i=o(i,e)}finally{c=!1}for(var t=s=a,r=0;r<t.length;r++)(0,t[r])();return e}function E(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,v({type:h.REPLACE})}function y(){var e,t=p;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function r(){e.next&&e.next(u())}return r(),{unsubscribe:t(r)}}})[l]=function(){return this},e}return v({type:h.INIT}),(n={dispatch:v,subscribe:p,getState:u,replaceReducer:E})[l]=y,n}function v(e,t){var r=t&&t.type;return"Given "+(r&&'action "'+String(r)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(r,!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var b=function(e,t){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function m(e,t){function r(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function I(e){return"function"==typeof e}var A=!1,O={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else A&&console.log("RxJS: Back to a better error behavior. Thank you. <3");A=e},get useDeprecatedSynchronousErrorHandling(){return A}};function C(e){setTimeout((function(){throw e}),0)}var T={closed:!0,next:function(e){},error:function(e){if(O.useDeprecatedSynchronousErrorHandling)throw e;C(e)},complete:function(){}},w=Array.isArray||function(e){return e&&"number"==typeof e.length};function R(e){return null!==e&&"object"==typeof e}var N=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),D=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var r=this._parentOrParents,n=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof e)r.remove(this);else if(null!==r)for(var i=0;i<r.length;++i)r[i].remove(this);if(I(n))try{n.call(this)}catch(e){t=e instanceof N?P(e.errors):[e]}if(w(o)){i=-1;for(var s=o.length;++i<s;){var a=o[i];if(R(a))try{a.unsubscribe()}catch(e){t=t||[],e instanceof N?t=t.concat(P(e.errors)):t.push(e)}}}if(t)throw new N(t)}},e.prototype.add=function(t){var r=t;if(!t)return e.EMPTY;switch(typeof t){case"function":r=new e(t);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof e)){var n=r;(r=new e)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=r._parentOrParents;if(null===o)r._parentOrParents=this;else if(o instanceof e){if(o===this)return r;r._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return r;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[r]:i.push(r),r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function P(e){return e.reduce((function(e,t){return e.concat(t instanceof N?t.errors:t)}),[])}var M="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),k=function(e){function t(r,n,o){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=T;break;case 1:if(!r){i.destination=T;break}if("object"==typeof r){r instanceof t?(i.syncErrorThrowable=r.syncErrorThrowable,i.destination=r,r.add(i)):(i.syncErrorThrowable=!0,i.destination=new U(i,r));break}default:i.syncErrorThrowable=!0,i.destination=new U(i,r,n,o)}return i}return m(t,e),t.prototype[M]=function(){return this},t.create=function(e,r,n){var o=new t(e,r,n);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(D),U=function(e){function t(t,r,n,o){var i,s=e.call(this)||this;s._parentSubscriber=t;var a=s;return I(r)?i=r:r&&(i=r.next,n=r.error,o=r.complete,r!==T&&(I((a=Object.create(r)).unsubscribe)&&s.add(a.unsubscribe.bind(a)),a.unsubscribe=s.unsubscribe.bind(s))),s._context=a,s._next=i,s._error=n,s._complete=o,s}return m(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;O.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,r=O.useDeprecatedSynchronousErrorHandling;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):C(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;C(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};O.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),O.useDeprecatedSynchronousErrorHandling)throw e;C(e)}},t.prototype.__tryOrSetError=function(e,t,r){if(!O.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(t){return O.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(C(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(k),V="function"==typeof Symbol&&Symbol.observable||"@@observable";function L(e){return e}function j(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return H(e)}function H(e){return 0===e.length?L:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var x=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this.operator,o=function(e,t,r){if(e){if(e instanceof k)return e;if(e[M])return e[M]()}return e||t||r?new k(e,t,r):new k(T)}(e,t,r);if(n?o.add(n.call(o,this.source)):o.add(this.source||O.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),O.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){O.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,r=t.closed,n=t.destination,o=t.isStopped;if(r||o)return!1;e=n&&n instanceof k?n:null}return!0}(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=F(t))((function(t,n){var o;o=r.subscribe((function(t){try{e(t)}catch(e){n(e),o&&o.unsubscribe()}}),n,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[V]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:H(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=F(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function F(e){if(e||(e=Promise),!e)throw new Error("no Promise impl found");return e}var G=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),B=function(e){function t(t,r){var n=e.call(this)||this;return n.subject=t,n.subscriber=r,n.closed=!1,n}return m(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}},t}(D),W=function(e){function t(t){var r=e.call(this,t)||this;return r.destination=t,r}return m(t,e),t}(k),K=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return m(t,e),t.prototype[M]=function(){return new W(this)},t.prototype.lift=function(e){var t=new q(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new G;if(!this.isStopped)for(var t=this.observers,r=t.length,n=t.slice(),o=0;o<r;o++)n[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new G;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,n=t.slice(),o=0;o<r;o++)n[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new G;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),n=0;n<t;n++)r[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new G;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new G;return this.hasError?(e.error(this.thrownError),D.EMPTY):this.isStopped?(e.complete(),D.EMPTY):(this.observers.push(e),new B(this,e))},t.prototype.asObservable=function(){var e=new x;return e.source=this,e},t.create=function(e,t){return new q(e,t)},t}(x),q=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return m(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):D.EMPTY},t}(K),z=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return m(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new G;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(K),J=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return m(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r=!1,n=void 0;try{this.work(e)}catch(e){r=!0,n=!!e&&e||new Error(e)}if(r)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,r){return e.call(this)||this}return m(t,e),t.prototype.schedule=function(e,t){return this},t}(D)),Y=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return m(t,e),t.prototype.schedule=function(t,r){return void 0===r&&(r=0),r>0?e.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,r){return r>0||this.closed?e.prototype.execute.call(this,t,r):this._execute(t,r)},t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?e.prototype.requestAsyncId.call(this,t,r,n):t.flush(this)},t}(J),X=function(){function e(t,r){void 0===r&&(r=e.now),this.SchedulerAction=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},e.now=function(){return Date.now()},e}(),Z=function(e){function t(r,n){void 0===n&&(n=X.now);var o=e.call(this,r,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():n()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return m(t,e),t.prototype.schedule=function(r,n,o){return void 0===n&&(n=0),t.delegate&&t.delegate!==this?t.delegate.schedule(r,n,o):e.prototype.schedule.call(this,r,n,o)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(X),Q=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),t}(Z))(Y),$=new x((function(e){return e.complete()}));function ee(e){return e?function(e){return new x((function(t){return e.schedule((function(){return t.complete()}))}))}(e):$}function te(e){return e&&"function"==typeof e.schedule}var re,ne=function(e){return function(t){for(var r=0,n=e.length;r<n&&!t.closed;r++)t.next(e[r]);t.complete()}};function oe(e,t){return new x((function(r){var n=new D,o=0;return n.add(t.schedule((function(){o!==e.length?(r.next(e[o++]),r.closed||n.add(this.schedule())):r.complete()}))),n}))}function ie(e,t){return t?oe(e,t):new x(ne(e))}function se(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return te(r)?(e.pop(),oe(e,r)):ie(e)}function ae(e,t){return new x(t?function(r){return t.schedule(ce,0,{error:e,subscriber:r})}:function(t){return t.error(e)})}function ce(e){var t=e.error;e.subscriber.error(t)}!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(re||(re={}));var de=function(){function e(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}},e.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){switch(this.kind){case"N":return se(this.value);case"E":return ae(this.error);case"C":return ee()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();function ue(e,t){return void 0===t&&(t=0),function(r){return r.lift(new le(e,t))}}var le=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new pe(e,this.scheduler,this.delay))},e}(),pe=function(e){function t(t,r,n){void 0===n&&(n=0);var o=e.call(this,t)||this;return o.scheduler=r,o.delay=n,o}return m(t,e),t.dispatch=function(e){var t=e.notification,r=e.destination;t.observe(r),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new he(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(de.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(de.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(de.createComplete()),this.unsubscribe()},t}(k),he=function(e,t){this.notification=e,this.destination=t},_e=1,fe=Promise.resolve(),ve={};function Ee(e){return e in ve&&(delete ve[e],!0)}var ye=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return m(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t.scheduled||(t.scheduled=function(e){var t=_e++;return ve[t]=!0,fe.then((function(){return Ee(t)&&e()})),t}(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);0===t.actions.length&&(function(e){Ee(e)}(r),t.scheduled=void 0)},t}(J),ge=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,o=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<o&&(e=r.shift()));if(this.active=!1,t){for(;++n<o&&(e=r.shift());)e.unsubscribe();throw t}},t}(Z))(ye),Se=ge,be=new Z(J);function me(){}var Ie=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function Ae(e,t){return function(r){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new Oe(e,t))}}var Oe=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new Ce(e,this.project,this.thisArg))},e}(),Ce=function(e){function t(t,r,n){var o=e.call(this,t)||this;return o.project=r,o.count=0,o.thisArg=n||o,o}return m(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(k),Te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),t.prototype.notifyNext=function(e,t,r,n,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(k),we=function(e){function t(t,r,n){var o=e.call(this)||this;return o.parent=t,o.outerValue=r,o.outerIndex=n,o.index=0,o}return m(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(k),Re="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Ne=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function De(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var Pe=function(e){if(e&&"function"==typeof e[V])return n=e,function(e){var t=n[V]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Ne(e))return ne(e);if(De(e))return r=e,function(e){return r.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,C),e};if(e&&"function"==typeof e[Re])return t=e,function(e){for(var r=t[Re]();;){var n=void 0;try{n=r.next()}catch(t){return e.error(t),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}return"function"==typeof r.return&&e.add((function(){r.return&&r.return()})),e};var t,r,n,o=R(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+o+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function Me(e,t,r,n,o){if(void 0===o&&(o=new we(e,r,n)),!o.closed)return t instanceof x?t.subscribe(o):Pe(t)(o)}function ke(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[V]}(e))return function(e,t){return new x((function(r){var n=new D;return n.add(t.schedule((function(){var o=e[V]();n.add(o.subscribe({next:function(e){n.add(t.schedule((function(){return r.next(e)})))},error:function(e){n.add(t.schedule((function(){return r.error(e)})))},complete:function(){n.add(t.schedule((function(){return r.complete()})))}}))}))),n}))}(e,t);if(De(e))return function(e,t){return new x((function(r){var n=new D;return n.add(t.schedule((function(){return e.then((function(e){n.add(t.schedule((function(){r.next(e),n.add(t.schedule((function(){return r.complete()})))})))}),(function(e){n.add(t.schedule((function(){return r.error(e)})))}))}))),n}))}(e,t);if(Ne(e))return oe(e,t);if(function(e){return e&&"function"==typeof e[Re]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new x((function(r){var n,o=new D;return o.add((function(){n&&"function"==typeof n.return&&n.return()})),o.add(t.schedule((function(){n=e[Re](),o.add(t.schedule((function(){if(!r.closed){var e,t;try{var o=n.next();e=o.value,t=o.done}catch(e){return void r.error(e)}t?r.complete():(r.next(e),this.schedule())}})))}))),o}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof x?e:new x(Pe(e))}function Ue(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof t?function(n){return n.pipe(Ue((function(r,n){return ke(e(r,n)).pipe(Ae((function(e,o){return t(r,e,n,o)})))}),r))}:("number"==typeof t&&(r=t),function(t){return t.lift(new Ve(e,r))})}var Ve=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new Le(e,this.project,this.concurrent))},e}(),Le=function(e){function t(t,r,n){void 0===n&&(n=Number.POSITIVE_INFINITY);var o=e.call(this,t)||this;return o.project=r,o.concurrent=n,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return m(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){var n=new we(this,t,r),o=this.destination;o.add(n);var i=Me(this,e,void 0,void 0,n);i!==n&&o.add(i)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,r,n,o){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(Te);function je(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),Ue(L,e)}function He(){return je(1)}function xe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return He()(se.apply(void 0,e))}function Fe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var r=e[0];if(w(r))return Ge(r,null);if(R(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return Ge(n.map((function(e){return r[e]})),n)}}if("function"==typeof e[e.length-1]){var o=e.pop();return Ge(e=1===e.length&&w(e[0])?e[0]:e,null).pipe(Ae((function(e){return o.apply(void 0,e)})))}return Ge(e,null)}function Ge(e,t){return new x((function(r){var n=e.length;if(0!==n)for(var o=new Array(n),i=0,s=0,a=function(a){var c=ke(e[a]),d=!1;r.add(c.subscribe({next:function(e){d||(d=!0,s++),o[a]=e},error:function(e){return r.error(e)},complete:function(){++i!==n&&d||(s===n&&r.next(t?t.reduce((function(e,t,r){return e[t]=o[r],e}),{}):o),r.complete())}}))},c=0;c<n;c++)a(c);else r.complete()}))}function Be(e,t,r,n){return I(r)&&(n=r,r=void 0),n?Be(e,t,r).pipe(Ae((function(e){return w(e)?n.apply(void 0,e):n(e)}))):new x((function(n){!function e(t,r,n,o,i){var s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var a=t;t.addEventListener(r,n,i),s=function(){return a.removeEventListener(r,n,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var c=t;t.on(r,n),s=function(){return c.off(r,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var d=t;t.addListener(r,n),s=function(){return d.removeListener(r,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var u=0,l=t.length;u<l;u++)e(t[u],r,n,o,i)}o.add(s)}(e,t,(function(e){arguments.length>1?n.next(Array.prototype.slice.call(arguments)):n.next(e)}),n,r)}))}function We(e,t,r){return r?We(e,t).pipe(Ae((function(e){return w(e)?r.apply(void 0,e):r(e)}))):new x((function(r){var n,o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.next(1===e.length?e[0]:e)};try{n=e(o)}catch(e){return void r.error(e)}if(I(t))return function(){return t(o,n)}}))}function Ke(e){return!w(e)&&e-parseFloat(e)+1>=0}function qe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Number.POSITIVE_INFINITY,n=null,o=e[e.length-1];return te(o)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof o&&(r=e.pop()),null===n&&1===e.length&&e[0]instanceof x?e[0]:je(r)(ie(e,n))}function ze(e,t){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=e,r.thisArg=t,r}function Je(e,t){return function(r){return r.lift(new Ye(e,t))}}var Ye=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new Xe(e,this.predicate,this.thisArg))},e}(),Xe=function(e){function t(t,r,n){var o=e.call(this,t)||this;return o.predicate=r,o.thisArg=n,o.count=0,o}return m(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(k);function Ze(e,t,r){return[Je(t,r)(new x(Pe(e))),Je(ze(t,r))(new x(Pe(e)))]}function Qe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!w(e[0]))return e[0];e=e[0]}return ie(e,void 0).lift(new $e)}var $e=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new et(e))},e}(),et=function(e){function t(t){var r=e.call(this,t)||this;return r.hasFirst=!1,r.observables=[],r.subscriptions=[],r}return m(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var r=0;r<t&&!this.hasFirst;r++){var n=e[r],o=Me(this,n,n,r);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},t.prototype.notifyNext=function(e,t,r,n,o){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++)if(i!==r){var s=this.subscriptions[i];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(t)},t}(Te);function tt(e,t,r){void 0===e&&(e=0);var n=-1;return Ke(t)?n=Number(t)<1?1:Number(t):te(t)&&(r=t),te(r)||(r=be),new x((function(t){var o=Ke(e)?e:+e-r.now();return r.schedule(rt,o,{index:0,period:n,subscriber:t})}))}function rt(e){var t=e.index,r=e.period,n=e.subscriber;if(n.next(t),!n.closed){if(-1===r)return n.complete();e.index=t+1,this.schedule(e,r)}}function nt(e){return function(t){var r=new ot(e),n=t.lift(r);return r.caught=n}}var ot=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new it(e,this.selector,this.caught))},e}(),it=function(e){function t(t,r,n){var o=e.call(this,t)||this;return o.selector=r,o.caught=n,o}return m(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=void 0;try{r=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle();var n=new we(this,void 0,void 0);this.add(n);var o=Me(this,r,void 0,void 0,n);o!==n&&this.add(o)}},t}(Te);function st(e,t){void 0===t&&(t=be);var r,n=(r=e)instanceof Date&&!isNaN(+r)?+e-t.now():Math.abs(e);return function(e){return e.lift(new at(n,t))}}var at=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new ct(e,this.delay,this.scheduler))},e}(),ct=function(e){function t(t,r,n){var o=e.call(this,t)||this;return o.delay=r,o.scheduler=n,o.queue=[],o.active=!1,o.errored=!1,o}return m(t,e),t.dispatch=function(e){for(var t=e.source,r=t.queue,n=e.scheduler,o=e.destination;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(o);if(r.length>0){var i=Math.max(0,r[0].time-n.now());this.schedule(e,i)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,r=new dt(t.now()+this.delay,e);this.queue.push(r),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(de.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(de.createComplete()),this.unsubscribe()},t}(k),dt=function(e,t){this.time=e,this.notification=t};function ut(e){return function(t){return 0===e?ee():t.lift(new lt(e))}}var lt=function(){function e(e){if(this.total=e,this.total<0)throw new Ie}return e.prototype.call=function(e,t){return t.subscribe(new pt(e,this.total))},e}(),pt=function(e){function t(t,r){var n=e.call(this,t)||this;return n.total=r,n.count=0,n}return m(t,e),t.prototype._next=function(e){var t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))},t}(k);function ht(e){return function(t){return t.lift(new _t(e))}}var _t=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new ft(e,this.value))},e}(),ft=function(e){function t(t,r){var n=e.call(this,t)||this;return n.value=r,n}return m(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(k);function vt(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof t?Ue((function(){return e}),t,r):("number"==typeof t&&(r=t),Ue((function(){return e}),r))}function Et(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return te(r)?(e.pop(),function(t){return xe(e,t,r)}):function(t){return xe(e,t)}}var yt=function(e){function t(t,r,n){void 0===r&&(r=0),void 0===n&&(n=Se);var o=e.call(this)||this;return o.source=t,o.delayTime=r,o.scheduler=n,(!Ke(r)||r<0)&&(o.delayTime=0),n&&"function"==typeof n.schedule||(o.scheduler=Se),o}return m(t,e),t.create=function(e,r,n){return void 0===r&&(r=0),void 0===n&&(n=Se),new t(e,r,n)},t.dispatch=function(e){var t=e.source,r=e.subscriber;return this.add(t.subscribe(r))},t.prototype._subscribe=function(e){var r=this.delayTime,n=this.source;return this.scheduler.schedule(t.dispatch,r,{source:n,subscriber:e})},t}(x);function gt(e,t){return void 0===t&&(t=0),function(r){return r.lift(new St(e,t))}}var St=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new yt(t,this.delay,this.scheduler).subscribe(e)},e}();function bt(e,t){return"function"==typeof t?function(r){return r.pipe(bt((function(r,n){return ke(e(r,n)).pipe(Ae((function(e,o){return t(r,e,n,o)})))})))}:function(t){return t.lift(new mt(e))}}var mt=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new It(e,this.project))},e}(),It=function(e){function t(t,r){var n=e.call(this,t)||this;return n.project=r,n.index=0,n}return m(t,e),t.prototype._next=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){var n=this.innerSubscription;n&&n.unsubscribe();var o=new we(this,t,r),i=this.destination;i.add(o),this.innerSubscription=Me(this,e,void 0,void 0,o),this.innerSubscription!==o&&i.add(this.innerSubscription)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,n,o){this.destination.next(t)},t}(Te);function At(e,t,r){return function(n){return n.lift(new Ot(e,t,r))}}var Ot=function(){function e(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}return e.prototype.call=function(e,t){return t.subscribe(new Ct(e,this.nextOrObserver,this.error,this.complete))},e}(),Ct=function(e){function t(t,r,n,o){var i=e.call(this,t)||this;return i._tapNext=me,i._tapError=me,i._tapComplete=me,i._tapError=n||me,i._tapComplete=o||me,I(r)?(i._context=i,i._tapNext=r):r&&(i._context=r,i._tapNext=r.next||me,i._tapError=r.error||me,i._tapComplete=r.complete||me),i}return m(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(k);function Tt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var r;"function"==typeof e[e.length-1]&&(r=e.pop());var n=e;return t.lift(new Nt(n,r))}}var wt,Rt,Nt=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new Dt(e,this.observables,this.project))},e}(),Dt=function(e){function t(t,r,n){var o=e.call(this,t)||this;o.observables=r,o.project=n,o.toRespond=[];var i=r.length;o.values=new Array(i);for(var s=0;s<i;s++)o.toRespond.push(s);for(s=0;s<i;s++){var a=r[s];o.add(Me(o,a,a,s))}return o}return m(t,e),t.prototype.notifyNext=function(e,t,r,n,o){this.values[r]=t;var i=this.toRespond;if(i.length>0){var s=i.indexOf(r);-1!==s&&i.splice(s,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(Te),Pt=function(e,t){return e===t||"function"==typeof t&&e===t.toString()},Mt=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return e.pipe(Je((function(e){var r=e.type,n=t.length;if(1===n)return Pt(r,t[0]);for(var o=0;o<n;o++)if(Pt(r,t[o]))return!0;return!1})))}},kt=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Ut=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.source=e,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,x),kt(t,null,[{key:"of",value:function(){return new this(se.apply(void 0,arguments))}},{key:"from",value:function(e,t){return new this(ke(e,t))}}]),kt(t,[{key:"lift",value:function(e){var r=new t(this);return r.operator=e,r}},{key:"ofType",value:function(){return Mt.apply(void 0,arguments)(this)}}]),t}(),Vt=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(function(e){var t=n.__notifier.subscribe(e);return t&&!t.closed&&e.next(n.value),t})));return n.value=r,n.__notifier=new K,n.__subscription=e.subscribe((function(e){e!==n.value&&(n.value=e,n.__notifier.next(e))})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,x),t}(),Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt=[];function Ht(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function xt(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function Ft(e,t,r){Ft.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:r,enumerable:!0})}function Gt(e,t){Gt.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function Bt(e,t){Bt.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function Wt(e,t,r){Wt.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:r,enumerable:!0})}function Kt(e,t,r){var n=e.slice((r||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,n),e}function qt(e){var t=void 0===e?"undefined":Lt(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function zt(e,t,r,n,o,i,s){s=s||[];var a=(o=o||[]).slice(0);if(void 0!==i){if(n){if("function"==typeof n&&n(a,i))return;if("object"===(void 0===n?"undefined":Lt(n))){if(n.prefilter&&n.prefilter(a,i))return;if(n.normalize){var c=n.normalize(a,i,e,t);c&&(e=c[0],t=c[1])}}}a.push(i)}"regexp"===qt(e)&&"regexp"===qt(t)&&(e=e.toString(),t=t.toString());var d=void 0===e?"undefined":Lt(e),u=void 0===t?"undefined":Lt(t),l="undefined"!==d||s&&s[s.length-1].lhs&&s[s.length-1].lhs.hasOwnProperty(i),p="undefined"!==u||s&&s[s.length-1].rhs&&s[s.length-1].rhs.hasOwnProperty(i);if(!l&&p)r(new Gt(a,t));else if(!p&&l)r(new Bt(a,e));else if(qt(e)!==qt(t))r(new Ft(a,e,t));else if("date"===qt(e)&&e-t!=0)r(new Ft(a,e,t));else if("object"===d&&null!==e&&null!==t)if(s.filter((function(t){return t.lhs===e})).length)e!==t&&r(new Ft(a,e,t));else{if(s.push({lhs:e,rhs:t}),Array.isArray(e)){var h;for(e.length,h=0;h<e.length;h++)h>=t.length?r(new Wt(a,h,new Bt(void 0,e[h]))):zt(e[h],t[h],r,n,a,h,s);for(;h<t.length;)r(new Wt(a,h,new Gt(void 0,t[h++])))}else{var _=Object.keys(e),f=Object.keys(t);_.forEach((function(o,i){var c=f.indexOf(o);c>=0?(zt(e[o],t[o],r,n,a,o,s),f=Kt(f,c)):zt(e[o],void 0,r,n,a,o,s)})),f.forEach((function(e){zt(void 0,t[e],r,n,a,e,s)}))}s.length=s.length-1}else e!==t&&("number"===d&&isNaN(e)&&isNaN(t)||r(new Ft(a,e,t)))}function Jt(e,t,r,n){return n=n||[],zt(e,t,(function(e){e&&n.push(e)}),r),n.length?n:void 0}function Yt(e,t,r){if(e&&t&&r&&r.kind){for(var n=e,o=-1,i=r.path?r.path.length-1:0;++o<i;)void 0===n[r.path[o]]&&(n[r.path[o]]="number"==typeof r.path[o]?[]:{}),n=n[r.path[o]];switch(r.kind){case"A":!function e(t,r,n){if(n.path&&n.path.length){var o,i=t[r],s=n.path.length-1;for(o=0;o<s;o++)i=i[n.path[o]];switch(n.kind){case"A":e(i[n.path[o]],n.index,n.item);break;case"D":delete i[n.path[o]];break;case"E":case"N":i[n.path[o]]=n.rhs}}else switch(n.kind){case"A":e(t[r],n.index,n.item);break;case"D":t=Kt(t,r);break;case"E":case"N":t[r]=n.rhs}return t}(r.path?n[r.path[o]]:n,r.index,r.item);break;case"D":delete n[r.path[o]];break;case"E":case"N":n[r.path[o]]=r.rhs}}}wt="object"===("undefined"==typeof global?"undefined":Lt(global))&&global?global:"undefined"!=typeof window?window:{},(Rt=wt.DeepDiff)&&jt.push((function(){void 0!==Rt&&wt.DeepDiff===Jt&&(wt.DeepDiff=Rt,Rt=void 0)})),Ht(Ft,xt),Ht(Gt,xt),Ht(Bt,xt),Ht(Wt,xt),Object.defineProperties(Jt,{diff:{value:Jt,enumerable:!0},observableDiff:{value:zt,enumerable:!0},applyDiff:{value:function(e,t,r){e&&t&&zt(e,t,(function(n){r&&!r(e,t,n)||Yt(e,t,n)}))},enumerable:!0},applyChange:{value:Yt,enumerable:!0},revertChange:{value:function(e,t,r){if(e&&t&&r&&r.kind){var n,o,i=e;for(o=r.path.length-1,n=0;n<o;n++)void 0===i[r.path[n]]&&(i[r.path[n]]={}),i=i[r.path[n]];switch(r.kind){case"A":!function e(t,r,n){if(n.path&&n.path.length){var o,i=t[r],s=n.path.length-1;for(o=0;o<s;o++)i=i[n.path[o]];switch(n.kind){case"A":e(i[n.path[o]],n.index,n.item);break;case"D":case"E":i[n.path[o]]=n.lhs;break;case"N":delete i[n.path[o]]}}else switch(n.kind){case"A":e(t[r],n.index,n.item);break;case"D":case"E":t[r]=n.lhs;break;case"N":t=Kt(t,r)}return t}(i[r.path[n]],r.index,r.item);break;case"D":case"E":i[r.path[n]]=r.lhs;break;case"N":delete i[r.path[n]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==Rt},enumerable:!0},noConflict:{value:function(){return jt&&(jt.forEach((function(e){e()})),jt=null),Jt},enumerable:!0}});var Xt=function(e,t,r,n,o,i,s,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[r,n,o,i,s,a],u=0;(c=new Error(t.replace(/%s/g,(function(){return d[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}},Zt=function(e){return"function"==typeof e},Qt=function(e){return e.toString()},$t=function(e){return"string"==typeof e},er=function(e){return e},tr=function(e){return null===e};function rr(e,t,r){void 0===t&&(t=er),Xt(Zt(t)||tr(t),"Expected payloadCreator to be a function, undefined or null");var n=tr(t)||t===er?er:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return e instanceof Error?e:t.apply(void 0,[e].concat(n))},o=Zt(r),i=e.toString(),s=function(){var t=n.apply(void 0,arguments),i={type:e};return t instanceof Error&&(i.error=!0),void 0!==t&&(i.payload=t),o&&(i.meta=r.apply(void 0,arguments)),i};return s.toString=function(){return i},s}var nr=function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},or=function(e){return Array.isArray(e)},ir=function(e){return null==e},sr=function(e){return e[e.length-1]},ar=/\s/,cr=/(_|-|\.|:)/,dr=/([a-z][A-Z]|[A-Z][a-z])/,ur=/[\W_]+(.|$)/g,lr=/(.)([A-Z]+)/g,pr=function(e){return function(e){return ar.test(e)?e.toLowerCase():cr.test(e)?(function(e){return e.replace(ur,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():dr.test(e)?function(e){return e.replace(lr,(function(e,t,r){return t+" "+r.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()}(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()},hr=function(e){return pr(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))},_r=function(e){return-1===e.indexOf("/")?hr(e):e.split("/").map(hr).join("/")},fr=function(e,t){return e.reduce((function(e,r){return t(e,r)}),{})},vr=function(e){return"undefined"!=typeof Map&&e instanceof Map};function Er(e){if(vr(e))return Array.from(e.keys());if("undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys)return Reflect.ownKeys(e);var t=Object.getOwnPropertyNames(e);return"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t}function yr(e,t){return vr(t)?t.get(e):t[e]}var gr=function(e){return function t(r,n,o,i){var s=void 0===n?{}:n,a=s.namespace,c=void 0===a?"/":a,d=s.prefix;return void 0===o&&(o={}),void 0===i&&(i=""),Er(r).forEach((function(n){var s=function(e){return i||!d||d&&new RegExp("^"+d+c).test(e)?e:""+d+c+e}(function(e){var t;if(!i)return e;var r=e.toString().split("||"),n=i.split("||");return(t=[]).concat.apply(t,n.map((function(e){return r.map((function(t){return""+e+c+t}))}))).join("||")}(n)),a=yr(n,r);e(a)?t(a,{namespace:c,prefix:d},o,s):o[s]=a})),o}},Sr=gr(nr);function br(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){mr(e,t,r[t])}))}return e}function mr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ir(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=nr(sr(r))?r.pop():{};return Xt(r.every($t)&&($t(e)||nr(e)),"Expected optional object followed by string action types"),$t(e)?Cr([e].concat(r),o):br({},Ar(e,o),Cr(r,o))}function Ar(e,t){return function(e,t){var r=void 0===t?{}:t,n=r.namespace,o=void 0===n?"/":n,i=r.prefix,s={};return Object.getOwnPropertyNames(e).forEach((function(t){var r=i?t.replace(""+i+o,""):t;return function t(r,n,o){var i=_r(o.shift());0===o.length?n[i]=e[r]:(n[i]||(n[i]={}),t(r,n[i],o))}(t,s,r.split(o))})),s}(Or(Sr(e,t)),t)}function Or(e,t){var r=void 0===t?{}:t,n=r.prefix,o=r.namespace,i=void 0===o?"/":o;return fr(Object.keys(e),(function(t,r){var o,s=e[r];Xt(function(e){if(Zt(e)||ir(e))return!0;if(or(e)){var t=e[0],r=void 0===t?er:t,n=e[1];return Zt(r)&&Zt(n)}return!1}(s),"Expected function, undefined, null, or array with payload and meta functions for "+r);var a=n?""+n+i+r:r,c=or(s)?rr.apply(void 0,[a].concat(s)):rr(a,s);return br({},t,((o={})[r]=c,o))}))}function Cr(e,t){var r=Or(fr(e,(function(e,t){var r;return br({},e,((r={})[t]=er,r))})),t);return fr(Object.keys(r),(function(e,t){var n;return br({},e,((n={})[_r(t)]=r[t],n))}))}var Tr=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n="function"!=typeof t[t.length-1]&&t.pop(),o=t;if(void 0===n)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(e,t){for(var r=arguments.length,i=Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];var a=void 0===e,c=void 0===t;return a&&c&&n?n:o.reduce((function(e,r){return r.apply(void 0,[e,t].concat(i))}),a&&!c&&n?n:e)}},wr=gr((function(e){return(nr(e)||vr(e))&&(r=(t=Er(e)).every((function(e){return"next"===e||"throw"===e})),!(t.length&&t.length<=2&&r));var t,r}));function Rr(e,t,r){void 0===r&&(r={}),Xt(nr(e)||vr(e),"Expected handlers to be a plain object.");var n=wr(e,r),o=Er(n).map((function(e){return function(e,t,r){void 0===t&&(t=er);var n=Qt(e).split("||");Xt(!(void 0===r),"defaultState for reducer handling "+n.join(", ")+" should be defined"),Xt(Zt(t)||nr(t),"Expected reducer to be a function or object with next and throw reducers");var o=Zt(t)?[t,t]:[t.next,t.throw].map((function(e){return ir(e)?er:e})),i=o[0],s=o[1];return function(e,t){void 0===e&&(e=r);var o=t.type;return o&&-1!==n.indexOf(Qt(o))?(!0===t.error?s:i)(e,t):e}}(e,yr(e,n),t)})),i=Tr.apply(void 0,o.concat([t]));return function(e,r){return void 0===e&&(e=t),i(e,r)}}const Nr=rr("CONNECT_ZOOM_SOCKET"),Dr=rr("CONNECT_XMPP_SOCKET"),Pr=rr("CLOSE_ZOOM_SOCKET"),Mr=rr("CLOSE_XMPP_SOCKET"),kr=rr("LOAD_WEB_IM"),Ur=rr("RECEIVE_MESSAGE_FROM_ZOOM_SOCKET"),Vr=rr("RECEIVE_SHARING_PAYLOAD_FROM_ZOOM_SOCKET"),Lr=rr("RECEIVE_MESSAGE_FROM_XMPP_SOCKET"),jr=rr("CONNECT_MAIN_SESSION_SOCKET"),Hr=rr("CLOSE_MAIN_SESSION_SOCKET"),xr=rr("RECEIVE_MESSAGE_FROM_MAIN_SESSION_SOCKET"),{setZoomSocketStatus:Fr,setRwgServersList:Gr,setRwgRetryCount:Br,setXmppSocketStatus:Wr,setIsXmppSdkLoaded:Kr,setMainSessionSocketStatus:qr,resetSocket:zr}=Ir({SET_ZOOM_SOCKET_STATUS:e=>e,SET_RWG_SERVERS_LIST:e=>e,SET_RWG_RETRY_COUNT:e=>e,SET_XMPP_SOCKET_STATUS:e=>e,SET_IS_XMPP_SDK_LOADED:e=>e,SET_MAIN_SESSION_SOCKET_STATUS:e=>e,RESET_SOCKET:()=>({})}),Jr=rr("CONNECT_TO_MEDIA_STREAM"),Yr=rr("RECEIVE_PAYLOAD_FROM_MEDIA_SDK"),{setAudioEncodeStatus:Xr,setAudioDecodeStatus:Zr,setVideoEncodeStatus:Qr,setVideoDecodeStatus:$r,setSharingEncodeStatus:en,setSharingDecodeStatus:tn,setMediaConstraints:rn,resetMedia:nn}=Ir("SET_AUDIO_ENCODE_STATUS","SET_AUDIO_DECODE_STATUS","SET_VIDEO_ENCODE_STATUS","SET_VIDEO_DECODE_STATUS","SET_SHARING_ENCODE_STATUS","SET_SHARING_DECODE_STATUS","SET_MEDIA_CONSTRAINTS","RESET_MEDIA");function on(e,t,...r){return e(Ut.of(...r||[]),t,null)}function sn(...e){const t=(...t)=>qe(...e.map(e=>{const r=e(...t);if(!r)throw new TypeError(`combineEpics: one of the provided Epics "${e.name||"<anonymous>"}" does not return a stream. Double check you're not missing a return statement!`);return r.pipe(nt((e,t)=>(setTimeout(()=>{throw e},0),t)))}));try{Object.defineProperty(t,"name",{value:`combineEpics(${e.map(e=>e.name||"<anonymous>").join(", ")})`})}catch(e){}return t}function an(...e){return sn(...e.flatMap(e=>Object.values(e)))}function cn(e,t){return e.pipe(Mt(""+Ur),Je(e=>e.payload.evt===t))}function dn(e,t){return e.pipe(Mt(""+Lr),Je(e=>e.payload.event===t))}function un(e,t){return e.pipe(Mt(""+Ur,""+xr),Je(e=>e.payload.evt===t))}function ln(e,t){return e.pipe(Mt(""+Yr),Je(e=>Array.isArray(t)?t.indexOf(e.payload.type)>-1:e.payload.type===t))}var pn="undefined"!=typeof window&&window,hn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_n="undefined"!=typeof global&&global,fn=pn||_n||hn;function vn(e,t){return void 0===t&&(t=null),new In({method:"GET",url:e,headers:t})}function En(e,t,r){return new In({method:"POST",url:e,body:t,headers:r})}function yn(e,t){return new In({method:"DELETE",url:e,headers:t})}function gn(e,t,r){return new In({method:"PUT",url:e,body:t,headers:r})}function Sn(e,t,r){return new In({method:"PATCH",url:e,body:t,headers:r})}!function(){if(!fn)throw new Error("RxJS could not find any global context (window, self, global)")}();var bn=Ae((function(e,t){return e.response}));function mn(e,t){return bn(new In({method:"GET",url:e,responseType:"json",headers:t}))}var In=function(e){function t(t){var r=e.call(this)||this,n={async:!0,createXHR:function(){return this.crossDomain?function(){if(fn.XMLHttpRequest)return new fn.XMLHttpRequest;if(fn.XDomainRequest)return new fn.XDomainRequest;throw new Error("CORS is not supported by your browser")}():function(){if(fn.XMLHttpRequest)return new fn.XMLHttpRequest;var e=void 0;try{for(var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;r<3;r++)try{if(e=t[r],new fn.ActiveXObject(e))break}catch(e){}return new fn.ActiveXObject(e)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}}()},crossDomain:!0,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof t)n.url=t;else for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o]);return r.request=n,r}var r;return m(t,e),t.prototype._subscribe=function(e){return new An(e,this.request)},t.create=((r=function(e){return new t(e)}).get=vn,r.post=En,r.delete=yn,r.put=gn,r.patch=Sn,r.getJSON=mn,r),t}(x),An=function(e){function t(t,r){var n=e.call(this,t)||this;n.request=r,n.done=!1;var o=r.headers=r.headers||{};return r.crossDomain||n.getHeader(o,"X-Requested-With")||(o["X-Requested-With"]="XMLHttpRequest"),n.getHeader(o,"Content-Type")||fn.FormData&&r.body instanceof fn.FormData||void 0===r.body||(o["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),r.body=n.serializeBody(r.body,n.getHeader(r.headers,"Content-Type")),n.send(),n}return m(t,e),t.prototype.next=function(e){this.done=!0;var t,r=this.xhr,n=this.request,o=this.destination;try{t=new On(e,r,n)}catch(e){return o.error(e)}o.next(t)},t.prototype.send=function(){var e=this.request,t=this.request,r=t.user,n=t.method,o=t.url,i=t.async,s=t.password,a=t.headers,c=t.body;try{var d=this.xhr=e.createXHR();this.setupEvents(d,e),r?d.open(n,o,i,r,s):d.open(n,o,i),i&&(d.timeout=e.timeout,d.responseType=e.responseType),"withCredentials"in d&&(d.withCredentials=!!e.withCredentials),this.setHeaders(d,a),c?d.send(c):d.send()}catch(e){this.error(e)}},t.prototype.serializeBody=function(e,t){if(!e||"string"==typeof e)return e;if(fn.FormData&&e instanceof fn.FormData)return e;if(t){var r=t.indexOf(";");-1!==r&&(t=t.substring(0,r))}switch(t){case"application/x-www-form-urlencoded":return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&");case"application/json":return JSON.stringify(e);default:return e}},t.prototype.setHeaders=function(e,t){for(var r in t)t.hasOwnProperty(r)&&e.setRequestHeader(r,t[r])},t.prototype.getHeader=function(e,t){for(var r in e)if(r.toLowerCase()===t.toLowerCase())return e[r]},t.prototype.setupEvents=function(e,t){var r,n,o=t.progressSubscriber;function i(e){var t,r=i,n=r.subscriber,o=r.progressSubscriber,s=r.request;o&&o.error(e);try{t=new wn(this,s)}catch(e){t=e}n.error(t)}(e.ontimeout=i,i.request=t,i.subscriber=this,i.progressSubscriber=o,e.upload&&"withCredentials"in e)&&(o&&(r=function(e){r.progressSubscriber.next(e)},fn.XDomainRequest?e.onprogress=r:e.upload.onprogress=r,r.progressSubscriber=o),n=function(e){var t,r=n,o=r.progressSubscriber,i=r.subscriber,s=r.request;o&&o.error(e);try{t=new Cn("ajax error",this,s)}catch(e){t=e}i.error(t)},e.onerror=n,n.request=t,n.subscriber=this,n.progressSubscriber=o);function s(e){}function a(e){var t=a,r=t.subscriber,n=t.progressSubscriber,o=t.request;if(4===this.readyState){var i=1223===this.status?204:this.status,s="text"===this.responseType?this.response||this.responseText:this.response;if(0===i&&(i=s?200:0),i<400)n&&n.complete(),r.next(e),r.complete();else{n&&n.error(e);var c=void 0;try{c=new Cn("ajax error "+i,this,o)}catch(e){c=e}r.error(c)}}}e.onreadystatechange=s,s.subscriber=this,s.progressSubscriber=o,s.request=t,e.onload=a,a.subscriber=this,a.progressSubscriber=o,a.request=t},t.prototype.unsubscribe=function(){var t=this.done,r=this.xhr;!t&&r&&4!==r.readyState&&"function"==typeof r.abort&&r.abort(),e.prototype.unsubscribe.call(this)},t}(k),On=function(e,t,r){this.originalEvent=e,this.xhr=t,this.request=r,this.status=t.status,this.responseType=t.responseType||r.responseType,this.response=Tn(this.responseType,t)},Cn=function(){function e(e,t,r){return Error.call(this),this.message=e,this.name="AjaxError",this.xhr=t,this.request=r,this.status=t.status,this.responseType=t.responseType||r.responseType,this.response=Tn(this.responseType,t),this}return e.prototype=Object.create(Error.prototype),e}();function Tn(e,t){switch(e){case"json":return function(e){return"response"in e?e.responseType?e.response:JSON.parse(e.response||e.responseText||"null"):JSON.parse(e.responseText||"null")}(t);case"xml":return t.responseXML;case"text":default:return"response"in t?t.response:t.responseText}}var wn=function(e,t){return Cn.call(this,"ajax timeout",e,t),this.name="AjaxTimeoutError",this},Rn=In.create;const Nn={default:{"apac.errorcodes_success":"Successfully joined the meeting.","apac.errorcodes_fail":"Fail to join the meeting.","apac.errorcodes_not_init":"Meeting not initialized.","apac.errorcodes_register":"This webinar requires registration.","apac.errorcodes_email_require":"Email is missing to attend webinar.","apac.errorcodes_not_exist":"Meeting does not exist.","apac.errorcodes_not_host":"You are not the meeting host.","apac.errorcodes_wrong_pass":"Meeting Password wrong.","apac.errorcodes_not_start":"Meeting has not started","apac.errorcodes_re_connect":"Meeting is reconnecting.","apac.errorcodes_be_removed":"Be removed.","apac.errorcodes_disconnect":"Meeting has been disconnected.","apac.errorcodes_denied_register_with_panelist":"Denied register use panelist email.","apac.errorcodes_web_has_in_progress":"Already has other meetings in progress.","apac.errorcodes_web_require_email":"User email is required.","apac.errorcodes_web_not_support_webinar_pac":"Not support webinar and personal audio conference","apac.errorcodes_web_host_not_exit":"The meeting host does not exist.","apac.errorcodes_web_not_support_webclient":"Not support start or join meeting from web.","apac.errorcodes_web_should_support_webinar_with_latest_version":"The current sdk version doesn't support webinar, please upgrade to the latest version.","apac.errorcodes_web_invalid_id":"Invalid meeting ID.","apac.errorcodes_web_not_support_registration_webinar":"Not support registration webinar","apac.errorcodes_web_not_support_tsp":"Not support start or join meeting from web, when you chose TSP as his audio in a meeting.","apac.errorcodes_web_not_allow_start_webinar_from_web":"Not allow to start webinar from web.","apac.errorcodes_pac_api_wrong":"The accounts API Key is not valid.","apac.errorcodes_pac_signature_expired":"The signature has expired.","apac.errorcodes_pac_mn_wrong":"The meeting number is wrong.","apac.errorcodes_pac_mn_not_fount":"The meeting number is not found.","apac.errorcodes_pac_role_error":"Incorrect role.","apac.errorcodes_pac_host_not_found":"The meeting host is not found.","apac.errorcodes_pac_api_disabled":"The accounts API Key is deactivated.","apac.errorcodes_pac_cant_host_other_mn":"Cannot not host another meeting concurrently.","apac.errorcodes_pac_invalid_signature":"Signature is invalid.","apac.errorcodes_pac_no_permission":"No permission.","apac.errorcodes_need_use_zoom_desktop_or_mobile":"Unable join from browser, please join using the Zoom desktop client or mobile app.","apac.errorcodes_rwc_empty":"Could not get a response from the web server.","apac.errorcodes_rwc_error":"Could not connect to Web Server error.","apac.errorcodes_frequent_call":"You have reached the API limit for this call.","apac.errorcodes_frequent_join":"You be limit by zoom, need to check recaptcha.","apac.errorcodes_offline":"The service is temporarily offline.","apac.errorcodes_wasm_fail":"Download wasm files error, please check your network and firewall.","apac.errorcodes_denied_email":"Email is blocked by Administrator.","apac.errorcodes_tk_expired":"Token has expired.","apac.invalid_parameter":"Invalid Parameter","apac.errorcodes_login_required":"Require login","apac.errorcodes_upgrade":"Your sdk version needs to be {0} or higher to join the meeting"},"de-DE":{"apac.errorcodes_web_has_in_progress":"Hat bereits andere laufende Meetings.","apac.errorcodes_web_require_email":"E-Mail-Adresse von Benutzer erforderlich.","apac.errorcodes_web_not_support_webinar_pac":"Unterstützen Webinar und persönliche Audiokonferenz nicht","apac.errorcodes_web_host_not_exit":"Der Meeting-Host ist nicht vorhanden.","apac.errorcodes_web_not_support_webclient":"Start nicht unterstützt bzw. starten Sie das Meeting aus dem Web.","apac.errorcodes_web_should_support_webinar_with_latest_version":"Ihre aktuelle SDK-Version unterstützt keine Webinare. Aktualisieren Sie bitte auf die neueste Version.","apac.errorcodes_web_invalid_id":"Ungültige Meeting-ID.","apac.errorcodes_web_not_support_registration_webinar":"Registrierung für Webinar wird nicht unterstützt","apac.errorcodes_web_not_support_tsp":"Sie unterstützen nicht den Start oder die Teilnahme an einem Meeting aus dem Web, wenn Sie den Telefonieanbieter als seinen Audiobeitrag in einem Meeting gewählt haben.","apac.errorcodes_web_not_allow_start_webinar_from_web":"Das Starten eines Webinars vom Internet aus ist nicht zulässig.","apac.errorcodes_need_use_zoom_desktop_or_mobile":"Unfähig beitreten aus Browser, verbinden Sie bitte den Zoom-Desktop-Client oder mobile App."},"es-ES":{"apac.errorcodes_web_has_in_progress":"Ya posee otras reuniones en curso.","apac.errorcodes_web_require_email":"Se requiere correo electrónico del usuario.","apac.errorcodes_web_not_support_webinar_pac":"No soporta seminario web o conferencia de audio personal","apac.errorcodes_web_host_not_exit":"El anfitrión de la reunión no existe.","apac.errorcodes_web_not_support_webclient":"No se puede iniciar ni entrar a una reunión desde la web.","apac.errorcodes_web_should_support_webinar_with_latest_version":"La versión actual de sdk no es compatible con el seminario web, actualice a la última versión.","apac.errorcodes_web_invalid_id":"ID de reunión no válida.","apac.errorcodes_web_not_support_registration_webinar":"Seminario web que no es compatible con la inscripción","apac.errorcodes_web_not_support_tsp":"Cuando eligió el proveedor de servicios telefónicos como audio en una reunión, no se puede iniciar o unirse una reunión desde el sitio web.","apac.errorcodes_web_not_allow_start_webinar_from_web":"No se permite comenzar un seminario web desde la web.","apac.errorcodes_need_use_zoom_desktop_or_mobile":"No puede unirse desde el navegador, por favor unirse usando el cliente de escritorio Zoom o aplicación móvil."},"fr-FR":{"apac.errorcodes_web_has_in_progress":"Il a déjà d’autres réunions en cours.","apac.errorcodes_web_require_email":"Le courriel de l’utilisateur est requis.","apac.errorcodes_web_not_support_webinar_pac":"Ne prend pas en charge le webinaire ni la conférence audio personnelle","apac.errorcodes_web_host_not_exit":"L’animateur de la réunion n’existe pas.","apac.errorcodes_web_not_support_webclient":"Ne supporte pas démarrer ou rejoindre une réunion à partir du web.","apac.errorcodes_web_should_support_webinar_with_latest_version":"La version actuelle du SDK ne prend pas en charge le webinaire, veuillez passer à la dernière version.","apac.errorcodes_web_invalid_id":"Nº de réunion non valide.","apac.errorcodes_web_not_support_registration_webinar":"Ne prend pas en charge le webinaire d’inscription","apac.errorcodes_web_not_support_tsp":"Ne peut pas démarrer ou rejoindre la réunion depuis Internet, lorsque vous sélectionnez le fournisseur de service en téléphonie comma sa sortie audio dans une réunion.","apac.errorcodes_web_not_allow_start_webinar_from_web":"Ne pas permettre de démarrer des webinaires à partir du Web.","apac.errorcodes_need_use_zoom_desktop_or_mobile":"Impossible de rejoindre le navigateur, s'il vous plaît rejoindre en utilisant le client de bureau Zoom ou une application mobile."},"jp-JP":{"apac.errorcodes_web_has_in_progress":"すでに他のミーティングが始まっています。","apac.errorcodes_web_require_email":"ユーザーメールは必要です。","apac.errorcodes_web_not_support_webinar_pac":"ウェビナーとパーソナル音声会議がサポートされていません","apac.errorcodes_web_host_not_exit":"このミーティングのホストは存在しません。","apac.errorcodes_web_not_support_webclient":"ウェブからのミーティング開始/参加はサポートされません。","apac.errorcodes_web_should_support_webinar_with_latest_version":"現在のSDKバージョンはウェビナーをサポートしていません。最新バージョンにアップグレードしてください。","apac.errorcodes_web_invalid_id":"無効なミーティングIDです。","apac.errorcodes_web_not_support_registration_webinar":"登録ウェビナー非対応","apac.errorcodes_web_not_support_tsp":"ミーティングのオーディオにテレフォニーサービスプロバイダを選択した場合、ウェブからミーティングを開始したり、ミーティングに参加したりできません。","apac.errorcodes_web_not_allow_start_webinar_from_web":"ウェビナーをウェブから開始できません。","apac.errorcodes_need_use_zoom_desktop_or_mobile":"できませんが、ブラウザから参加し、ズームデスクトップクライアントやモバイルアプリを使用して参加してください。"},"pt-PT":{"apac.errorcodes_web_has_in_progress":"Já há outras reuniões em andamento.","apac.errorcodes_web_require_email":"O e-mail do usuário é obrigatório.","apac.errorcodes_web_not_support_webinar_pac":"Não há suporte para webinar e audioconferência pessoal","apac.errorcodes_web_host_not_exit":"O anfitrião da reunião não existe.","apac.errorcodes_web_not_support_webclient":"Não há suporte para iniciar ou entrar na reunião pela web.","apac.errorcodes_web_should_support_webinar_with_latest_version":"A versão sdk atual não oferece suporte para webinar. Atualize para a versão mais recente.","apac.errorcodes_web_invalid_id":"ID da reunião inválido.","apac.errorcodes_web_not_support_registration_webinar":"O registro do webinar não é compatível","apac.errorcodes_web_not_support_tsp":"Não é compatível iniciar ou ingressar na reunião pela web ao escolher o áudio do provedor de serviços de telefonia em uma reunião.","apac.errorcodes_web_not_allow_start_webinar_from_web":"Não é permitido iniciar o webinar na web.","apac.errorcodes_need_use_zoom_desktop_or_mobile":"Incapaz juntar-se a partir do navegador, por favor, junte-se usando o cliente de desktop Zoom ou aplicativo móvel."},"ru-RU":{"apac.errorcodes_web_has_in_progress":"Уже участвует в других конференциях.","apac.errorcodes_web_require_email":"Требуется почта пользователя.","apac.errorcodes_web_not_support_webinar_pac":"Не поддерживает веб-семинар и персональную аудиоконференцию","apac.errorcodes_web_host_not_exit":"Организатор конференции не существует.","apac.errorcodes_web_not_support_webclient":"Запуск или вход в конференцию через сеть не поддерживается.","apac.errorcodes_web_should_support_webinar_with_latest_version":"Текущая версия пакета SDK не поддерживает вебинары. Выполните обновление до последней версии.","apac.errorcodes_web_invalid_id":"Неверный идентификатор конференции.","apac.errorcodes_web_not_support_registration_webinar":"Регистрация на вебинар не поддерживается","apac.errorcodes_web_not_support_tsp":"Если для аудиоконференции используется поставщик службы телефонии, такую конференцию невозможно начать или подключиться к ней через браузер.","apac.errorcodes_web_not_allow_start_webinar_from_web":"Запуск веб-семинара через Интернет запрещен.","apac.errorcodes_need_use_zoom_desktop_or_mobile":"Невозможно присоединиться из браузера, пожалуйста, присоединяйтесь с помощью настольного клиента Увеличить или мобильное приложение."},"zh-CN":{"apac.errorcodes_web_has_in_progress":"已经有另一场会议正在进行。","apac.errorcodes_web_require_email":"必须提供用户电子邮件地址。","apac.errorcodes_web_not_support_webinar_pac":"非支持的网络研讨会和个人音频会议","apac.errorcodes_web_host_not_exit":"会议主持人不存在。","apac.errorcodes_web_not_support_webclient":"不支持从 Web 开始或加入会议。","apac.errorcodes_web_should_support_webinar_with_latest_version":"当前 sdk 版本不支持网络研讨会，请升级到最新版本。","apac.errorcodes_web_invalid_id":"无效的会议ID。","apac.errorcodes_web_not_support_registration_webinar":"不支持注册网络研讨会","apac.errorcodes_web_not_support_tsp":"如果选择电话语音服务提供商作为会议音频，则不支持通过网络开始或加入会议。","apac.errorcodes_web_not_allow_start_webinar_from_web":"不允许通过网络开始网络研讨会","apac.errorcodes_need_use_zoom_desktop_or_mobile":"从浏览器无法加入，请加入使用缩放桌面客户端或移动应用程序。"},"zh-TW":{"apac.errorcodes_web_has_in_progress":"已有其他會議正在進行中。","apac.errorcodes_web_require_email":"必須提供使用者電子郵件地址。","apac.errorcodes_web_not_support_webinar_pac":"不支援網路研討會和個人音訊會議","apac.errorcodes_web_host_not_exit":"會議主持人不存在。","apac.errorcodes_web_not_support_webclient":"不支援從 Web 開始或加入會議。","apac.errorcodes_web_should_support_webinar_with_latest_version":"目前的 SDK 版本不支援網路研討會，請升級至最新版本。","apac.errorcodes_web_invalid_id":"無效的會議 ID 。","apac.errorcodes_web_not_support_registration_webinar":"不支援註冊網路研討會","apac.errorcodes_web_not_support_tsp":"當您選擇電話語音服務供應商做為會議語音使用時，不支援經由網頁召開或加入會議。","apac.errorcodes_web_not_allow_start_webinar_from_web":"不允許從 Web 開始網路研討會。","apac.errorcodes_need_use_zoom_desktop_or_mobile":"從瀏覽器無法加入，請加入使用縮放桌面客戶端或移動應用程序。"},"ko-KO":{"apac.errorcodes_web_has_in_progress":"이미 다른 회의가 진행 중입니다.","apac.errorcodes_web_require_email":"사용자 이메일이 필요합니다.","apac.errorcodes_web_not_support_webinar_pac":"웨비나 및 개인 오디오 전화 회의를 지원하지 않음","apac.errorcodes_web_host_not_exit":"회의 호스트가 없습니다.","apac.errorcodes_web_not_support_webclient":"웹에서 회의를 시작하거나 참여하는 것은 지원하지 않습니다.","apac.errorcodes_web_should_support_webinar_with_latest_version":"현재 SDK 버전은 웨비나를 지원하지 않습니다. 최신 버전으로 업그레이드하십시오.","apac.errorcodes_web_invalid_id":"회의 ID가 잘못되었습니다.","apac.errorcodes_web_not_support_registration_webinar":"등록 웨비나를 지원하지 않음","apac.errorcodes_web_not_support_tsp":"회의에서 Telephony Service Provider를 오디오로 선택한 경우 웹에서 회의를 시작하거나 회의에 참가할 수 없습니다.","apac.errorcodes_web_not_allow_start_webinar_from_web":"웹에서 웨비나를 시작할 수 없습니다.","apac.errorcodes_need_use_zoom_desktop_or_mobile":"수 없습니다 브라우저에서 조인 줌 데스크톱 클라이언트 또는 모바일 앱을 사용하여 가입하시기 바랍니다."},"vi-VN":{"apac.errorcodes_web_has_in_progress":"Đã có cuộc họp khác đang diễn ra.","apac.errorcodes_web_require_email":"Email người dùng là bắt buộc.","apac.errorcodes_web_not_support_webinar_pac":"Không hỗ trợ hội thảovideo và hội nghị âm thanh cá nhân","apac.errorcodes_web_host_not_exit":"Người chủ trì cuộc họp không tồn tại.","apac.errorcodes_web_not_support_webclient":"Không hỗ trợ bắt đầu hoặc vào cuộc họp từ web.","apac.errorcodes_web_should_support_webinar_with_latest_version":"Phiên bản sdk hiện tại không hỗ trợ hội thảo trực tuyến, hãy nâng cấp lên phiên bản mới nhất.","apac.errorcodes_web_invalid_id":"ID cuộc họp không hợp lệ.","apac.errorcodes_web_not_support_registration_webinar":"Không hỗ trợ đăng ký hội thảo trực tuyến","apac.errorcodes_web_not_support_tsp":"Không hỗ trợ bắt đầu hoặc vào cuộc họp từ web, khi bạn chọn Nhà cung cấp dịch vụ điện thoại làm nguồn âm thanh trong cuộc họp.","apac.errorcodes_web_not_allow_start_webinar_from_web":"Không cho phép bắt đầu hội thảo trực tuyến từ web.","apac.errorcodes_need_use_zoom_desktop_or_mobile":"Không thể tham gia từ trình duyệt, hãy tham gia bằng cách sử dụng client desktop Phóng to hoặc ứng dụng di động."},"it-IT":{"apac.errorcodes_web_has_in_progress":"Sta partecipando a un’altra riunione in corso.","apac.errorcodes_web_require_email":"È richiesta l’email dell’utente.","apac.errorcodes_web_not_support_webinar_pac":"Non supporta webinar e conferenza audio personale","apac.errorcodes_web_host_not_exit":"L’ospite della riunione non esiste.","apac.errorcodes_web_not_support_webclient":"Non supporta l’avvio o la partecipazione alla riunione dal Web.","apac.errorcodes_web_should_support_webinar_with_latest_version":"La versione sdk corrente non supporta i webinar. Effettua l’aggiornamento alla versione più recente.","apac.errorcodes_web_invalid_id":"ID riunione non valido.","apac.errorcodes_web_not_support_registration_webinar":"Non supporta webinar con iscrizione","apac.errorcodes_web_not_support_tsp":"In caso che hai selezionato il fornitore di servizio telefonico come l’audio in riunione, non supporta l’avvio o la partecipazione alla riunione dal Web.","apac.errorcodes_web_not_allow_start_webinar_from_web":"Non è consentito avviare il webinar dal Web.","apac.errorcodes_need_use_zoom_desktop_or_mobile":"Impossibile unirsi dal browser, si prega di unirsi con il client desktop Zoom o app mobile."}},Dn=Nn.default;let Pn,Mn,kn;function Un(e,t){return t in Dn?Dn[t]:e}!function(e){e[e.CONF_SUCCESS=0]="CONF_SUCCESS",e[e.CONF_FAIL_MEETING_OVER=6]="CONF_FAIL_MEETING_OVER",e[e.CONF_FAIL_CONF_USER_FULL=9]="CONF_FAIL_CONF_USER_FULL",e[e.CONF_FAIL_CONFLOCKED=12]="CONF_FAIL_CONFLOCKED",e[e.CONF_FAIL_WEBINAR_DENIED_EMAIL=3033]="CONF_FAIL_WEBINAR_DENIED_EMAIL",e[e.CONF_FAIL_MEETING_HAS_CLOSED=103003]="CONF_FAIL_MEETING_HAS_CLOSED",e[e.CONF_FAIL_HAS_BEEN_REMOVED=103039]="CONF_FAIL_HAS_BEEN_REMOVED",e[e.CONF_RESULT_MMR_IB_REJECT=103043]="CONF_RESULT_MMR_IB_REJECT",e[e.CONF_FAIL_RESULT_MMR_CONF_PARTICIPANT_EXISTS=103044]="CONF_FAIL_RESULT_MMR_CONF_PARTICIPANT_EXISTS"}(Pn||(Pn={})),function(e){e[e.LEAVEREASON_RECONNECT=5]="LEAVEREASON_RECONNECT",e[e.LEAVEREASON_KICKEDBYHOST=7]="LEAVEREASON_KICKEDBYHOST",e[e.LEAVEREASON_ENDBYHOST=8]="LEAVEREASON_ENDBYHOST",e[e.LEAVEREASON_ENDBYHOSTSTARTANOTHERMEETING=9]="LEAVEREASON_ENDBYHOSTSTARTANOTHERMEETING"}(Mn||(Mn={})),function(e){e[e.LEAVESUBREASON_WAITINGROOMFAILOVER=1]="LEAVESUBREASON_WAITINGROOMFAILOVER"}(kn||(kn={}));const Vn={ANOTHER_MEETING_RUNNING:3e3,ERROR_NOT_EXIST:3001,ERROR_NOT_HOST:3003,WRONG_MEETING_PASSWORD:3004,EMAIL_REQUIRED:3005,MEETING_NOT_START:3008,BE_REMOVED:3009,ERROR_WEBINAR_ENFORCE_LOGIN:3034,NEED_REAL_NAME:3082,REGISTER_REQUIRED:3099,SSO_LOGIN_WINDOW:6024,ZOOM_LOGIN_WINDOW:3051,ZOOM_SPECIFIC_LOGIN_WINDOW:3052,LOGIN_REQUIRED:3100,RE_CONNECTING:4e3,DISCONNECT:4001,INVALID_PARAMETER:4003,DENIED_REGISTER_WITH_PANELIST:3032,SERVICE_OFFLINE:403,RWC_EMPTY:3621,RWC_ERROR:3622,FREQUENT_CALL:3633,FREQUENT_JOIN:3634,WASM_FAIL:3635,COMMON_ERROR:200,COMMON_SUCCESS:0,UPGRADE:1e3},Ln={SUCCESS:"apac.errorcodes_success",FAIL:"apac.errorcodes_fail",MEETING_NOT_INIT:"apac.errorcodes_not_init",REGISTER_REQUIRED:"apac.errorcodes_register",LOGIN_REQUIRED:"apac.errorcodes_login_required",SSO_LOGIN_WINDOW:"apac.errorcodes_login_required",ZOOM_LOGIN_WINDOW:"apac.errorcodes_login_required",ZOOM_SPECIFIC_LOGIN_WINDOW:"apac.errorcodes_login_required",EMAIL_REQUIRED:"apac.errorcodes_email_require",ERROR_NOT_EXIST:"apac.errorcodes_not_exist",ERROR_NOT_HOST:"apac.errorcodes_not_host",WRONG_MEETING_PASSWORD:"apac.errorcodes_wrong_pass",ANOTHER_MEETING_RUNNING:"apac.errorcodes_meeting_has_in_progress",MEETING_NOT_START:"apac.errorcodes_not_start",INVALID_PARAMETER:"apac.invalid_parameter",RE_CONNECTING:"apac.errorcodes_re_connect",BE_REMOVED:"apac.errorcodes_be_removed",ERROR_WEBINAR_ENFORCE_LOGIN:"apac.errorcodes_webinar_enforce_login",DISCONNECT:"apac.errorcodes_disconnect",DENIED_REGISTER_WITH_PANELIST:"apac.errorcodes_denied_register_with_panelist",RWC_EMPTY:"apac.errorcodes_rwc_empty",RWC_ERROR:"apac.errorcodes_rwc_error",FREQUENT_CALL:"apac.errorcodes_frequent_call",FREQUENT_JOIN:"apac.errorcodes_frequent_join",WASM_FAIL:"apac.errorcodes_wasm_fail",UPGRADE:"apac.errorcodes_upgrade"},jn={3e3:{"apac.errorcodes_web_has_in_progress":3e3,"apac.errorcodes_web_require_email":3005,"apac.errorcodes_web_not_support_webinar_pac":3701,"apac.errorcodes_web_host_not_exit":3702,"apac.errorcodes_web_not_support_webclient":3603,"apac.errorcodes_web_should_support_webinar_with_latest_version":3604,"apac.errorcodes_web_invalid_id":3703,"apac.errorcodes_web_not_support_registration_webinar":3606,"apac.errorcodes_web_not_support_tsp":3608,"apac.errorcodes_web_not_allow_start_webinar_from_web":3609,"apac.errorcodes_need_use_zoom_desktop_or_mobile":3611},3001:{"apac.errorcodes_not_exist":3610},200:{"apac.errorcodes_pac_api_wrong":3704,"apac.errorcodes_pac_signature_expired":3705,"apac.errorcodes_pac_mn_wrong":3706,"apac.errorcodes_pac_mn_not_fount":3707,"apac.errorcodes_pac_role_error":3708,"apac.errorcodes_pac_host_not_found":3709,"apac.errorcodes_pac_api_disabled":3710,"apac.errorcodes_pac_cant_host_other_mn":3711,"apac.errorcodes_pac_invalid_signature":3712,"apac.errorcodes_pac_no_permission":3713},3099:{"apac.errorcodes_register":3099},3100:{"apac.errorcodes_login_required":3100},3003:{"apac.errorcodes_not_host":3003},3004:{"apac.errorcodes_wrong_pass":3004},3008:{"apac.errorcodes_not_start":3008},3009:{"apac.errorcodes_be_removed":3009},3501:{"apac.errorcodes_login_required":3082},3502:{"apac.errorcodes_login_required":3082},3032:{"apac.errorcodes_denied_register_with_panelist":3100},3033:{"apac.errorcodes_denied_email":3620},3059:{"apac.errorcodes_not_support_simulive":3630},3082:{"apac.errorcodes_real_name":3082},403:{"apac.errorcodes_offline":403},404:{"apac.errorcodes_offline":403},4003:{"apac.invalid_parameter":4003},124:{"apac.errorcodes_tk_expired":3610}},Hn={3004:{"apac.errorcodes_pac_mn_wrong":3714},3005:{"apac.errorcodes_web_has_in_progress":3e3},3008:{"apac.errorcodes_not_start":3008},3033:{"apac.errorcodes_denied_email":3620},1005:{"apac.errorcodes_denied_email":3620},103039:{"apac.errorcodes_be_removed":3009},6:{"meeting ended":4004},9:{"meeting is at capacity":4005},12:{"meeting locked":4006},103043:{"reject for information barriers":4007},103044:{"participant exist":4008}};function xn(e,t){return Object.keys(e).find(r=>e[r]===t)}let Fn;function Gn(e,t){const{key:r,value:n}=function(e,t){let r=!1;if(-1===e)return{key:"apac.errorcodes_offline",value:403};if(3e3===e){const n=["en-US","de-DE","es-ES","en-US","fr-FR","jp-JP","pt-PT","ru-RU","zh-CN","zh-TW","ko_KO","vi-VN","it-IT"];let o={};if(Fn)o=Fn;else{const e=Object.keys(jn[3e3]);n.forEach(t=>{const r=function(e){return"en-US"===e&&(e="default"),Nn[e]||Nn.default}(t);o[t]={},e.forEach(e=>{o[t][e]=r[e]})}),Fn=o}return n.forEach(n=>{if(r)return;const i=xn(o[n],t);i&&(r={key:i,value:jn[e][i]})}),r||(r={key:"apac.errorcodes_fail",value:200}),r}if(200===e){const n=xn({"apac.errorcodes_pac_api_wrong":"The api key is wrong.","apac.errorcodes_pac_signature_expired":"The signature has expired.","apac.errorcodes_pac_mn_wrong":"The meeting number is wrong.","apac.errorcodes_pac_mn_not_fount":"The meeting number is not found.","apac.errorcodes_pac_role_error":"The role is not applicable.","apac.errorcodes_pac_host_not_found":"The meeting host is not found.","apac.errorcodes_pac_api_disabled":"The account don't enable API.","apac.errorcodes_pac_cant_host_other_mn":"Can not be host in other account's meeting.","apac.errorcodes_pac_invalid_signature":"Invalid signature.","apac.errorcodes_pac_no_permission":"No permission"},t);return r=n?{key:n,value:jn[e][n]}:{key:"apac.errorcodes_fail",value:200},r}if(void 0!==jn[e]){const t=jn[e],n=Object.keys(t)[0];r={key:n,value:t[n]}}if(r)return r;const n=xn(Vn,e),o=Ln[n];return o?{key:o,value:e}:{key:"apac.errorcodes_fail",value:200}}(e,t),o=Un(r,r);return r!==o?{reason:o,errorCode:n}:{reason:Dn[r],errorCode:n}}function Bn(e){let t=!1;const r="number"==typeof e?e:e.body.res;if(void 0!==Hn[r]){const e=Hn[r],n=Object.keys(e)[0];t={key:n,value:e[n]}}if(t){const{key:r,value:n}=t,o=Un(r,r);return r!==o?Object.assign({},e,{reason:o,errorCode:n}):Object.assign({},e,{reason:Dn[r],errorCode:n})}const n=Gn(r);return Object.assign({},e,{reason:n.reason,errorCode:n.errorCode})}var Wn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Kn(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},r.exports),r.exports}var qn=Kn((function(e,t){!function(t,r){e.exports=function(t){var r,n=(t=t||{}).Base64,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=function(e){for(var t={},r=0,n=e.length;r<n;r++)t[e.charAt(r)]=r;return t}(o),s=String.fromCharCode,a=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?s(192|t>>>6)+s(128|63&t):s(224|t>>>12&15)+s(128|t>>>6&63)+s(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return s(240|t>>>18&7)+s(128|t>>>12&63)+s(128|t>>>6&63)+s(128|63&t)},c=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,d=function(e){return e.replace(c,a)},u=function(e){var t=[0,2,1][e.length%3],r=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[o.charAt(r>>>18),o.charAt(r>>>12&63),t>=2?"=":o.charAt(r>>>6&63),t>=1?"=":o.charAt(63&r)].join("")},l=t.btoa&&"function"==typeof t.btoa?function(e){return t.btoa(e)}:function(e){if(e.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return e.replace(/[\s\S]{1,3}/g,u)},p=function(e){return l(d(String(e)))},h=function(e){return e.replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,"")},_=function(e,t){return t?h(p(e)):p(e)};t.Uint8Array&&(r=function(e,t){for(var r="",n=0,i=e.length;n<i;n+=3){var s=e[n],a=e[n+1],c=e[n+2],d=s<<16|a<<8|c;r+=o.charAt(d>>>18)+o.charAt(d>>>12&63)+(void 0!==a?o.charAt(d>>>6&63):"=")+(void 0!==c?o.charAt(63&d):"=")}return t?h(r):r});var f,v=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,E=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return s(55296+(t>>>10))+s(56320+(1023&t));case 3:return s((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return s((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},y=function(e){return e.replace(v,E)},g=function(e){var t=e.length,r=t%4,n=(t>0?i[e.charAt(0)]<<18:0)|(t>1?i[e.charAt(1)]<<12:0)|(t>2?i[e.charAt(2)]<<6:0)|(t>3?i[e.charAt(3)]:0),o=[s(n>>>16),s(n>>>8&255),s(255&n)];return o.length-=[0,0,2,1][r],o.join("")},S=t.atob&&"function"==typeof t.atob?function(e){return t.atob(e)}:function(e){return e.replace(/\S{1,4}/g,g)},b=function(e){return S(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},m=function(e){return String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,"")},I=function(e){return function(e){return y(S(e))}(m(e))};t.Uint8Array&&(f=function(e){return Uint8Array.from(b(m(e)),(function(e){return e.charCodeAt(0)}))});if(t.Base64={VERSION:"2.6.3",atob:b,btoa:l,fromBase64:I,toBase64:_,utob:d,encode:_,encodeURI:function(e){return _(e,!0)},btou:y,decode:I,noConflict:function(){var e=t.Base64;return t.Base64=n,e},fromUint8Array:r,toUint8Array:f},"function"==typeof Object.defineProperty){var A=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};t.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",A((function(){return I(this)}))),Object.defineProperty(String.prototype,"toBase64",A((function(e){return _(this,e)}))),Object.defineProperty(String.prototype,"toBase64URI",A((function(){return _(this,!0)})))}}return t.Meteor&&(Base64=t.Base64),e.exports&&(e.exports.Base64=t.Base64),{Base64:t.Base64}}(t)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:Wn)}));function zn(e){return qn.Base64.encode(e,!0)}function Jn(e){return qn.Base64.decode(e)}const Yn={"-":"+",_:"/",".":"="};function Xn(e){const t=e.replace(/[-_.]/g,e=>Yn[e]);return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}const Zn=["bLock","bHoldUponEntry","viewOnly","listenOnlyPhone","bAllowRaiseHand","bAllowAttendeeRename","bBroadcast","bAllowPlayChimeForEnterOrExit","bIbDisableShare","bIbDisableChat","encryptKey","bNoHostTimeOut","bAllowShowCount"],Qn={bChime:"bAllowPlayChimeForEnterOrExit",topic:e=>({meetingTopic:Jn(e)})},$n=rr("GET_MEETING_INFO"),eo=rr("GET_INSTANT_MEETING_INFO"),to=(rr("LOGON_ZOOM_DOMAIN"),rr("VERIFY_ZOOM_RECAPTCHA"),rr("LOGON_THIRD_PARTY_DOMAIN"),rr("PING_RWC_SERVER")),ro=rr("MEETING_FAILOVER"),no=rr("LEAVE_MEETING"),oo=rr("END_MEETING"),{setMeetingInfo:io,setWindownOpen:so,setAppidSignature:ao,setZak:co,setTkMtkguid:uo,setPingRwcTimestamp:lo,setInMeetingInfo:po,setMeetingAttribute:ho,resetMeeting:_o,setIsHost:fo,setIsCohost:vo,setMeetingIsOnHold:Eo,setIsMeetingReset:yo,setAudioVideoBeforeOnHold:go,setCurrentUserAudioBeforeReset:So,setIsCurrentUserMutedBeforeReset:bo,setMeetingStatus:mo,setMeetingRegion:Io,setIsCurrentUserStartVideoBeforeReset:Ao,setJoinMeetingTimeStamp:Oo,setIsEnableQos:Co}=(rr("REGISTER_WEBINAR"),Ir({SET_MEETING_INFO:e=>e,SET_WINDOWN_OPEN:e=>e,SET_APPID_SIGNATURE:e=>e,SET_ZAK:e=>e,SET_TK_MTKGUID:e=>e,SET_PING_RWC_TIMESTAMP:e=>e,SET_IN_MEETING_INFO:e=>e,SET_MEETING_ATTRIBUTE:e=>{if(Zn.some(t=>e&&void 0!==e[t])){let t=e;return Object.keys(Qn).some(t=>void 0!==e[t])&&(t=Object.keys(e).reduce((t,r)=>{const n=Qn[r];return"function"==typeof n?Object.assign(t,n(e[r])):"string"==typeof n?t[n]=e[r]:(t[r],e[r]),t},{})),t}return{}},SET_IS_HOST:e=>e&&e.bHost,SET_IS_COHOST:e=>e&&e.bCoHost,RESET_MEETING:e=>e,SET_MEETING_IS_ON_HOLD:e=>e,SET_IS_MEETING_RESET:e=>e,SET_AUDIO_VIDEO_BEFORE_ON_HOLD:e=>e,SET_CURRENT_USER_AUDIO_BEFORE_RESET:e=>e,SET_IS_CURRENT_USER_MUTED_BEFORE_RESET:e=>e,SET_MEETING_STATUS:e=>e,SET_MEETING_REGION:e=>e,SET_IS_CURRENT_USER_START_VIDEO_BEFORE_RESET:e=>e,SET_JOIN_MEETING_TIME_STAMP:e=>e,SET_IS_ENABLE_QOS:e=>e}));function To(e,t,r){const n=document.createElement("script");n.type="text/javascript",n.readyState?n.onreadystatechange=()=>{"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t())}:(n.onload=()=>{t()},n.onerror=()=>{r()}),n.src=e,"function"==typeof document.body.append?document.getElementsByTagName("head")[0].append(n):document.getElementsByTagName("head")[0].appendChild(n)}let wo,Ro,No,Do,Po,Mo;!function(e){e[e.None=0]="None",e[e.Hand=1]="Hand",e[e.Yes=2]="Yes",e[e.No=3]="No",e[e.Fast=4]="Fast",e[e.Slow=5]="Slow",e[e.Bad=6]="Bad",e[e.Good=7]="Good",e[e.Clap=8]="Clap",e[e.Coffee=9]="Coffee",e[e.Clock=10]="Clock",e[e.Emoji=11]="Emoji"}(wo||(wo={})),function(e){e.LoginSuccess="zoomLoginSuccess",e.LoginFail="zoomLoginFail",e.CaptchaSuccess="captchaSuccess",e.CaptchaFail="captchaFail",e.SSOLoginSuccess="ssoLoginSuccess",e.SSOLoginFail="ssoLoginFail",e.JoinSuccess="joinSuccess",e.RegisterSuccess="registerSuccess"}(Ro||(Ro={})),function(e){e.Failover="failover",e.OnHold="on hold",e.Promote="promote",e.Depromote="depromote",e.JoinBreakoutRoom="join breakout room",e.MoveToBreakoutRoom="move to breakout room",e.BackToMeeting="back to meeting"}(No||(No={})),function(e){e.CDN="CDN",e.Global="Global",e.CN="CN"}(Do||(Do={})),function(e){e.Connected="Connected",e.Reconnecting="Reconnecting",e.Closed="Closed"}(Po||(Po={})),function(e){e.LocalStorage="LocalStorage",e.SessionStorage="SessionStorage",e.Memory="Memory"}(Mo||(Mo={}));const ko=zn("{}");class Uo{constructor(e){this.sessionStorageKey=void 0,this.localStorageKey=void 0,this.sessionCache=void 0,this.localCache=void 0,this.memoryCache=void 0,this.sessionStorageKey=zn("zoom-storage-"+e),this.localStorageKey=zn("zoom-local-storage"),this.memoryCache={},this.sessionCache=JSON.parse(Jn(sessionStorage.getItem(this.sessionStorageKey)||ko)),this.localCache=JSON.parse(Jn(localStorage.getItem(this.localStorageKey)||ko))}static init(e){this.instance=new Uo(e)}static get(e){if(void 0===this.instance)throw new Error("read before initial");return this.instance.getValue(e).value}static set(e,t,r){if(void 0===this.instance)throw new Error("set before initial");return this.instance.setValue(e,t,r)}static remove(e){if(void 0===this.instance)throw new Error("remove before initial");return this.instance.removeValue(e)}static clearSession(){if(void 0===this.instance)throw new Error("clear before initial");return this.instance.memoryCache={},this.instance.sessionCache={},this.instance.localCache={},sessionStorage.removeItem(this.instance.sessionStorageKey)}getValue(e){return this.sessionCache.hasOwnProperty(e)?{value:this.sessionCache[e],type:Mo.SessionStorage}:this.localCache.hasOwnProperty(e)?{value:this.localCache[e],type:Mo.LocalStorage}:{value:this.memoryCache[e],type:Mo.Memory}}setValue(e,t,r){if(!e)throw new Error("key is null");switch(r){case Mo.SessionStorage:{const r=this.sessionCache[e];let n=t;return"function"==typeof t&&(n=t(r)),r!==n&&(this.sessionCache[e]=n,this.flushValue(Mo.SessionStorage)),n}case Mo.LocalStorage:{const r=this.localCache[e];let n=t;return"function"==typeof t&&(n=t(r)),r!==n&&(this.localCache[e]=n,this.flushValue(Mo.LocalStorage)),n}case Mo.Memory:{const r=this.memoryCache[e];let n=t;return"function"==typeof t&&(n=t(r)),this.memoryCache[e]=n,n}default:return null}}removeValue(e){const{type:t}=this.getValue(e);switch(t){case Mo.SessionStorage:delete this.sessionCache[e],this.flushValue(Mo.SessionStorage);break;case Mo.LocalStorage:delete this.localCache[e],this.flushValue(Mo.LocalStorage);break;case Mo.Memory:delete this.memoryCache[e]}}flushValue(e){e===Mo.SessionStorage?sessionStorage.setItem(this.sessionStorageKey,zn(JSON.stringify(this.sessionCache))):e===Mo.LocalStorage&&localStorage.setItem(this.localStorageKey,zn(JSON.stringify(this.localCache)))}}function Vo(){const e=navigator.userAgent;let t,r=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(r[1])?(t=/\brv[ :]+(\d+)/g.exec(e)||[],"IE "+(t[1]||"")):"Chrome"===r[1]&&(t=e.match(/\b(OPR|Edge)\/(\d+)/),t&&t.length)?t.slice(1).join(" ").replace("OPR","Opera"):(r=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,"-?"],(t=e.match(/version\/(\d+)/i))&&r.splice(1,1,t[1]),r.join(""))}function Lo(){const e=navigator.userAgent.toLowerCase();return!/opera|opr\/[\d]+/.test(e)&&/(msie|trident)/.test(e)}function jo(){return"object"==typeof WebAssembly&&"function"==typeof Worker}Uo.instance=void 0;const Ho=()=>"function"==typeof AudioWorklet,xo=()=>Lo(),Fo=()=>!Lo()&&!jo(),Go=()=>/arm/i.test(navigator.userAgent),Bo=()=>/\bCrOS\b/.test(navigator.userAgent),Wo=()=>Bo()&&Go(),Ko=()=>!navigator||!navigator.hardwareConcurrency||Wo()&&navigator.hardwareConcurrency<=4||Bo()&&!Go()&&navigator.hardwareConcurrency<4||/\bCrKey\b/.test(navigator.userAgent)||"function"!=typeof OffscreenCanvas||"function"!=typeof requestAnimationFrame||"function"!=typeof SharedArrayBuffer?1:(Wo()&&navigator.hardwareConcurrency>4||Bo()&&!Go()&&navigator.hardwareConcurrency,9);let qo,zo;!function(e){e.VIDEO_ENCODE="0",e.VIDEO_DECODE="1",e.AUDIO_ENCODE="2",e.AUDIO_DECODE="3",e.SHARING_ENCODE="4",e.SHARING_DECODE="5"}(qo||(qo={})),function(e){e[e.NONE=0]="NONE",e[e.AES_256=1]="AES_256",e[e.AES_GCM=2]="AES_GCM"}(zo||(zo={}));const Jo=Object.freeze({RWG_CHAT:{gcmType:1,sessionType:"RWG_CHAT"},XMPP_CHAT:{gcmType:1,sessionType:"XMPP_CHAT"},CC_MESSAGE:{gcmType:3,sessionType:"CC_MESSAGE"},BO_BROADCAST:{gcmType:1,sessionType:"BO_BROADCAST"}});let Yo,Xo;!function(e){e.WebclientOpt="WEB_CLIENT_OPT",e.WebclientWebinarToken="WEB_CLIENT_WEBINAR_TOKEN",e.WebclientMeetingToken="WEB_CLIENT_MEETING_TOKEN",e.WebclientZak="WEB_CLIENT_ZAK",e.WebclientTk="WEB_CLIENT_TK",e.WebclientIVState="WEB_CLIENT_IV_STATE",e.WebclientIsOnHold="WEB_CLIENT_IS_ON_HOLD",e.WebclientUserId="WEB_CLIENT_USER_ID",e.WebclientParticipantId="WEB_CLIENT_PARTICIPANT_ID",e.WebclientZoomId="WEB_CLIENT_ZOOM_ID",e.WebclientUserName="WEB_CLIENT_USER_NAME",e.WebclientUserEmail="WEB_CLIENT_USER_EMAIL",e.WebclientBreakoutRoomAttendeeStatus="WEB_CLIENT_BO_ATTENDEE_STATUS",e.WebclientBreakoutRoomCommand="WEB_CLIENT_BO_COMMAND"}(Yo||(Yo={})),(Xo||(Xo={})).WebclientDeviceId="WEBCLIENT_DEVICE_ID";const Zo=(window.crypto||window.msCrypto).subtle,Qo=Yo.WebclientIVState,$o=Object.keys(Jo).map(e=>Jo[e].sessionType);class ei{constructor(e,t,r){this.isGCMEnabled=void 0,this.gcmSessionKey=void 0,this.gcmMainSessionKey=void 0,this.zoomId=void 0,this.resetParameters(e,t,r),Uo.set(Qo,{},Mo.SessionStorage)}static init(e,t,r){this.instance?this.instance.resetParameters(e,t,r):this.instance=new ei(e,t,r)}static destroy(){this.instance&&(this.instance=void 0)}resetParameters(e,t,r){this.isGCMEnabled=!(Lo()||!jo())&&r===zo.AES_GCM,this.gcmSessionKey=Xn(t),this.gcmMainSessionKey||(this.gcmMainSessionKey=this.gcmSessionKey),this.zoomId=String(e)}beginCrypto(e,t,r){const n=new Uint32Array(1);n[0]=9,n[0]+=Number(r);const o=new Uint8Array(n.buffer);let i=new Uint8Array(132);const s=Xn(t);return i.set(s,0),i.set(o,s.length),i=i.subarray(0,s.length+4),Zo.importKey("raw",e,{name:"HMAC",hash:"SHA-256"},!0,["sign"]).then(e=>Zo.sign({name:"HMAC"},e,i)).then(e=>Zo.importKey("raw",e,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]))}getNextIV(e){const t=Uo.get(Qo);return void 0===t[e]?(t[e]=0,Uo.set(Qo,t,Mo.SessionStorage)):Uo.set(Qo,t=>d(d({},t),{},{[e]:t[e]+1}),Mo.SessionStorage)}resetIVState(){const e=Uo.get(Qo);if(void 0===e);else{const t=Object.keys(e).filter(e=>$o.indexOf(e)>-1);t.length>0&&(t.forEach(t=>{e[t]+=1e6}),Uo.set(Qo,e,Mo.SessionStorage))}}static resetIV(){if(void 0===this.instance)throw new Error("reset before intialize");this.instance.resetIVState()}static beginEncrypt({text:e,type:t}){const r=new Uint8Array(0);if(this.instance&&this.instance.isGCMEnabled){const n=16,o=this.instance.getNextIV(t.sessionType),i=new ArrayBuffer(16),s=new Uint8Array(i);new DataView(i).setUint32(0,o,!0);let a=null;return a="BO_BROADCAST"===t.sessionType?this.instance.gcmMainSessionKey:this.instance.gcmSessionKey,this.instance.beginCrypto(a,this.instance.zoomId,t.gcmType).then(t=>{const o=(new TextEncoder).encode(e);return Zo.encrypt({name:"AES-GCM",iv:s,additionalData:r,tagLength:8*n},t,o)}).then(e=>{const t=1+s.byteLength+2+r.byteLength+4+e.byteLength,o=new ArrayBuffer(t);new Uint8Array(o)[0]=s.length,new Uint8Array(o,1,s.byteLength).set(s),new DataView(o).setUint16(1+s.byteLength,r.length,!0),new Uint8Array(o,3+s.byteLength).set(r),new DataView(o).setUint32(1+s.byteLength+2+r.byteLength,e.byteLength-n,!0),new Uint8Array(o,1+s.byteLength+2+r.byteLength+4).set(new Uint8Array(e));const i=new Uint8Array(o).reduce((e,t)=>e+String.fromCharCode(t),"");return window.btoa(i).replace(/_/g,"/").replace(/-/g,"+").replace(/\=/g,"")})}return Promise.resolve(zn(e))}static beginDecrypt({decryptedText:e,type:t,zoomId:r}){if(this.instance&&this.instance.isGCMEnabled){const n=function(e){let t;const r=e.length,n=new Array(r);for(t=0;t<r;++t)n[t]=255&e.charCodeAt(t);return new Uint8Array(n)}(atob(e.replace(/_/g,"/").replace(/-/g,"+"))),o=n[0],i=n.slice(1,o+1),s=n.slice(1+o,3+o),a=new DataView(s.buffer).getUint16(0,!0),c=n.slice(1+o+2,1+o+2+a),d=n.slice(1+o+2+a,1+o+2+a+4),u=new DataView(d.buffer).getUint32(0,!0),l=n.slice(1+o+2+a+4,1+o+2+a+4+u),p=n.slice(1+o+2+a+4+u);let h=null;return h="BO_BROADCAST"===t.sessionType?this.instance.gcmMainSessionKey:this.instance.gcmSessionKey,this.instance.beginCrypto(h,r,t.gcmType).then(e=>{const t=function(e,t){e=new Uint8Array(e),t=new Uint8Array(t);const r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r}(l,p);return Zo.decrypt({name:"AES-GCM",iv:i,additionalData:c,tagLength:8*p.length},e,t.buffer)}).then(e=>({message:(new TextDecoder).decode(e),iv:i,aad:c})).catch(e=>({message:"[This is an encrypted message]",iv:i,aad:c}))}{const t=new TextDecoder("utf-8");return Promise.resolve({message:t.decode(Xn(e))})}}}let ti;ei.instance=void 0,function(e){e.Open="open",e.Message="message",e.Error="error",e.Close="close"}(ti||(ti={}));class ri{constructor(){this.eventHandlers=void 0,this.websocket=void 0,this.seq=void 0,this.intervalsToBeCleardWhenSocketClose=[],this.heartBeatInterval=6e4,this.eventHandlers=new Map,this.websocket=null,this.seq=1}on(e,t){let r=this.eventHandlers.get(e);r||(r=[]),r.push(t),this.eventHandlers.set(e,r)}off(e,t){const r=this.eventHandlers.get(e);if(r){const n=r.filter(e=>e!==t);this.eventHandlers.set(e,n)}}emit(e,t){const r=this.eventHandlers.get(e);r&&r instanceof Array&&r.slice(0).forEach(e=>{try{e(t)}catch(e){console.error(e)}})}sendMessageToRwg(e){this.seq+=1;const t=this.seq;return this.websocket&&this.websocket.readyState===WebSocket.OPEN&&this.websocket.send(JSON.stringify(Object.assign(e,{seq:t}))),t}connect(e){this.websocket=new WebSocket(e),this.websocket.binaryType="arraybuffer",this.addWebSocketEventListeners()}close(){var e;null===(e=this.websocket)||void 0===e||e.close()}addHeartBeat(){const e=setInterval(()=>{this.sendMessageToRwg({evt:0})},this.heartBeatInterval);this.intervalsToBeCleardWhenSocketClose.push(e)}clearIntervals(){this.intervalsToBeCleardWhenSocketClose.forEach(e=>clearInterval(e))}addWebSocketEventListeners(){this.websocket&&(this.websocket.addEventListener("open",e=>{this.addHeartBeat(),this.emit("open",e)}),this.websocket.addEventListener("message",e=>{this.emit("message",e)}),this.websocket.addEventListener("close",e=>{this.clearIntervals(),this.emit("close",e)}),this.websocket.addEventListener("error",e=>{this.emit("error",e)}))}joinMeeting(e){return{seq:this.sendMessageToRwg({evt:4097,body:{meetingtoken:e}})}}lockMeeting(e){return{seq:this.sendMessageToRwg({evt:4099,body:{bLock:e}})}}endMeeting(){return{seq:this.sendMessageToRwg({evt:4101,body:{}})}}leaveMeeting(){return{seq:this.sendMessageToRwg({evt:4103,body:{}})}}recordMeeting(e){return{seq:this.sendMessageToRwg({evt:4105,body:{bRecord:e}})}}expel(e){return{seq:this.sendMessageToRwg({evt:4107,body:{userId:e}})}}expelAttendee(e){return{seq:this.sendMessageToRwg({evt:4205,body:{jid:e}})}}rename(e,t,r){return{seq:this.sendMessageToRwg({evt:4109,body:{id:e,dn2:t,olddn2:r}})}}assignHost(e,t){return{seq:this.sendMessageToRwg({evt:4111,body:{id:e,bCoHost:t}})}}reclaimHost(e,t=!1){return{seq:this.sendMessageToRwg({evt:4133,body:{id:e,bCoHost:t}})}}revokeCoHost(e){return{seq:this.sendMessageToRwg({evt:4195,body:{id:e}})}}putOnHold(e,t){return{seq:this.sendMessageToRwg({evt:4113,body:{id:e,bHold:t}})}}setMuteOnEntry(e){return{seq:this.sendMessageToRwg({evt:4115,body:{bOn:e}})}}setHoldOnEntry(e){return{seq:this.sendMessageToRwg({evt:4117,body:{bOn:e}})}}inviteCRCDevice(e,t,r=2){return{seq:this.sendMessageToRwg({evt:4119,body:{ip:e,type:t,encrypt:r}})}}cancelInviteCRCDevice(e){return{seq:this.sendMessageToRwg({evt:4121,body:{transID:e}})}}sendCloseCaption(e){return{seq:this.sendMessageToRwg({evt:4125,body:d({},e)})}}allowViewParticipantNumber(e){return{seq:this.sendMessageToRwg({evt:4127,body:{bOn:e}})}}lowerAllHands(){return{seq:this.sendMessageToRwg({evt:4129,body:{}})}}raiseLowerHand(e,t){return{seq:this.sendMessageToRwg({evt:4131,body:{id:e,bOn:t}})}}chat(e,t,r,n){const o={text:e,destNodeID:t};return r&&Object.assign(o,{sn:r}),n&&Object.assign(o,{attendeeNodeID:n}),{seq:this.sendMessageToRwg({evt:4135,body:o})}}assignCC(e,t){return{seq:this.sendMessageToRwg({evt:4137,body:{id:e,bCCEditor:t}})}}setChatPriviledge(e){return{seq:this.sendMessageToRwg({evt:4141,body:{chatPriviledge:e}})}}sendFeedback(e){return{seq:this.sendMessageToRwg({evt:4143,body:{feedback:e}})}}clearFeedback(){return{seq:this.sendMessageToRwg({evt:4145,body:{}})}}allowUnmuteVideo(e,t){return{seq:this.sendMessageToRwg({evt:4147,body:{id:e,bOn:t}})}}allowUnmuteAudio(e){return{seq:this.sendMessageToRwg({evt:4149,body:{bOn:e}})}}allowRaiseHand(e){return{seq:this.sendMessageToRwg({evt:4151,body:{bOn:e}})}}boToken(e){return{seq:this.sendMessageToRwg({evt:4173,body:{topic:e}})}}startBO(e){return{seq:this.sendMessageToRwg({evt:4175,body:{proto:e}})}}stopBO(e){return{seq:this.sendMessageToRwg({evt:4177,body:{status:e}})}}assignToBO(e,t){return{seq:this.sendMessageToRwg({evt:4179,body:{targetID:e,targetBID:t}})}}switchBO(e,t){return{seq:this.sendMessageToRwg({evt:4181,body:{targetID:e,targetBID:t}})}}wantJoinBO(e,t){return{seq:this.sendMessageToRwg({evt:4183,body:{targetID:e,targetBID:t}})}}joinBO(e){return{seq:this.sendMessageToRwg({evt:4193,body:{targetBID:e}})}}leaveBO(e=1){return{seq:this.sendMessageToRwg({evt:4185,body:{reason:e}})}}broadcastBO(e){return{seq:this.sendMessageToRwg({evt:4187,body:{textContent:e}})}}askForHelpBO(e){return{seq:this.sendMessageToRwg({evt:4189,body:{targetID:e}})}}askForHelpResultBO(e,t){return{seq:this.sendMessageToRwg({evt:4191,body:{targetID:e,helpResult:t}})}}allowParticipantRename(e){return{seq:this.sendMessageToRwg({evt:4163,body:{bOn:e}})}}allowMessageFeedbackNotify(e,t){return{seq:this.sendMessageToRwg({evt:4171,body:{bOn:e,id:t}})}}setPlayChime(e,t){return{seq:this.sendMessageToRwg({evt:4197,body:{bOn:e,id:t}})}}admitAllSilentUsers(){return{seq:this.sendMessageToRwg({evt:4199,body:{}})}}bindTeleUser(e,t,r){return{seq:this.sendMessageToRwg({evt:4201,body:{teleUserID:e,targetUserID:t,bBind:r}})}}practiceSession(){return{seq:this.sendMessageToRwg({evt:4207,body:null})}}roleChangeWebinar(e,t,r,n){return{seq:this.sendMessageToRwg({evt:4209,body:{jid:t,userID:r,clientCap:n,bPromote:e}})}}batchCreateBOToken(e){const t=e.map((e,t)=>({topic:e,index:t}));return{seq:this.sendMessageToRwg({evt:4211,body:t})}}mute(e,t){return{seq:this.sendMessageToRwg({evt:8193,body:{bMute:t,id:e}})}}audioDrop(e){return{seq:this.sendMessageToRwg({evt:8195,body:{id:e}})}}audioDialout(e,t,r){return{seq:this.sendMessageToRwg({evt:8197,body:{pn:e,dn2:t,bCallme:r}})}}audioCancelDialout(e,t){return{seq:this.sendMessageToRwg({evt:8199,body:{pn:e,bCallme:t}})}}audioMuteAll(e){return{seq:this.sendMessageToRwg({evt:8201,body:{bMute:e}})}}allowToTalk(e,t){return{seq:this.sendMessageToRwg({evt:8204,body:{id:e,bAllowTalk:t}})}}subscribeVideo(e=1,t,r){return{seq:this.sendMessageToRwg({evt:12289,body:{id:e,size:t,bOn:r}})}}unsubscribeVideo(e=1){return{seq:this.sendMessageToRwg({evt:12291,body:{id:e}})}}muteAttendeeVideo(e,t){return{seq:this.sendMessageToRwg({evt:12297,body:{id:e,bOn:t}})}}notifyRwgIsMuteVideo(e,t){return this.muteAttendeeVideo(e,t)}pauseSharing(){return{seq:this.sendMessageToRwg({evt:16385,body:{}})}}resumeSharing(){return{seq:this.sendMessageToRwg({evt:16387,body:{}})}}allowAnonymousQuestion(e,t){return{seq:this.sendMessageToRwg({evt:4155,body:{userId:e,bOn:t}})}}allowViewAll(e,t){return{seq:this.sendMessageToRwg({evt:4157,body:{userId:e,bOn:t}})}}allowVote(e,t){return{seq:this.sendMessageToRwg({evt:4159,body:{userId:e,bOn:t}})}}allowComment(e,t){return{seq:this.sendMessageToRwg({evt:4161,body:{userId:e,bOn:t}})}}sharingRequestRemoteControl(e,t){return{seq:this.sendMessageToRwg({evt:16389,body:{id:e,bOn:t}})}}subscribeGrabRemoteControl(e,t){return{seq:this.sendMessageToRwg({evt:16393,body:{id:e,bOn:t}})}}subscribeSharing(e,t){return{seq:this.sendMessageToRwg({evt:16415,body:{id:e,size:t}})}}unsubscribeSharing(e){return{seq:this.sendMessageToRwg({evt:16417,seq:1,body:{id:e}})}}sendRWGConnectionPerformance(e){return{seq:this.sendMessageToRwg({evt:4167,body:{data:e}})}}sendDatachannelOffer(e){return{seq:this.sendMessageToRwg({evt:24321,offer:e})}}joinOrLeaveVoip(e){return{seq:this.sendMessageToRwg({evt:8203,body:{bOn:e}})}}startSharing(e){return{seq:this.sendMessageToRwg({evt:16409,body:{id:e,boOn:!1}})}}stopSharing(e){return{seq:this.sendMessageToRwg({evt:16409,body:{id:e,bOn:!0}})}}lockSharing(e){return{seq:this.sendMessageToRwg({evt:4169,body:{lockShare:e}})}}preAssignBreakoutRoom(){return{seq:this.sendMessageToRwg({evt:4213,body:{}})}}claimHost(e){return{seq:this.sendMessageToRwg({evt:4215,body:{hostKey:e}})}}allowMultiplePin(e,t){return{seq:this.sendMessageToRwg({evt:4217,body:{userID:e,bOn:t}})}}spotlightVideo(e,t){return{seq:this.sendMessageToRwg({evt:4219,body:d({id:e},t)})}}followHostLayout(e){return{seq:this.sendMessageToRwg({evt:4223,body:{bFollowHostVideo:e}})}}setVideoDragLayout(e){return{seq:this.sendMessageToRwg({evt:4218,body:{drag_list:e}})}}chatCmdReq(e,t){return{seq:this.sendMessageToRwg({evt:4237,body:{msgID:e,cmd:t}})}}}class ni extends ri{static createAgent(){return this.rwgInstance||(this.rwgInstance=new ni),this.rwgInstance}}ni.rwgInstance=null;class oi extends ri{static getInstance(){return this.instance||(this.instance=new oi),this.instance}}oi.instance=null;const ii=Yo.WebclientIVState;class si{static getInstance(){return void 0===this.agentInstance&&(this.agentInstance=new si),this.agentInstance}constructor(){this.assetsPath=void 0,this.instance=void 0,this.callbackList=void 0,this.mediaWorkersPath=void 0,this.constraints=void 0,this.svcUrl=void 0,this.meetingNumber=void 0,this.confId=void 0,this.mediaSocketAddress=void 0,this.currentUserId=void 0,this.receivedSharingCanvas=void 0,this.sharingCanvas=void 0,this.callbackList=[]}init(){if(!this.instance){const e={ivObj:{[qo.AUDIO_ENCODE]:Uo.get(ii)&&Uo.get(ii)[qo.AUDIO_ENCODE],[qo.VIDEO_ENCODE]:Uo.get(ii)&&Uo.get(ii)[qo.VIDEO_ENCODE],[qo.SHARING_ENCODE]:Uo.get(ii)&&Uo.get(ii)[qo.SHARING_ENCODE]}};this.instance=new JsMediaSDK_Instance(e),this.instance.setRWGAgent(ni.createAgent())}}setAssetsAndConstraint(e,t){var r;this.assetsPath=e,this.constraints=t,this.mediaWorkersPath=(e=>({audioWorkerPath:e+"/js_audio_process.min.js",audioWorkletPath:e+"/js_audio_worklet.min.js",audioWasm:e+"/audio.encode.wasm",videoWorkerPath:e+"/video_s.min.js",videoMtWorkerPath:e+"/video_m.min.js",videoWasm:e+"/video.decode.wasm",videoMtWasm:e+"/video.mt.wasm",sharingWorkerPath:e+"/sharing_s.min.js",sharingMtWorkerPath:e+"/sharing_m.min.js",videoSIMDWorkerPath:e+"/video_simd.min.js",videoSIMDWasm:e+"/video.simd.wasm",sharingSIMDWorkerPath:e+"/sharing_simd.min.js",videoMSIMDWasm:e+"/video.mtsimd.wasm",sharingMSIMDWorkerPath:e+"/sharing_mtsimd.min.js",videoMSIMDWorkerPath:e+"/video_mtsimd.min.js",audioSIMDWorkletPath:e+"/audio_simd.min.js",audioSIMDWasm:e+"/audio.simd.wasm"}))(this.assetsPath),this.onMediaSDKCallback=this.onMediaSDKCallback.bind(this),null===(r=this.instance)||void 0===r||r.JsMediaSDK_PreLoad(this.mediaWorkersPath,this.onMediaSDKCallback)}onMediaSDKCallback(e,t){this.callbackList.length>0&&this.callbackList.forEach(r=>r(e,t))}registerCallback(e){this.callbackList.push(e)}unregisterCallback(e){const t=this.callbackList.findIndex(t=>t===e);t>-1&&this.callbackList.splice(t,1)}connect({svcUrl:e,meetingNumber:t,conId:r,e2eEncrypt:n,isViewOnly:o,currentUserId:i,isWebinar:s,enableQos:a}){var c,d,u;this.svcUrl=e,this.meetingNumber=t,this.confId=r;const l=((e,t,r)=>({videoSocketAddress:`wss://${e}/wc/media/${t}?type=v&cid=${r}`,audioSocketAddress:`wss://${e}/wc/media/${t}?type=a&cid=${r}`,sharingSocketAddress:`wss://${e}/wc/media/${t}?type=${xo()?"j":"s"}&cid=${r}`}))(e,t,r);this.mediaSocketAddress=l,this.currentUserId=i;const p=Ko();var h,_,f,v,E,y,g,S,b,m;(jo()?null===(h=this.instance)||void 0===h||h.setPropsBeforeInit({callback:this.onMediaSDKCallback,audioWorkletPath:null===(_=this.mediaWorkersPath)||void 0===_?void 0:_.audioWorkletPath,e2eEncrypt:n,isEnableListenInitEvent:!0}):null===(f=this.instance)||void 0===f||f.setPropsBeforeInit({callback:this.onMediaSDKCallback,e2eEncrypt:n,isEnableListenInitEvent:!0}),!0===(null===(c=this.constraints)||void 0===c?void 0:c.audio)&&jo())&&((s||Ho())&&(null===(b=this.instance)||void 0===b||b.initAudioDecode(this.mediaWorkersPath,l.audioSocketAddress,i,!1,r,t,p,a)),!Ho()||s&&o||null===(m=this.instance)||void 0===m||m.initAudioEncode(this.mediaWorkersPath,l.audioSocketAddress,i,!1,r,t,p,a));!0===(null===(d=this.constraints)||void 0===d?void 0:d.video)&&jo()&&(null===(v=this.instance)||void 0===v||v.initVideoDecode(this.mediaWorkersPath,l.videoSocketAddress,i,!1,r,t,p),s&&o||null===(E=this.instance)||void 0===E||E.initVideoEncode(this.mediaWorkersPath,l.videoSocketAddress,i,!1,r,t,p)),!0===(null===(u=this.constraints)||void 0===u?void 0:u.screen)&&(jo()?(null===(y=this.instance)||void 0===y||y.initSharingDecode(this.mediaWorkersPath,l.sharingSocketAddress,i,!1,r,t,p),s&&o||null===(g=this.instance)||void 0===g||g.initSharingEncode(this.mediaWorkersPath,l.sharingSocketAddress,i,!1,r,t,p)):null===(S=this.instance)||void 0===S||S.initSharingDecode(l.sharingSocketAddress))}destroy(){var e;null===(e=this.instance)||void 0===e||e.destroy(),this.instance=null,this.callbackList=[]}disconnect(){var e,t;null===(e=this.instance)||void 0===e||e.Notify_MeidaSDK(17,{}),null===(t=this.instance)||void 0===t||t.JsMediaSDK_UnInit()}muteAudio(){var e;null===(e=this.instance)||void 0===e||e.Notify_MeidaSDK(8,{ssrc:0})}unmuteAudio(){var e;null===(e=this.instance)||void 0===e||e.Notify_MeidaSDK(7,{ssrc:0,AudioSelectValue:0})}joinComputerAudio(e,t,r,n){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(22,{CaptureAudio:n,CaptureAudioInfo:{ssrc:e,AudioSelectValue:"default"===t?null:t},speakerInfo:{defaultDeviceId:r}})}leaveComputerAudio(){var e;null===(e=this.instance)||void 0===e||e.Notify_MeidaSDK(21,null)}changeSpeaker(e){var t;null===(t=this.instance)||void 0===t||t.Notify_MeidaSDK(11,{ssrc:0,AudioSelectValue:e})}changeMicrophone(e){var t;null===(t=this.instance)||void 0===t||t.Notify_MeidaSDK(18,{ssrc:0,AudioSelectValue:"default"===e?null:e})}restoreWebRTC(e){var t;null===(t=this.instance)||void 0===t||t.Notify_MeidaSDK(19,{ssrc:0,AudioSelectValue:"default"===e?null:e})}renderVideo(e,t,r,n,o,i,s,a,c,d,u){var l;null===(l=this.instance)||void 0===l||l.Notify_MeidaSDK(1,{userId:t,width:n,height:o,x:i,y:s,quality:a,isMyself:c,canvas:e,enableWaterMark:u,waterMarkText:d,zone:r})}stopRenderVideo(e,t,r,n,o=!1){var i;null===(i=this.instance)||void 0===i||i.Notify_MeidaSDK(2,{canvas:e,userId:t,RGBA:n,doNotClean:o,zone:r})}startCaptureVideo(e,t,r,n,o){var i;null===(i=this.instance)||void 0===i||i.Notify_MeidaSDK(3,{ssid:e,width:r,height:n,fps:24,video:o,VideoSelectValue:"default"===t?null:t})}stopCaptureVideo(){var e;null===(e=this.instance)||void 0===e||e.Notify_MeidaSDK(4,{ssrc:0})}changeCamera(e){var t;null===(t=this.instance)||void 0===t||t.Notify_MeidaSDK(12,{VideoSelectValue:"default"===e?null:e})}switchCanvasForVideoCapture(e){var t;let r=e;Array.isArray(e)||(r=[e]),null===(t=this.instance)||void 0===t||t.Notify_MeidaSDK(25,r)}renderSharing(e,t,r=!1,n=""){var o;this.receivedSharingCanvas=t,null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(23,{width:0,height:0,ssrc:e,canvas:t,enableWaterMark:r,waterMarkText:n})}stopRenderSharing(){var e;null===(e=this.instance)||void 0===e||e.Notify_MeidaSDK(24,{})}switchSharingSource(e){var t;null===(t=this.instance)||void 0===t||t.Notify_MeidaSDK(36,{ssrc:e})}ajustmentReceivedSharingCanvas(e,t){if(this.receivedSharingCanvas)try{this.receivedSharingCanvas.width=e,this.receivedSharingCanvas.height=t}catch(e){}}startRemoteControl(e,t,r){var n;null===(n=this.instance)||void 0===n||n.Notify_MeidaSDK(26,d({socketURL:"wss://"+this.svcUrl,meetingID:this.meetingNumber,condID:this.confId,os:t,dom:e},r))}stopRemoteControl(){var e;null===(e=this.instance)||void 0===e||e.Notify_MeidaSDK(28)}resendRemoteControlPositionPDU(){var e;null===(e=this.instance)||void 0===e||e.Notify_MeidaSDK(41)}updateRemoteControlProperties(e){var t;const{dimension:r}=e,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["dimension"]);null===(t=this.instance)||void 0===t||t.Notify_MeidaSDK(27,d(d({},r),n))}startDesktopSharing(e,t,r,n=!0){var o;this.sharingCanvas=document.querySelector("#"+t),null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(30,{mode:n,ssid:e,canvas:t,video:r})}stopDesktopSharing(){var e;null===(e=this.instance)||void 0===e||e.Notify_MeidaSDK(31,{})}pauseDesktopSharing(){var e;null===(e=this.instance)||void 0===e||e.Notify_MeidaSDK(32,{})}resumeDesktopSharing(){var e;null===(e=this.instance)||void 0===e||e.Notify_MeidaSDK(33,{})}ajustmentSharingCanvas(e,t){if(this.sharingCanvas)try{this.sharingCanvas.width=e,this.sharingCanvas.height=t}catch(e){}}checkChromeSharingExtension(){var e;null===(e=this.instance)||void 0===e||e.Notify_MeidaSDK(34,{})}enableAudioEncode(){var e;null===(e=this.instance)||void 0===e||e.initAudioEncode(this.mediaWorkersPath,this.mediaSocketAddress.audioSocketAddress,this.currentUserId,!1,this.confId,this.meetingNumber,Ko())}sendUserNodeList(e){var t;null===(t=this.instance)||void 0===t||t.Notify_MeidaSDK(43,e)}updateRenderedSharingDimension(e,t){var r;null===(r=this.instance)||void 0===r||r.Notify_MeidaSDK(44,{width:e,height:t})}pauseOrResumeAudio(e){var t;null===(t=this.instance)||void 0===t||t.Notify_MeidaSDK(45,{bPause:e})}updateRenderedVideoCanvasDimension(e,t,r){var n;null===(n=this.instance)||void 0===n||n.Notify_MeidaSDK(46,{canvas:e,width:t,height:r})}clearVideoCanvas(e,t){var r;null===(r=this.instance)||void 0===r||r.Notify_MeidaSDK(47,{id:e,RGBA:t})}adjustRenderedVideoPosition(e,t,r,n,o,i,s){var a;null===(a=this.instance)||void 0===a||a.Notify_MeidaSDK(48,{userId:t,x:n,y:o,width:i,height:s,canvas:e,zone:r})}}var ai;si.agentInstance=void 0,function(e){e.ConnectionChange="connection-change",e.OnHoldChange="on-hold-change",e.UserAdd="user-added",e.UserUpdate="user-updated",e.UserRemove="user-removed",e.AttendeeUpdate="attendee-updated"}(ai||(ai={}));const ci={success:"ADD_CURRENT_USER_PARTICIPANT_ATTRIBUTE",fail:["JOIN_MEETING_FAILED"]},di={[ai.ConnectionChange]:[{event:"JOIN_MEETING_SUCCESS",payload:()=>({state:Po.Connected})},{event:"RECONNECTING_MEETING",payload:e=>d({state:Po.Reconnecting},e)},{event:"LEAVING_MEETING",payload:e=>d({state:Po.Closed},e)}],[ai.OnHoldChange]:[{event:"MEETING_IN_WAITING_ROOM",payload:e=>({isOnHold:e})}],[ai.UserAdd]:[{event:"ADD_CURRENT_USER_PARTICIPANT_ATTRIBUTE",payload:e=>[e]},{event:"ADD_USER_PARTICIPANT_ATTRIBUTE",payload:e=>e}],[ai.UserUpdate]:[{event:"UPDATE_CURRENT_USER_PARTICIPANT_ATTRIBUTE",payload:e=>[e]},{event:"UPDATE_USER_PARTICIPANT_ATTRIBUTE",payload:e=>e}],[ai.UserRemove]:[{event:"REMOVE_USER_PARTICIPANT_ATTRIBUTE",payload:e=>e}],[ai.AttendeeUpdate]:[{event:"UPDATE_WEBINAR_PARTICIPANT_ATTRIBUTE",payload:e=>e}]};let ui;!function(e){e.ChatOnMessage="chat-on-message",e.ChatPrivilegeChange="chat-privilege-change",e.ChatDeleteMessage="chat-delete-message"}(ui||(ui={}));const li={[ui.ChatOnMessage]:[{event:"CHAT_RECEIVE_MESSAGE_EVENTS",payload:e=>e}],[ui.ChatPrivilegeChange]:[{event:"CHAT_PRIVILEGE_CHANGE",payload:e=>e}],[ui.ChatDeleteMessage]:[{event:"CHAT_DELETE_MESSAGE_REPONSE",payload:e=>e}]};let pi,hi,_i;!function(e){e.OnRecordingChange="on-recording-change",e.OnLocalRecordingChange="on-local-recording-change"}(pi||(pi={})),function(e){e.Started="Started",e.Stopped="Stopped"}(hi||(hi={})),function(e){e.Stopped="Stopped",e.Started="Started",e.Paused="Paused"}(_i||(_i={}));const fi={[pi.OnRecordingChange]:[{event:"START_RECORDING_SUCCESS",payload:()=>({state:hi.Started})},{event:"STOP_RECORDING_SUCCESS",payload:()=>({state:hi.Stopped})}],[pi.OnLocalRecordingChange]:[{event:"LOCAL_RECORDING_CHANGE",payload:e=>{const t={};return Array.isArray(e)?e.forEach(e=>{t[e.id]=e.bLocalRecordStatus}):t[e.id]=e.bLocalRecordStatus,t}}]};let vi,Ei,yi,gi;!function(e){e[e.InitSuccess=1]="InitSuccess",e[e.InitSuccessVideo=1.1]="InitSuccessVideo",e[e.InitSuccessAudio=1.2]="InitSuccessAudio",e[e.InitSuccessSharing=1.3]="InitSuccessSharing",e[e.UserGrantCaptureAudio=2]="UserGrantCaptureAudio",e[e.CurrentVideoResolution=3]="CurrentVideoResolution",e[e.JpegDecThreadOk=4]="JpegDecThreadOk",e[e.JpegData=5]="JpegData",e[e.SharingPara=6]="SharingPara",e[e.VideoDecodeMaxSize=7]="VideoDecodeMaxSize",e[e.CurrentCaptureVideoWidthHeight=8]="CurrentCaptureVideoWidthHeight",e[e.StartVideoCaptureSuccess=9]="StartVideoCaptureSuccess",e[e.StopVideoCaptureSuccess=10]="StopVideoCaptureSuccess",e[e.StartRemoteControlSuccess=11]="StartRemoteControlSuccess",e[e.CancelRemoteControlSuccess=12]="CancelRemoteControlSuccess",e[e.RemoteControlCopiedTextNotify=13]="RemoteControlCopiedTextNotify",e[e.MonitorLog=14]="MonitorLog",e[e.CurrentDesktopSharingWidthHeight=15]="CurrentDesktopSharingWidthHeight",e[e.DesktopSharingCaptureSuccess=16]="DesktopSharingCaptureSuccess",e[e.CheckChromeSharingExtensionResponse=17]="CheckChromeSharingExtensionResponse",e[e.SharingDecodeMaxSize=18]="SharingDecodeMaxSize",e[e.DataChannelOffer=19]="DataChannelOffer",e[e.AesGcmIvResponse=21]="AesGcmIvResponse",e[e.InitFailed=-1]="InitFailed",e[e.InitFailedVideo=-1.1]="InitFailedVideo",e[e.InitFailedAudio=-1.2]="InitFailedAudio",e[e.InitFailedSharing=-1.3]="InitFailedSharing",e[e.UserForbiddedCaptureAudio=-2]="UserForbiddedCaptureAudio",e[e.AudioWebsocketBroken=-3]="AudioWebsocketBroken",e[e.VideoWebsocketBroken=-4]="VideoWebsocketBroken",e[e.SharingDecThreadFailed=-5]="SharingDecThreadFailed",e[e.AudioZeroData=-6]="AudioZeroData",e[e.AudioCtxSamplerate=-7]="AudioCtxSamplerate",e[e.UserForbiddedCaptureVideo=-8]="UserForbiddedCaptureVideo",e[e.UserCameraIsTakenByOtherPrograms=-9]="UserCameraIsTakenByOtherPrograms",e[e.StopVideoCaptureFailed=-10]="StopVideoCaptureFailed",e[e.StartRemoteControlFailed=-11]="StartRemoteControlFailed",e[e.CancelRemoteControlFailed=-12]="CancelRemoteControlFailed",e[e.RemoteControlPasteTextLengthOverflow=-14]="RemoteControlPasteTextLengthOverflow",e[e.UserStopDesktopSharing=-15]="UserStopDesktopSharing",e[e.UserCancelPermissionRequest=-16]="UserCancelPermissionRequest",e[e.DesktopSharingChromeExtensionUninstalled=-17]="DesktopSharingChromeExtensionUninstalled",e[e.DesktopSharingPermissionDenied=-18]="DesktopSharingPermissionDenied",e[e.DesktopSharingTimeOut=-19]="DesktopSharingTimeOut",e[e.DesktopSharingError=-20]="DesktopSharingError",e[e.DesktopSharingSystemError=-22]="DesktopSharingSystemError"}(vi||(vi={})),function(e){e[e.EncodeSuccess=1]="EncodeSuccess",e[e.DecodeSuccess=2]="DecodeSuccess",e[e.EncodeFailed=-1]="EncodeFailed",e[e.DecodeFailed=-2]="DecodeFailed"}(Ei||(Ei={})),function(e){e.Spotlight="Spotlight",e.Unmute="Unmute",e.AllowToTalk="Allow to talk"}(yi||(yi={})),function(e){e[e.Calling=1]="Calling",e[e.Ringing=2]="Ringing",e[e.Accepted=3]="Accepted",e[e.Busy=4]="Busy",e[e.NotAvailable=5]="NotAvailable",e[e.HangUp=6]="HangUp",e[e.Fail=7]="Fail",e[e.Success=8]="Success",e[e.Timeout=9]="Timeout",e[e.Canceling=10]="Canceling",e[e.Canceled=11]="Canceled",e[e.CancelFailed=12]="CancelFailed"}(gi||(gi={}));const Si=new Blob([new Uint8Array([255,227,24,196,0,0,0,3,72,1,64,0,0,4,132,16,31,227,192,225,76,255,67,12,255,221,27,255,228,97,73,63,255,195,131,69,192,232,223,255,255,207,102,239,255,255,255,101,158,206,70,20,59,255,254,95,70,149,66,4,16,128,0,2,2,32,240,138,255,36,106,183,255,227,24,196,59,11,34,62,80,49,135,40,0,253,29,191,209,200,141,71,7,255,252,152,74,15,130,33,185,6,63,255,252,195,70,203,86,53,15,255,255,247,103,76,121,64,32,47,255,34,227,194,209,138,76,65,77,69,51,46,57,55,170,170,170,170,170,170,170,170,170,170,255,227,24,196,73,13,153,210,100,81,135,56,0,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170])],{type:"audio/mpeg"});let bi,mi,Ii,Ai,Oi,Ci,Ti,wi,Ri,Ni,Di;!function(e){e[e.HostGrab=0]="HostGrab",e[e.OnlyHost=1]="OnlyHost",e[e.AnyoneGrab=2]="AnyoneGrab",e[e.MultipleShare=3]="MultipleShare"}(bi||(bi={})),function(e){e.Sharing="sharing",e.Paused="paused",e.End="ended"}(mi||(mi={})),function(e){e[e.Video_90P=0]="Video_90P",e[e.Video_180P=1]="Video_180P",e[e.Video_360P=2]="Video_360P",e[e.Video_720P=3]="Video_720P"}(Ii||(Ii={})),function(e){e.Active="Active",e.Inactive="Inactive"}(Ai||(Ai={})),function(e){e.Muted="Muted",e.Unmuted="Unmuted"}(Oi||(Oi={})),function(e){e.Active="Active",e.Inactive="Inactive"}(Ci||(Ci={})),function(e){e.Success="Success",e.Failed="Failed",e.Initial="Initial"}(Ti||(Ti={})),function(e){e.Started="Started",e.Stopped="Stopped",e.Failed="Failed"}(wi||(wi={})),function(e){e.Approved="Approved",e.Rejected="Rejected"}(Ri||(Ri={})),function(e){e.PrivilegeChange="PrivilegeChange",e.StopScreenCapture="StopScreenCapture"}(Ni||(Ni={})),function(e){e.DeviceChange="device-change",e.MediaSDKChange="media-sdk-change"}(Di||(Di={}));const Pi={[Di.DeviceChange]:[{event:"MEDIA_DEVICE_CHANGE",payload:()=>({})}],[Di.MediaSDKChange]:[{event:"AUDIO_ENCODE_SUCCESS",payload:()=>({type:"audio",action:"encode",result:"success"})},{event:"AUDIO_ENCODE_FAIL",payload:()=>({type:"audio",action:"encode",result:"fail"})},{event:"AUDIO_DECODE_SUCCESS",payload:()=>({type:"audio",action:"decode",result:"success"})},{event:"AUDIO_DECODE_FAIL",payload:()=>({type:"audio",action:"decode",result:"fail"})},{event:"VIDEO_ENCODE_SUCCESS",payload:()=>({type:"video",action:"encode",result:"success"})},{event:"VIDEO_ENCODE_FAIL",payload:()=>({type:"video",action:"encode",result:"fail"})},{event:"VIDEO_DECODE_SUCCESS",payload:()=>({type:"video",action:"decode",result:"success"})},{event:"VIDEO_DECODE_FAIL",payload:()=>({type:"video",action:"decode",result:"fail"})},{event:"SHARING_ENCODE_SUCCESS",payload:()=>({type:"share",action:"encode",result:"success"})},{event:"SHARING_ENCODE_FAIL",payload:()=>({type:"share",action:"encode",result:"fail"})},{event:"SHARING_DECODE_SUCCESS",payload:()=>({type:"share",action:"decode",result:"success"})},{event:"SHARING_DECODE_FAIL",payload:()=>({type:"share",action:"decode",result:"fail"})}]},Mi={success:"VIDEO_CAPTURE_START_SUCCESS",fail:["CAN_NOT_DETECT_CAMERA","CAN_NOT_FIND_CAMERA","VIDEO_USER_FORBIDDEN_CAPTURE","VIDEO_ESTABLISH_STREAM_ERROR","VIDEO_CAMERA_IS_TAKEN"]};let ki;!function(e){e.VideoActiveChange="video-active-change",e.PeerVideoStateChange="peer-video-state-change",e.VideoSpotlightChange="video-spotlight-change",e.VideoMutedChange="video-muted-change",e.VideoCapturingChange="video-capturing-change",e.AskForStartVideoConsent="ask-for-start-video-consent",e.VideoDimensionChange="video-dimension-change",e.VideoFollowHostOrder="video-follow-host-order-change",e.VideoHostLayoutChange="video-host-layout-change"}(ki||(ki={}));const Ui={[ki.VideoActiveChange]:[{event:"RECEIVE_VIDEO_ACTIVE_INDICATION",payload:e=>({state:e.bVideoOn?Ai.Active:Ai.Inactive,userId:e.userId})}],[ki.VideoCapturingChange]:[{event:"VIDEO_CAPTURE_START_SUCCESS",payload:()=>({state:wi.Started})},{event:"VIDEO_CAPTURE_STOP_RESULT",payload:e=>({state:(null==e?void 0:e.failed)?wi.Failed:wi.Stopped})}],[ki.VideoMutedChange]:[{event:"RECEIVE_VIDEO_MUTE_INDICATION",payload:e=>({state:e.isVideoMuted?Oi.Muted:Oi.Unmuted,userId:e.id})}],[ki.AskForStartVideoConsent]:[{event:"ASK_FOR_START_VIDEO_CONSENT",payload:e=>({state:e.isVideoMuted?Oi.Muted:Oi.Unmuted,userId:e.id})}],[ki.VideoSpotlightChange]:[{event:"VIDEO_SPOTLIGHT_CHANGE",payload:e=>({spotlightList:e.spotlightList&&e.spotlightList.map(e=>({userId:e}))})}],[ki.VideoDimensionChange]:[{event:"RECEIVE_VIDEO_DIMENSION_CHANGE",payload:e=>({type:"received",width:e.width,height:e.height})}],[ki.VideoFollowHostOrder]:[{event:"VIDEO_FOLLOW_HOST_ORDER_CHANGE",payload:e=>({isFollowHostOrder:e.bOn})}],[ki.VideoHostLayoutChange]:[{event:"VIDEO_HOST_DRAG_LAYOUT_CHANGE",payload:e=>Array.isArray(e.layout)?e.layout.map(e=>({userId:e})):[]}],[ki.PeerVideoStateChange]:[{event:"VIDEO_NEW_USER_START",payload:e=>d({action:"Start"},e)},{event:"VIDEO_OLD_USER_STOP",payload:e=>d({action:"Stop"},e)}]};let Vi;!function(e){e.ActiveSpeaker="active-speaker",e.UnmuteAudioConsent="unmute-audio-consent",e.CurrentAudioChange="current-audio-change",e.DialoutStateChange="dialout-state-change",e.MergeAudio="merged-audio",e.AutoPlayFailed="auto-play-audio-failed"}(Vi||(Vi={}));const Li={JoinComputerAudio:{success:"AUDIO_CURRENT_USER_JOIN_BY_VOIP",fail:["USER_FORBIDDEN_MICROPHONE","ESTABLISH_AUDIO_STREAM_ERROR"]},LeaveComputerAudio:{success:"AUDIO_CURRENT_USER_LEAVE_AUDIO"},JoinAudioByCallMe:{success:"AUDIO_DIALOUT_RESULT_SUCCESS",fail:["DIALOUT_FAIL"]},cancelDialOut:{success:"AUDIO_DIALOUT_CANCEL_SUCCESS",fail:["DIALOUT_CANCEL_FAIL"]},hangup:{success:"AUDIO_CURRENT_USER_LEAVE_AUDIO"}},ji={[Vi.ActiveSpeaker]:[{event:"AUDIO_ACTIVE_SPEAKER",payload:e=>e}],[Vi.UnmuteAudioConsent]:[{event:"AUDIO_UNMUTE_CONSENT",payload:e=>({reason:e})}],[Vi.CurrentAudioChange]:[{event:"AUDIO_CURRENT_USER_JOIN_BY_PHONE",payload:()=>({action:"join",type:"phone"})},{event:"AUDIO_CURRENT_USER_JOIN_BY_VOIP",payload:()=>({action:"join",type:"computer"})},{event:"AUDIO_CURRENT_USER_LEAVE_AUDIO",payload:()=>({action:"leave"})},{event:"AUDIO_CURRENT_USER_MUTED",payload:({source:e})=>({action:"muted",source:e})},{event:"AUDIO_CURRENT_USER_UNMUTED",payload:({source:e})=>({action:"unmuted",source:e})}],[Vi.DialoutStateChange]:[{event:"AUDIO_DIALOUT_RESULT_CODE",payload:e=>e}],[Vi.MergeAudio]:[{event:"AUDIO_MERGE_AUDIO_INDICATION",payload:e=>e}],[Vi.AutoPlayFailed]:[{event:"AUDIO_AUTO_PLAY_FAILED",payload:()=>{}}]};let Hi;!function(e){e.ShareActiveChange="active-share-change",e.ShareDimensionChange="share-content-dimension-change",e.SharePassiveStop="passively-stop-share",e.SharePeerStateChange="peer-share-state-change",e.ShareContentChange="share-content-change",e.SharePrivilegeChange="share-privilege-change",e.RemoteControlApprovedChange="remote-control-approved-change",e.RemoteControlInControlChange="remote-control-in-control-change",e.RemoteControlClipboardChange="remote-control-clipboard-change"}(Hi||(Hi={}));const xi={[Hi.ShareActiveChange]:[{event:"SHARE_ACTIVE_INDICATION",payload:e=>({state:e.isActive?"Active":"Inactive",userId:e.activeUserId})}],[Hi.ShareDimensionChange]:[{event:"SHARE_DIMENSION_CHANGE",payload:e=>({type:"sended",width:e.width,height:e.height})},{event:"SHARE_RECEIVED_DIMENSION_CHANGE",payload:e=>({type:"received",width:e.width,height:e.height})}],[Hi.SharePassiveStop]:[{event:"SHARE_VIDEO_STREAMS_END",payload:()=>({reason:Ni.StopScreenCapture})},{event:"SHARE_PASSIVE_STOP_SHARE",payload:()=>({reason:Ni.PrivilegeChange})}],[Hi.SharePeerStateChange]:[{event:"SHARE_NEW_USER_ADD",payload:e=>({userId:e.id,action:"Start"})},{event:"SHARE_USER_REMOVE",payload:e=>({userId:e.id,action:"Stop"})}],[Hi.ShareContentChange]:[{event:"SHARE_AUTO_CHANGE_SOURCE",payload:e=>e}],[Hi.RemoteControlApprovedChange]:[{event:"SHARE_REMOTE_CONTROL_APPROVE",payload:e=>({state:e?Ri.Approved:Ri.Rejected})}],[Hi.RemoteControlInControlChange]:[{event:"SHARE_GRAB_REMOTE_CONTROL_CHANGE",payload:e=>({isControlling:e})}],[Hi.RemoteControlClipboardChange]:[{event:"SHARE_REMOTE_CONTROL_CLIPBOARD_CHANGE",payload:e=>e}],[Hi.SharePrivilegeChange]:[{event:"SHARE_PRIVILEGE_CHANGE",payload:e=>({privilege:e})}]},Fi="INVALID_OPERATION",Gi="INVALID_PARAMETERS";let Bi;!function(e){e.InviteToJoin="invite-to-join",e.RoomCountdown="room-countdown",e.RoomTimeUp="room-time-up",e.ClosingRoomCountdown="closing-room-countdown",e.BroadcastMessage="broadcast-message",e.AskForHelp="ask-for-help",e.AskForHelpResponse="ask-for-help-response",e.RoomStateChange="room-state-change",e.MainSessionUserUpdate="main-session-user-updated"}(Bi||(Bi={}));const Wi={[Bi.InviteToJoin]:[{event:"BREAKOUT_ROOM_INVITE_TO_JOIN_NOTIFICATION",payload:e=>e}],[Bi.RoomCountdown]:[{event:"BREAKOUT_ROOM_ROOM_COUTDOWN",payload:e=>e}],[Bi.RoomTimeUp]:[{event:"BREAKOUT_ROOM_ROOM_COUNTDOWN_TIME_UP",payload:e=>e}],[Bi.ClosingRoomCountdown]:[{event:"BREAKOUT_ROOM_ROOM_CLOSING_COUNTDOWN",payload:e=>e}],[Bi.BroadcastMessage]:[{event:"BREAKOUT_ROOM_BROADCAST_MESSAGE",payload:e=>e}],[Bi.AskForHelp]:[{event:"BREAKOUT_ROOM_ASK_HELP_REQUEST",payload:e=>e}],[Bi.AskForHelpResponse]:[{event:"BREAKOUT_ROOM_ASK_HELP_RESPONSE",payload:e=>e}],[Bi.RoomStateChange]:[{event:"BREAKOUT_ROOM_ATTRIBUTE_INDICATION",payload:e=>({status:e.controlStatus})}],[Bi.MainSessionUserUpdate]:[{event:"BREAKOUT_ROOM_MAIN_SESSION_USER_UPDATE",payload:()=>({})}]},Ki=d(d(d(d(d(d(d(d(d(d({},di),{"closed-caption-message":[{event:"CC_RECEIVE_MESSAGE",payload:e=>e}]}),li),fi),ji),Ui),{"qa-message":[{event:"QA_VOTE_EVENTS",payload:e=>e},{event:"QA_DISMISS_EVENT",payload:e=>e},{event:"QA_LIVE_ANSWER_EVENT",payload:e=>e},{event:"QA_NEW_ANSWER_EVENT",payload:e=>e},{event:"QA_NEW_QUESTION_EVENT",payload:e=>e}],"qa-setting":[{event:"QA_SETTING_SUCCESS_EVENT",payload:e=>e}]}),xi),Pi),Wi),qi=(zi=zi||Object.create(null),{on:function(e,t){(zi[e]||(zi[e]=[])).push(t)},off:function(e,t){zi[e]&&zi[e].splice(zi[e].indexOf(t)>>>0,1)},emit:function(e,t){(zi[e]||[]).slice().map((function(e){e(t)})),(zi["*"]||[]).slice().map((function(r){r(e,t)}))}});var zi;const Ji=new Map,Yi=new Array,Xi=(e,t)=>{qi.emit(e,t)},Zi=e=>new Promise((t,r)=>{e.fail&&e.fail.length>0?Qe(Be(qi,e.success).pipe(ut(1)),qe(...e.fail.map(e=>Be(qi,e).pipe(ut(1),Ue(t=>ae({type:e,payload:t})))))).subscribe(e=>t(e),e=>{"object"==typeof e.payload?r(d({type:e.type},e.payload)):void 0===e.payload?r({type:e.type}):r(e)}):Be(qi,e.success).pipe(ut(1)).subscribe(e=>t(e))}),Qi=(e,t,r=1e4)=>new Promise((n,o)=>{let i=$;"string"==typeof e?i=Be(qi,e).pipe(ut(1)):(i=Be(qi,e.event),e.operations&&(i=e.operations.reduce((e,t)=>e.pipe(t),i))),Qe(i,tt(r).pipe(vt(ae("timeout")))).subscribe(e=>{if(t){const r=t(e);"boolean"==typeof r?r?n(""):o({type:"INTERNAL_ERROR"}):0===r.ret?n(r.body):o({type:"INTERNAL_ERROR",reason:r.body})}else n(e)},()=>{o({type:"OPERATION_TIMEOUT"})})}),$i=(e,t)=>void 0!==t?Be(qi,e).pipe(ut(t)):Be(qi,e),es=()=>{Yi.forEach(e=>{e.unsubscribe()}),Yi.length=0,Ji.clear()},{setAttendeesList:ts,setXmppAttendeeList:rs,setIsAdmitAllSilentUsers:ns,resetParticipants:os,addFailoverAttendees:is,removeFailoverAttendees:ss,setClearRaiseHand:as,setClearAttendeeFeedback:cs}=Ir({SET_ATTENDEES_LIST:e=>e,SET_XMPP_ATTENDEE_LIST:e=>e,RESET_PARTICIPANTS:()=>({}),SET_IS_ADMIT_ALL_SILENT_USERS:e=>e,REMOVE_FAILOVER_ATTENDEES:e=>e,ADD_FAILOVER_ATTENDEES:e=>e,SET_CLEAR_RAISE_HAND:()=>({}),SET_CLEAR_ATTENDEE_FEEDBACK:()=>({})});function ds(e,t){return e===t}function us(e,t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,o=0;o<n;o++)if(!e(t[o],r[o]))return!1;return!0}function ls(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var r=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return t}var ps=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var i=0,s=n.pop(),a=ls(n),c=e.apply(void 0,[function(){return i++,s.apply(null,arguments)}].concat(r)),d=e((function(){for(var e=[],t=a.length,r=0;r<t;r++)e.push(a[r].apply(null,arguments));return c.apply(null,e)}));return d.resultFunc=s,d.dependencies=a,d.recomputations=function(){return i},d.resetRecomputations=function(){return i=0},d}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ds,r=null,n=null;return function(){return us(t,r,arguments)||(n=e.apply(null,arguments)),r=arguments,n}}));const hs=({participants:{attendeesList:e}})=>e;let _s,fs,vs;!function(e){e[e.Attendee=0]="Attendee",e[e.Host=1]="Host",e[e.Owner=4]="Owner",e[e.ViewOnly=8]="ViewOnly",e[e.HostOwner=5]="HostOwner",e[e.ViewOnlyCanTalk=24]="ViewOnlyCanTalk"}(_s||(_s={})),function(e){e[e.Host=10]="Host",e[e.Panelist=20]="Panelist",e[e.Attendee=30]="Attendee"}(fs||(fs={})),function(e){e[e.Client=9]="Client",e[e.Phone=5]="Phone",e[e.H323=15]="H323"}(vs||(vs={}));const Es=e=>(e&vs.Phone)===vs.Phone,ys=e=>e===_s.ViewOnlyCanTalk,gs=e=>(e&_s.ViewOnly)===_s.ViewOnly;let Ss,bs,ms,Is,As,Os;!function(e){e[e.Automatically=1]="Automatically",e[e.Manually=2]="Manually"}(Ss||(Ss={})),function(e){e[e.NotStarted=1]="NotStarted",e[e.InProgress=2]="InProgress",e[e.Closing=3]="Closing",e[e.Closed=4]="Closed"}(bs||(bs={})),function(e){e[e.NoToken=1]="NoToken",e[e.GotToken=2]="GotToken",e[e.Started=3]="Started",e[e.Closing=4]="Closing",e[e.Closed=5]="Closed"}(ms||(ms={})),function(e){e.Initial="initial",e.Invited="invited",e.Joining="joining",e.InRoom="in room",e.Leaving="leaving",e.TimeUp="time up",e.MainSession="main session"}(Is||(Is={})),function(e){e.Join="joinRequest",e.Switch="switchRequest",e.Leave="leaveRequest",e.Broadcast="messageText",e.HelpReq="helpRequest",e.HelpRes="helpResponse",e.CoHostWantJoinThisBo="wantJoinThisBO"}(As||(As={})),function(e){e[e.Received=0]="Received",e[e.Busy=1]="Busy",e[e.Ignore=2]="Ignore",e[e.AlreadyInRoom=3]="AlreadyInRoom"}(Os||(Os={}));const Cs=ps([({meeting:{userId:e}})=>e,hs],(e,t)=>t.find(t=>t.userId===e)),Ts=ps([Cs],e=>(null==e?void 0:e.isHost)||(null==e?void 0:e.bCoHost)),ws=ps([Cs],e=>null==e?void 0:e.isHost),Rs=ps([({participants:{xmppAttendeeList:e}})=>e],e=>e.filter(e=>e.userRole===fs.Attendee)),Ns=ps([hs],e=>e.filter(e=>e.bHold&&!e.bid)),Ds=ps([hs,({breakoutRoom:e})=>e&&e.controlStatus,({breakoutRoom:e})=>e&&e.currentRoom.status],(e,t,r)=>t!==bs.InProgress&&t!==bs.Closing||r!==Is.InRoom?e.filter(e=>!e.bHold&&!e.bid):e.filter(e=>!e.bHold)),Ps=ps([Ds],e=>e.find(e=>e.isHost)),Ms=ps([Ds],e=>e.filter(e=>e.bCoHost));let ks;!function(e){e.Closed="closed",e.Connecting="connecting",e.Connected="connected"}(ks||(ks={}));const{setAsnIds:Us,setIsCanUnmute:Vs,setDialoutSequence:Ls,setDialoutResultCode:js,setIsAllowToTalk:Hs,setIsHostMuteAll:xs,setIsActiveOperation:Fs,setAudioSsrc:Gs,setIsMutedUponEntry:Bs,setIsUserGrantCaptureAudio:Ws,setIsMicrophoneForbidden:Ks,setWebrtcRestartCount:qs,setMicrophoneList:zs,setSpeakerList:Js,setActiveMicrophone:Ys,setActiveSpeaker:Xs,setCanPlayAudio:Zs,resetAudio:Qs,setIsComputerAudioLoading:$s}=Ir("SET_ASN_IDS","SET_IS_CAN_UNMUTE","SET_DIALOUT_SEQUENCE","SET_DIALOUT_RESULT_CODE","SET_IS_ALLOW_TO_TALK","SET_IS_HOST_MUTE_ALL","SET_IS_ACTIVE_OPERATION","SET_AUDIO_SSRC","SET_IS_MUTED_UPON_ENTRY","SET_IS_USER_GRANT_CAPTURE_AUDIO","SET_IS_MICROPHONE_FORBIDDEN","SET_WEBRTC_RESTART_COUNT","SET_MICROPHONE_LIST","SET_SPEAKER_LIST","SET_ACTIVE_MICROPHONE","SET_ACTIVE_SPEAKER","SET_CAN_PLAY_AUDIO","RESET_AUDIO","SET_IS_COMPUTER_AUDIO_LOADING"),{setSharePrivilege:ea,setShareActiveNode:ta,setIsReceiveSharing:ra,setIsChromeExtensionInstalled:na,setIsScreenShareForbidden:oa,setShareDimension:ia,setShareStatus:sa,setShareSsrc:aa,setShareQuality:ca,setReceivedShareDimension:da,setIsRemoteControlApproved:ua,setIsGrabRemoteControl:la,setIsVerifiedSharingRenderCanvasAfterFailover:pa,setIsVerifiedSharingCaptureCanvasAfterFailover:ha,setIsSdkGrabControl:_a,resetShare:fa}=Ir("SET_SHARE_PRIVILEGE","SET_SHARE_ACTIVE_NODE","SET_IS_RECEIVE_SHARING","SET_IS_CHROME_EXTENSION_INSTALLED","SET_IS_SCREEN_SHARE_FORBIDDEN","SET_SHARE_DIMENSION","SET_SHARE_STATUS","SET_SHARE_SSRC","SET_SHARE_QUALITY","SET_RECEIVED_SHARE_DIMENSION","SET_IS_REMOTE_CONTROL_APPROVED","SET_IS_GRAB_REMOTE_CONTROL","SET_IS_VERIFIED_SHARING_RENDER_CANVAS_AFTER_FAILOVER","SET_IS_VERIFIED_SHARING_CAPTURE_CANVAS_AFTER_FAILOVER","SET_IS_SDK_GRAB_CONTROL","RESET_SHARE"),{setVideoSsrc:va,setActiveVideoId:Ea,setCameraList:ya,setActiveCamera:ga,setIsCurrentUserStartedVideo:Sa,setSpotlightVideo:ba,setIsCaptureForbidden:ma,setVideoMaxQuality:Ia,setCaptureCanvasList:Aa,setIsVideoMuted:Oa,setIsCaptureCameraLoading:Ca,setIsCameraTaken:Ta,setIsVerifiedVideoRenderCanvasAfterFailover:wa,setIsVerifiedVideoCaptureCanvasAfterFailover:Ra,resetVideo:Na,setReceivedVideoDimension:Da,addSubscribedVideoId:Pa,removeSubscribedVideoId:Ma,setIsFollowHostVideoLayout:ka,setHostDragLayout:Ua,addRenderedVideoId:Va,removeRenderedVideoId:La,setIsSupportHdVideo:ja,setHighDefinitionVideoId:Ha}=Ir("SET_VIDEO_SSRC","SET_ACTIVE_VIDEO_ID","SET_CAMERA_LIST","SET_ACTIVE_CAMERA","SET_IS_CURRENT_USER_STARTED_VIDEO","SET_SPOTLIGHT_VIDEO","SET_IS_CAPTURE_FORBIDDEN","SET_VIDEO_MAX_QUALITY","SET_CAPTURE_CANVAS_LIST","SET_IS_VIDEO_MUTED","SET_IS_CAPTURE_CAMERA_LOADING","SET_IS_CAMERA_TAKEN","SET_IS_VERIFIED_VIDEO_RENDER_CANVAS_AFTER_FAILOVER","SET_IS_VERIFIED_VIDEO_CAPTURE_CANVAS_AFTER_FAILOVER","RESET_VIDEO","SET_RECEIVED_VIDEO_DIMENSION","ADD_SUBSCRIBED_VIDEO_ID","REMOVE_SUBSCRIBED_VIDEO_ID","SET_IS_FOLLOW_HOST_VIDEO_LAYOUT","SET_HOST_DRAG_LAYOUT","ADD_RENDERED_VIDEO_ID","REMOVE_RENDERED_VIDEO_ID","SET_IS_SUPPORT_HD_VIDEO","SET_HIGH_DEFINITION_VIDEO_ID"),{setTempSetting:xa,setSetting:Fa,setQuestionList:Ga,setQuestionUpVoted:Ba,resetQa:Wa}=Ir("SET_TEMP_SETTING","SET_SETTING","SET_QUESTION_LIST","SET_QUESTION_UP_VOTED","SET_SELF_LIVE_ANSWER","RESET_QA"),{setChatPrivilege:Ka,addChatMessageHistory:qa,resetChat:za,setIsAllowAttendeeChat:Ja,setLatestChatMessageId:Ya,removeChatMessage:Xa}=Ir("SET_CHAT_PRIVILEGE","ADD_CHAT_MESSAGE_HISTORY","RESET_CHAT","SET_IS_ALLOW_ATTENDEE_CHAT","SET_LATEST_CHAT_MESSAGE_ID","REMOVE_CHAT_MESSAGE"),{setCcEditorInfo:Za,setTempSendCcText:Qa,setTempReceiveCcText:$a,setGatewayInfoList:ec,resetClosedCaption:tc}=Ir("SET_CC_EDITOR_INFO","SET_TEMP_SEND_CC_TEXT","SET_TEMP_RECEIVE_CC_TEXT","SET_GATEWAY_INFO_LIST","RESET_CLOSED_CAPTION"),{addBreakoutRooms:rc,setBreakoutRoomAllocationPattern:nc,setBreakoutRoomSequenceId:oc,setMeetingElapsedTime:ic,setStartRoomElapsedTime:sc,setBreakoutRoomOptions:ac,setBreakoutRoomControlStatus:cc,setBreakoutRooms:dc,setCurrentBreakoutRoom:uc,setBreakoutRoomAttendeeStatus:lc,setBreakoutRoomConfId:pc,setBreakoutRoomToken:hc,resetBreakoutRoom:_c,setBreakoutRoomClosingRoomTime:fc,setBreakoutRoomBroadcastMessage:vc,setBreakoutRoomHostReplyType:Ec,setBreakoutRoomHostReplyRequestId:yc,setMainSessionAttendeeList:gc,setIsHugeBreakoutRoom:Sc,setBreakoutRoomUpdatedUserRoleCount:bc,setBreakoutRoomPreAssignedRoomList:mc}=Ir("ADD_BREAKOUT_ROOMS","SET_BREAKOUT_ROOM_ALLOCATION_PATTERN","SET_BREAKOUT_ROOM_SEQUENCE_ID","SET_MEETING_ELAPSED_TIME","SET_START_ROOM_ELAPSED_TIME","SET_BREAKOUT_ROOM_OPTIONS","SET_BREAKOUT_ROOM_CONTROL_STATUS","SET_BREAKOUT_ROOMS","SET_CURRENT_BREAKOUT_ROOM","SET_BREAKOUT_ROOM_ATTENDEE_STATUS","SET_BREAKOUT_ROOM_CONF_ID","SET_BREAKOUT_ROOM_TOKEN","RESET_BREAKOUT_ROOM","SET_BREAKOUT_ROOM_CLOSING_ROOM_TIME","SET_BREAKOUT_ROOM_BROADCAST_MESSAGE","SET_BREAKOUT_ROOM_HOST_REPLY_TYPE","SET_BREAKOUT_ROOM_HOST_REPLY_REQUEST_ID","SET_MAIN_SESSION_ATTENDEE_LIST","SET_IS_HUGE_BREAKOUT_ROOM","SET_BREAKOUT_ROOM_UPDATED_USER_ROLE_COUNT","SET_BREAKOUT_ROOM_PRE_ASSIGNED_ROOM_LIST"),Ic=(e,t)=>{if(e.result){const{result:{mn:r,ts:n,auth:o,track_auth:i,mid:s,tid:a,encryptedRWC:c,user_identity:d,meetingOptions:u}}=e,{lang:l,password:p,topic:h,zlk:_,cv:f,userName:v}=t;return{meetingNumber:r,meetingId:s,tid:a,ts:n,auth:o,passWord:p,trackAuth:i,customerKey:d,encryptedRWC:JSON.parse(c||"{}"),meetingOptions:JSON.parse(u||"{}"),topic:h,userName:Uo.get(Yo.WebclientUserName)||v,cv:f,zlkJwtToken:_,lang:l}}return e},Ac=(e,t,r,n,o,i)=>{const s={ts:n,auth:o,rwcToken:r,dmz:1};return i&&Object.assign(s,{confID:i}),`https://${e}/wc/ping/${t}?${new URLSearchParams(s).toString()}`},Oc=(e,t=!1)=>{const{socket:{zoomSocketStatus:r,xmppSocketStatus:n,mainSessionSocketStatus:o},meeting:{meetingStatus:i}}=e,s=[mo("closed")];if("joined"===i){const t=si.getInstance(),r=ni.createAgent();if(t.disconnect(),t.destroy(),e.video&&e.video.subscribedVideoList.length>0&&e.video.subscribedVideoList.forEach(e=>{r.unsubscribeVideo(e)}),e.share&&e.share.isReceiveSharing){const t=e.share.activeNodeId;e.share.isRemoteControlApproved&&r.sharingRequestRemoteControl(t,!1),r.unsubscribeSharing(t)}}if(t||(Uo.clearSession(),sessionStorage.clear(),ei.destroy()),r!==ks.Closed&&s.push(Pr()),n!==ks.Closed&&s.push(Mr()),o!==ks.Closed&&s.push(Hr()),t){const t=Cs(e);s.push(_o({audio:null==t?void 0:t.audio,muted:null==t?void 0:t.muted,video:null==t?void 0:t.bVideoOn}))}else s.push(_o({audio:!1,muted:void 0,video:!1}));return s.push(zr(),nn(),os(),Qs(),fa(),Na(),Wa(),za(),tc(),_c()),s},Cc=(e,...t)=>Qi({event:"UPDATE_USER_PARTICIPANT_ATTRIBUTE",operations:[Ae(t=>t.find(t=>t.userId===e)),Je(e=>!!e),ut(1)]},...t);function Tc(e){return j(Ae((t,r)=>e(t,r)),Je(e=>null!=e))}function wc(e){return j(Ue((t,r)=>e(t,r)||$))}function Rc(e){return j(bt((t,r)=>e(t,r)||$))}const Nc={period:500,rules:[{peak:50,throttle:300},{peak:60,throttle:400}]},Dc={7937:()=>({payloads:{add:[],update:[],remove:[]},onThrottle(e){e.add&&this.payloads.add.push(...e.add),e.update&&this.payloads.update.push(...e.update),e.remove&&this.payloads.remove.push(...e.remove)}})};function Pc(e=Nc){return t=>new x(r=>{const n=new Map;let o=0,i=null;const{period:s,rules:a}=e;let c=null;i||(i=((e,t)=>{const r=performance.now();let n=0,o=!1;return setTimeout((function i(){n+=t,e();const s=performance.now()-r-n,a=setTimeout(i,Math.max(t-s,0));o&&clearTimeout(a)}),t),()=>{o=!0}})(()=>{o=0},s));const d=Object.keys(Dc),u=t.subscribe({next(e){if(e&&e.evt&&null!==i){o+=1;const{evt:t,body:i}=e,s=String(t);if(d.indexOf(s)>=0)if(c){const e=n.get(s);if(e)e.onThrottle(i);else{const e=Dc[s]();e.onThrottle(i),n.set(s,e)}}else{let t=0;if(a.forEach(e=>{o>e.peak&&(t=e.throttle)}),t>0){const e=Dc[s]();e.onThrottle(i),n.set(s,e),c=setTimeout(()=>{n.forEach((e,t)=>{const n={evt:Number(t),body:e.payloads};r.next(n)}),n.clear(),c=null},t)}else r.next(e)}else r.next(e)}else r.next(e)},error(e){r.error(e)},complete(){r.complete()}});return()=>{u.unsubscribe(),i&&(i(),i=null),o=0}})}ps([Ds,({share:{isReceiveSharing:e}})=>e,({share:{activeNodeId:e}})=>e],(e=[],t,r)=>t?e.find(e=>e.userId===r&&!0===e.sharerOn):null);const Mc=ps([Ds],e=>e.filter(e=>e.sharerOn)),kc=ni.createAgent();var Uc=Object.freeze({__proto__:null,sharePrivilegeChangeEpic:(e,t)=>cn(e,7938).pipe(Je(e=>{var t;return void 0!==(null===(t=e.payload.body)||void 0===t?void 0:t.lockShare)}),Tt(t),At(([e,t])=>{const{share:{sharePrivilege:r}}=t,{payload:{body:{lockShare:n}}}=e;r!==n&&Xi("SHARE_PRIVILEGE_CHANGE",n)}),Ae(([e])=>ea(e.payload.body.lockShare))),shareSSrcEpic:e=>cn(e,20227).pipe(Ae(e=>aa(e.payload.body.ssrc))),shareStatusChangeEpic:(e,t)=>cn(e,20225).pipe(Tt(t),Ae(([e,t])=>{const{share:{isReceiveSharing:r,activeNodeId:n,shareQuality:o}}=t,{payload:{body:i}}=e;return r&&1===i.bStatus?(kc.unsubscribeSharing(n),kc.subscribeSharing(i.activeNodeID,o),si.getInstance().switchSharingSource(i.ssrc),Xi("SHARE_AUTO_CHANGE_SOURCE",{userId:i.activeNodeID})):1===i.bStatus?Xi("SHARE_ACTIVE_INDICATION",{activeUserId:i.activeNodeID,isActive:!0}):r&&Xi("SHARE_ACTIVE_INDICATION",{activeUserId:i.activeNodeID,isActive:!1}),ta(i)})),handleChromeExtensionEpic:e=>ln(e,vi.CheckChromeSharingExtensionResponse).pipe(Ae(e=>(Xi("SHARE_CHECK_CHROME_SHARING_EXTENSION",e.payload.data),na(e.payload.data)))),handleSDKShareSuccessEpic:(e,t)=>ln(e,vi.DesktopSharingCaptureSuccess).pipe(Tt(t),Ae(([,e])=>{const{meeting:{userId:t}}=e;return kc.startSharing(t),oa(!1)})),handleSDKShareErrorEpic:e=>ln(e,[vi.DesktopSharingError,vi.DesktopSharingChromeExtensionUninstalled,vi.DesktopSharingPermissionDenied,vi.DesktopSharingSystemError]).pipe(Tc(e=>{if([vi.DesktopSharingPermissionDenied,vi.DesktopSharingSystemError].includes(e.payload.type))return oa(!0);Xi("SHARE_START_DESKTOP_SHARE_FAILED",{reason:""})})),handleSDKShareDimensionChangeEpic:e=>ln(e,vi.CurrentDesktopSharingWidthHeight).pipe(Je(e=>!!e.payload.data),Ae(e=>{Xi("SHARE_DIMENSION_CHANGE",e.payload.data);const{payload:{data:{width:t,height:r}}}=e;return si.getInstance().ajustmentSharingCanvas(t,r),ia(e.payload.data)})),handleSDKReceivedShareSizeChangeEpic:(e,t)=>ln(e,vi.SharingDecodeMaxSize).pipe(Je(e=>!!e.payload.data),Tt(t),Tc(([e,t])=>{const{share:{shareQuality:r,activeNodeId:n}}=t,{payload:{data:{size:o}}}=e,i=Number(o);if(r!==i)return kc.subscribeSharing(n,i),ca(i)})),handleRWGShareOriginalDimensionEpic:e=>cn(e,20226).pipe(At(e=>{Xi("SHARE_RECEIVED_DIMENSION_CHANGE",e.payload.body);const{payload:{body:{width:t,height:r}}}=e;si.getInstance().ajustmentReceivedSharingCanvas(t,r)}),Ae(e=>da(e.payload.body))),handleSDKShareOriginalDimensionEpic:e=>ln(e,vi.SharingPara).pipe(At(e=>{Xi("SHARE_RECEIVED_DIMENSION_CHANGE",e.payload.data);const{payload:{data:{width:t,height:r}}}=e;si.getInstance().ajustmentReceivedSharingCanvas(t,r)}),Ae(e=>da(e.payload.data))),handleSDKStopShareEpic:(e,t)=>ln(e,vi.UserStopDesktopSharing).pipe(Tt(t),Ae(([,e])=>{const{meeting:{userId:t},share:{status:r}}=e;return r!==mi.End&&(kc.stopSharing(t),Xi("SHARE_VIDEO_STREAMS_END")),sa(mi.End)})),handleRWGCurrentUserShareChangeEpic:(e,t)=>cn(e,7937).pipe(Tt(t),Je(([e,t])=>{const{meeting:{userId:r}}=t,n=e.payload.body.update;return n&&n.length>0&&n.findIndex(e=>e.id===r&&void 0!==e.bShareOn)>-1}),Ue(([e,t])=>{const{meeting:{userId:r},share:{status:n,isReceiveSharing:o,activeNodeId:i}}=t,{payload:{body:{update:s}}}=e,a=s.find(e=>e.id===r&&!1===e.bShareOn),c=s.find(e=>e.id===r&&!0===e.bShareOn),d=[],u=si.getInstance();return a&&n!==mi.End&&(kc.stopSharing(r),u.stopDesktopSharing(),d.push(sa(mi.End)),Xi("SHARE_PASSIVE_STOP_SHARE")),c&&n===mi.End&&(o&&(u.stopRenderSharing(),kc.unsubscribeSharing(i),d.push(ra(!1))),d.push(sa(mi.Sharing))),ke(d)})),handleMultipleShareChangeEpic:(e,t)=>cn(e,7937).pipe(Tt(t),Je(([e,t])=>{const{meeting:{userId:r}}=t,n=e.payload.body.update;return n&&n.length>0&&n.findIndex(e=>e.id!==r&&void 0!==e.bShareOn)>-1}),wc(([t,r])=>{const{payload:{body:{update:n}}}=t,{share:{activeNodeId:o,isReceiveSharing:i,shareQuality:s}}=r,a=Mc(r),c=n.filter(e=>!0===e.bShareOn&&!1===e.bSharePause),d=n.filter(e=>!1===e.bShareOn);if(c.length>0&&c.forEach(e=>{-1===a.findIndex(t=>t.userId===e.id)&&Xi("SHARE_NEW_USER_ADD",e)}),d.length>0&&(d.forEach(e=>{Xi("SHARE_USER_REMOVE",e)}),i&&d.some(e=>e.id===o)))return Qe(cn(e,20225).pipe(ut(1),vt($)),tt(50).pipe(vt(ae("timeout")))).pipe(nt(()=>{const e=a.filter(e=>e.userId!==o);if(e.length>0){const t=e[0],{userId:r}=t;return kc.unsubscribeSharing(o),kc.subscribeSharing(r,s),si.getInstance().switchSharingSource(r),Xi("SHARE_AUTO_CHANGE_SOURCE",{userId:r}),se(ta({activeNodeID:r,bStatus:1,ssrc:r}))}return $}))})),handleRequestRemoteControlEpic:(e,t)=>cn(e,16391).pipe(Tt(t),Je(([e,t])=>{const{meeting:{userId:r}}=t;return e.payload.body.id===r}),Ae(([e])=>{const{payload:{body:{bOn:t}}}=e;return Xi("SHARE_REMOTE_CONTROL_APPROVE",t),ua(t)})),handleGrabRemoteControlEpic:(e,t)=>cn(e,16395).pipe(Tt(t),Je(([e,t])=>e.payload.body.id===t.meeting.userId),Ae(([e])=>{const{payload:{body:{bOn:t}}}=e;return si.getInstance().updateRemoteControlProperties({isControllerNow:t}),Xi("SHARE_GRAB_REMOTE_CONTROL_CHANGE",t),la(t)})),handleSDKRemoteControlEpic:e=>ln(e,[vi.StartRemoteControlSuccess,vi.StartRemoteControlFailed,vi.CancelRemoteControlSuccess]).pipe(Tc(e=>e.payload.type===vi.StartRemoteControlSuccess?(Xi("SHARE_REMOTE_CONTROL_SUCCESS"),_a(!0)):e.payload.type===vi.CancelRemoteControlSuccess?_a(!1):void(e.payload.type===vi.StartRemoteControlFailed&&Xi("SHARE_REMOTE_CONTROL_FAILED")))),handleRemoteControlClipboardEpic:e=>ln(e,[vi.RemoteControlCopiedTextNotify,vi.RemoteControlPasteTextLengthOverflow]).pipe(At(e=>{if(e.payload.type===vi.RemoteControlCopiedTextNotify){const{payload:{data:t}}=e;Xi("SHARE_REMOTE_CONTROL_CLIPBOARD_CHANGE",{content:t.data,x:t.x,y:t.y})}else Xi("SHARE_REMOTE_CONTROL_CLIPBOARD_CHANGE",{error:"length of pasted text is too long"})}),vt($))});function Vc(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Lc(e){return!!e&&!!e[bd]}function jc(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof r&&Function.toString.call(r)===md}(e)||Array.isArray(e)||!!e[Sd]||!!e.constructor[Sd]||Bc(e)||Wc(e))}function Hc(e,t,r){void 0===r&&(r=!1),0===xc(e)?(r?Object.keys:Id)(e).forEach((function(n){r&&"symbol"==typeof n||t(n,e[n],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function xc(e){var t=e[bd];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Bc(e)?2:Wc(e)?3:0}function Fc(e,t){return 2===xc(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Gc(e,t,r){var n=xc(e);2===n?e.set(t,r):3===n?(e.delete(t),e.add(r)):e[t]=r}function Bc(e){return vd&&e instanceof Map}function Wc(e){return Ed&&e instanceof Set}function Kc(e){return e.o||e.t}function qc(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Ad(e);delete t[bd];for(var r=Id(t),n=0;n<r.length;n++){var o=r[n],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function zc(e,t){return void 0===t&&(t=!1),Yc(e)||Lc(e)||!jc(e)||(xc(e)>1&&(e.set=e.add=e.clear=e.delete=Jc),Object.freeze(e),t&&Hc(e,(function(e,t){return zc(t,!0)}),!0)),e}function Jc(){Vc(2)}function Yc(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Xc(e){var t=Od[e];return t||Vc(18,e),t}function Zc(){return _d}function Qc(e,t){t&&(Xc("Patches"),e.u=[],e.s=[],e.v=t)}function $c(e){ed(e),e.p.forEach(rd),e.p=null}function ed(e){e===_d&&(_d=e.l)}function td(e){return _d={p:[],l:_d,h:e,m:!0,_:0}}function rd(e){var t=e[bd];0===t.i||1===t.i?t.j():t.g=!0}function nd(e,t){t._=t.p.length;var r=t.p[0],n=void 0!==e&&e!==r;return t.h.O||Xc("ES5").S(t,e,n),n?(r[bd].P&&($c(t),Vc(4)),jc(e)&&(e=od(t,e),t.l||sd(t,e)),t.u&&Xc("Patches").M(r[bd],e,t.u,t.s)):e=od(t,r,[]),$c(t),t.u&&t.v(t.u,t.s),e!==gd?e:void 0}function od(e,t,r){if(Yc(t))return t;var n=t[bd];if(!n)return Hc(t,(function(o,i){return id(e,n,t,o,i,r)}),!0),t;if(n.A!==e)return t;if(!n.P)return sd(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=4===n.i||5===n.i?n.o=qc(n.k):n.o;Hc(3===n.i?new Set(o):o,(function(t,i){return id(e,n,o,t,i,r)})),sd(e,o,!1),r&&e.u&&Xc("Patches").R(n,r,e.u,e.s)}return n.o}function id(e,t,r,n,o,i){if(Lc(o)){var s=od(e,o,i&&t&&3!==t.i&&!Fc(t.D,n)?i.concat(n):void 0);if(Gc(r,n,s),!Lc(s))return;e.m=!1}if(jc(o)&&!Yc(o)){if(!e.h.F&&e._<1)return;od(e,o),t&&t.A.l||sd(e,o)}}function sd(e,t,r){void 0===r&&(r=!1),e.h.F&&e.m&&zc(t,r)}function ad(e,t){var r=e[bd];return(r?Kc(r):e)[t]}function cd(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function dd(e){e.P||(e.P=!0,e.l&&dd(e.l))}function ud(e){e.o||(e.o=qc(e.t))}function ld(e,t,r){var n=Bc(t)?Xc("MapSet").N(t,r):Wc(t)?Xc("MapSet").T(t,r):e.O?function(e,t){var r=Array.isArray(e),n={i:r?1:0,A:t?t.A:Zc(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=n,i=Cd;r&&(o=[n],i=Td);var s=Proxy.revocable(o,i),a=s.revoke,c=s.proxy;return n.k=c,n.j=a,c}(t,r):Xc("ES5").J(t,r);return(r?r.A:Zc()).p.push(n),n}function pd(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return qc(e)}var hd,_d,fd="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),vd="undefined"!=typeof Map,Ed="undefined"!=typeof Set,yd="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,gd=fd?Symbol.for("immer-nothing"):((hd={})["immer-nothing"]=!0,hd),Sd=fd?Symbol.for("immer-draftable"):"__$immer_draftable",bd=fd?Symbol.for("immer-state"):"__$immer_state",md=""+Object.prototype.constructor,Id="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Ad=Object.getOwnPropertyDescriptors||function(e){var t={};return Id(e).forEach((function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)})),t},Od={},Cd={get:function(e,t){if(t===bd)return e;var r=Kc(e);if(!Fc(r,t))return function(e,t,r){var n,o=cd(t,r);return o?"value"in o?o.value:null===(n=o.get)||void 0===n?void 0:n.call(e.k):void 0}(e,r,t);var n=r[t];return e.I||!jc(n)?n:n===ad(e.t,t)?(ud(e),e.o[t]=ld(e.A.h,n,e)):n},has:function(e,t){return t in Kc(e)},ownKeys:function(e){return Reflect.ownKeys(Kc(e))},set:function(e,t,r){var n=cd(Kc(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var o=ad(Kc(e),t),i=null==o?void 0:o[bd];if(i&&i.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,o)&&(void 0!==r||Fc(e.t,t)))return!0;ud(e),dd(e)}return e.o[t]===r&&"number"!=typeof r||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==ad(e.t,t)||t in e.t?(e.D[t]=!1,ud(e),dd(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=Kc(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){Vc(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Vc(12)}},Td={};Hc(Cd,(function(e,t){Td[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Td.deleteProperty=function(e,t){return Cd.deleteProperty.call(this,e[0],t)},Td.set=function(e,t,r){return Cd.set.call(this,e[0],t,r,e[0])};var wd=new(function(){function e(e){var t=this;this.O=yd,this.F=!0,this.produce=function(e,r,n){if("function"==typeof e&&"function"!=typeof r){var o=r;r=e;var i=t;return function(e){var t=this;void 0===e&&(e=o);for(var n=arguments.length,s=Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return i.produce(e,(function(e){var n;return(n=r).call.apply(n,[t,e].concat(s))}))}}var s;if("function"!=typeof r&&Vc(6),void 0!==n&&"function"!=typeof n&&Vc(7),jc(e)){var a=td(t),c=ld(t,e,void 0),d=!0;try{s=r(c),d=!1}finally{d?$c(a):ed(a)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return Qc(a,n),nd(e,a)}),(function(e){throw $c(a),e})):(Qc(a,n),nd(s,a))}if(!e||"object"!=typeof e){if((s=r(e))===gd)return;return void 0===s&&(s=e),t.F&&zc(s,!0),s}Vc(21,e)},this.produceWithPatches=function(e,r){return"function"==typeof e?function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return t.produceWithPatches(r,(function(t){return e.apply(void 0,[t].concat(o))}))}:[t.produce(e,r,(function(e,t){n=e,o=t})),n,o];var n,o},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){jc(e)||Vc(8),Lc(e)&&(e=function(e){return Lc(e)||Vc(22,e),function e(t){if(!jc(t))return t;var r,n=t[bd],o=xc(t);if(n){if(!n.P&&(n.i<4||!Xc("ES5").K(n)))return n.t;n.I=!0,r=pd(t,o),n.I=!1}else r=pd(t,o);return Hc(r,(function(t,o){n&&function(e,t){return 2===xc(e)?e.get(t):e[t]}(n.t,t)===o||Gc(r,t,e(o))})),3===o?new Set(r):r}(e)}(e));var t=td(this),r=ld(this,e,void 0);return r[bd].C=!0,ed(t),r},t.finishDraft=function(e,t){var r=(e&&e[bd]).A;return Qc(r,t),nd(void 0,r)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!yd&&Vc(20),this.O=e},t.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}var o=Xc("Patches").$;return Lc(e)?o(e,t):this.produce(e,(function(e){return o(e,t.slice(r+1))}))},e}()),Rd=wd.produce;wd.produceWithPatches.bind(wd),wd.setAutoFreeze.bind(wd),wd.setUseProxies.bind(wd),wd.applyPatches.bind(wd),wd.createDraft.bind(wd),wd.finishDraft.bind(wd);const Nd={ssrc:0,status:mi.End,shareDimension:{width:0,height:0},receivedShareDimension:{width:1920,height:1080,logicWidth:1920,logicHeight:1080},sharePrivilege:bi.OnlyHost,activeNodeId:0,activeSsrc:0,shareQuality:1,isRemoteSharingActive:!1,isReceiveSharing:!1,isRemoteControlApproved:!1,isGrabRemoteControl:!1,isSDKGrabControl:!1,isChromeExtensionInstalled:!1,isScreenShareForbidden:!1},Dd=Rr({[""+ea]:Rd((e,{payload:t})=>{e.sharePrivilege=t}),[""+ta]:Rd((e,{payload:t})=>{e.isRemoteSharingActive=1===t.bStatus,e.activeNodeId=t.activeNodeID,e.activeSsrc=t.ssrc}),[""+ra]:Rd((e,{payload:t})=>{e.isReceiveSharing=t}),[""+na]:Rd((e,{payload:t})=>{e.isChromeExtensionInstalled=t}),[""+ia]:Rd((e,{payload:t})=>{e.shareDimension=d({},t)}),[""+sa]:Rd((e,{payload:t})=>{e.status=t}),[""+aa]:Rd((e,{payload:t})=>{e.ssrc=t}),[""+ca]:Rd((e,{payload:t})=>{e.shareQuality=t}),[""+da]:Rd((e,{payload:t})=>{e.receivedShareDimension=d({},t)}),[""+ua]:Rd((e,{payload:t})=>{e.isRemoteControlApproved=t}),[""+la]:Rd((e,{payload:t})=>{e.isGrabRemoteControl=t}),[""+pa]:Rd((e,{payload:t})=>{e.isVerifiedRenderCanvasAfterFailover=t}),[""+ha]:Rd((e,{payload:t})=>{e.isVerifiedCaptureCanvasAfterFailover=t}),[""+_a]:Rd((e,{payload:t})=>{e.isSDKGrabControl=t}),[""+fa]:()=>d(d({},Nd),{},{isVerifiedRenderCanvasAfterFailover:!1,isVerifiedCaptureCanvasAfterFailover:!1})},Nd),Pd=an(Uc),Md=ni.createAgent(),kd=(e,t)=>e.pipe(Mt(""+to),Tt(t),Je(([,e])=>void 0!==e.meeting.encryptedRWC),Rc(([,e])=>{const{meeting:{encryptedRWC:t,ts:r,auth:n,meetingNumber:o},breakoutRoom:i}=e;if(t)return ke(Object.keys(t).map(e=>{const s=t[e];let a=void 0;return a=i&&i.currentRoom.boConfId?Ac(e,o,s,r,n,i.currentRoom.boConfId):Ac(e,o,s,r,n),{url:a,domain:e,rwcToken:s}})).pipe(Ue(e=>Rn(e.url).pipe(Ue(t=>{let r={};return r=t.response?d(d({},t.response),{},{fromNginx:!1}):{rwg:e.domain,rwcToken:e.rwcToken,fromNginx:!0},ke([Gr(r),Nr()])}),nt(()=>$))),Et(lo(performance.now())))}));var Ud=Object.freeze({__proto__:null,pingRWCEpic:kd,joinMeetingSuccessfulEpic:(e,t)=>cn(e,4098).pipe(Tt(t),Rc(([e,t])=>{const{payload:{body:{res:r,userID:n,zoomID:o,mn:i,participantID:s,hugeBO:a,elapsed:c,disableAqos:d,meetingtoken:u}}}=e,{meeting:{pingRWCTimestamp:l,isWebinar:p,userEmail:h,userName:_,isMeetingReset:f,meetingOptions:v},media:{mediaConstraints:E,assetsPath:y},breakoutRoom:g}=t;if(Pn.CONF_SUCCESS===r){const{WebclientParticipantId:t,WebclientUserId:r,WebclientZoomId:S,WebclientUserEmail:b,WebclientUserName:m,WebclientMeetingToken:I}=Yo;Uo.set(r,n,Mo.SessionStorage),Uo.set(S,o,Mo.SessionStorage),Uo.set(t,s,Mo.SessionStorage),h&&Uo.set(b,h,Mo.SessionStorage),Uo.set(m,_,Mo.SessionStorage),u&&Uo.set(I,u,Mo.SessionStorage),Md.sendRWGConnectionPerformance(`WCL_M, JMCT(${performance.now()-l})`);const A=[po(e.payload.body),Oo(performance.now())];return si.getInstance().init(),f&&(A.push(yo(!1)),void 0!==E&&void 0!==y&&A.push(Jr())),p&&A.push(Dr()),g&&(v&&!0===v.isBO100Enabled&&A.push(Sc(a)),g.currentRoom.boConfId&&A.push(jr()),void 0!==c&&A.push(ic(c))),void 0!==d&&A.push(Co(!d)),Xi("JOIN_MEETING_SUCCESS",{meetingNumber:i}),ke(A)}return Pn.CONF_FAIL_CONFLOCKED===r?Xi("JOIN_MEETING_FAILED",Bn(r)):Pn.CONF_FAIL_CONF_USER_FULL===r?Xi("JOIN_MEETING_FAILED",Object.assign({},Bn(r),{lmUrl:e.payload.body.lmURL})):(Pn.CONF_FAIL_MEETING_OVER===r||Pn.CONF_RESULT_MMR_IB_REJECT===r||Pn.CONF_FAIL_RESULT_MMR_CONF_PARTICIPANT_EXISTS===r||[Pn.CONF_FAIL_HAS_BEEN_REMOVED,Pn.CONF_FAIL_WEBINAR_DENIED_EMAIL].includes(r),Xi("JOIN_MEETING_FAILED",Bn(r))),ke(Oc(t,!1))})),handleMeetingAttributeChangeEpic:(e,t)=>cn(e,7938).pipe(Tt(t),Ae(([e,t])=>{const{payload:{body:r}}=e,{meeting:{zoomId:n,encType:o}}=t;if(void 0!==(null==r?void 0:r.encryptKey)&&ei.init(n,r.encryptKey,o),void 0!==(null==r?void 0:r.gatewayKey)){const e=si.getInstance(),[,t,n]=r.gatewayKey.split(".");e.sendUserNodeList([{userid:Number(t),sn:n&&Xn(n)}])}return Xi("UPDATE_MEETING_ATTRIBUTE",r),ho(r)})),handleMeetingEndEpic:(e,t)=>cn(e,7939).pipe(Tt(t),Ue(([e,t])=>{const{payload:{body:r}}=e;if(void 0!==r.reason){if(Mn.LEAVEREASON_RECONNECT===r.reason)return kn.LEAVESUBREASON_WAITINGROOMFAILOVER===r.subReason?Xi("RECONNECTING_MEETING",{reason:No.OnHold}):Xi("RECONNECTING_MEETING",{reason:No.Failover}),se(ro());Mn.LEAVEREASON_KICKEDBYHOST===r.reason?Xi("LEAVING_MEETING",{reason:"kicked by host"}):Mn.LEAVEREASON_ENDBYHOST!==r.reason&&Mn.LEAVEREASON_ENDBYHOSTSTARTANOTHERMEETING!==r.reason||Xi("LEAVING_MEETING",{reason:"ended by host"})}return t.meeting.isMeetingReset?$:ke(Oc(t,!1))})),meetingFailoverEpic:(e,t)=>e.pipe(Mt(""+ro),Tt(t),Ue(([,e])=>{const t=Oc(e,!0);let r;if(e.meeting.zlkJwtToken){const t=function(e){if(e){const{meeting:{topic:t,passWord:r,userName:n,zlkJwtToken:o,lang:i,cv:s,customerKey:a}}=e;return{topic:t,passWord:r,userName:n,zlkJwtToken:o,lang:i,cv:s,customerKey:a}}return null}(e),n={topic:null==t?void 0:t.topic,password:null==t?void 0:t.passWord,userName:null==t?void 0:t.userName,zlk:null==t?void 0:t.zlkJwtToken,lang:null==t?void 0:t.lang,cv:null==t?void 0:t.cv,customerKey:null==t?void 0:t.customerKey};r=se(eo(n)).pipe(st(1e3))}else{const t=function(e){const{meeting:{apiKey:t,signature:r,meetingNumber:n,userName:o,lang:i,passWord:s,userEmail:a,sdkUrl:c,sdkOrigin:d,proxy:u,cv:l,zak:p,tk:h}}=e;return{apiKey:t,signature:r,meetingNumber:n,userName:o,lang:i,passWord:s,userEmail:a,sdkUrl:c,sdkOrigin:d,proxy:u,cv:l,ztk:p||sessionStorage.getItem(Yo.WebclientZak),tk:h||sessionStorage.getItem(Yo.WebclientTk)}}(e);r=se($n(t)).pipe(st(1e3))}return xe(ke(t),r)})),hostChangeEpic:e=>un(e,7940).pipe(At(e=>{Xi("MEETING_HOST_CHANGE_INDICATION",e.payload.body.bHost)}),Ae(e=>fo(e.payload.body))),cohostChangeEpic:e=>un(e,7941).pipe(At(e=>{Xi("MEETING_COHOST_CHANGE_INDICATION",e.payload.body.bCoHost)}),Ae(e=>vo(e.payload.body))),setMeetingOptEpic:e=>un(e,7945).pipe(At(e=>{const{payload:{body:{opt:t}}}=e;Uo.set(Yo.WebclientOpt,t,Mo.SessionStorage)}),vt($)),setMeetingOnHoldEpic:(e,t)=>cn(e,7942).pipe(At(e=>{const{payload:{body:{bHold:t}}}=e;Uo.set(Yo.WebclientIsOnHold,t?1:0,Mo.SessionStorage),Xi("MEETING_IN_WAITING_ROOM",t)}),Tt(t),Ue(([e,t])=>{const r=[Eo(e.payload.body.bHold)];if(e.payload.body.bHold){const e=Cs(t);if(e){r.push(go({audio:e.audio,video:e.bVideoOn,muted:e.muted}));const n=si.getInstance();if("computer"===e.audio&&(n.leaveComputerAudio(),Md.joinOrLeaveVoip(!1)),e.bVideoOn&&n.stopCaptureVideo(),e.sharerOn&&(Md.stopSharing(e.userId),n.stopDesktopSharing(),r.push(sa(mi.End))),t.video&&t.video.subscribedVideoList.length>0&&t.video.subscribedVideoList.forEach(e=>{Md.unsubscribeVideo(e)}),t.share&&t.share.isReceiveSharing){const e=t.share.activeNodeId;t.share.isRemoteControlApproved&&(Md.sharingRequestRemoteControl(e,!1),n.stopRemoteControl()),Md.unsubscribeSharing(e),n.stopRenderSharing()}}}return ke(r)})),setMeetingDataCenterRegionEpic:e=>cn(e,7954).pipe(Ae(e=>Io(e.payload.body))),claimHostResponseEpic:e=>cn(e,4216).pipe(At(e=>{Xi("MEETING_CLAIM_HOST_KEY_RESPONSE",e.payload.body.bresult)}),vt($)),leaveMeetingEpic:(e,t)=>e.pipe(Mt(""+no,""+oo),Tt(t),Ue(([e,t])=>(e.type===""+no?(Md.leaveMeeting(),Xi("LEAVING_MEETING",{})):e.type===""+oo&&(Md.endMeeting(),Xi("LEAVING_MEETING",{})),ke(Oc(t,!1))))),versionUpgradeEpic:e=>cn(e,2).pipe(At(()=>{console.warn("Upgrade to latest version to optimize meeting experience")}),vt($)),versionBlockEpic:e=>cn(e,1).pipe(At(e=>{const{payload:{body:{upgradeVersion:t}}}=e,r=Bn(1e3);if(r&&r.reason){const e=r.reason.replace(/{(\d+)}/g,()=>t);r.reason=e}Xi("JOIN_MEETING_FAILED",r)}),vt($))});let Vd,Ld,jd=window.WEB_ENDPOINT||"zoom.us",Hd=`https://${jd}/wc/lsdk`;!function(e){e.Expel="expel",e.Promote="promote",e.Depromote="depromote",e.MemberChange="memberChange",e.RaiseHand="raisehand",e.LowerHand="lowerhand",e.PutdownHands="putdownhands"}(Vd||(Vd={})),function(e){e[e.AttendeeToAllPanelist=1]="AttendeeToAllPanelist",e[e.PanelistToAttendee=3]="PanelistToAttendee"}(Ld||(Ld={}));const xd=["CONNECTED","DISCONNECTED","POOL","CONNFAIL","OnlineMembers","GroupChange","RosterChange","WebinarQA","Message"];class Fd{constructor(){if(this.callbackList=void 0,this.instance=void 0,this.callbackList=[],"undefined"!=typeof webIM&&(this.instance=new webIM.WebimInstance,this.instance)){const e=this.instance.server;xd.forEach(t=>{e.on(t,e=>{this.onXmppCallback(t,e)})})}this.onXmppCallback=this.onXmppCallback.bind(this)}static getInstance(){return void 0===this.agentInstance&&(this.agentInstance=new Fd),this.agentInstance}onXmppCallback(e,t){this.callbackList.length>0&&this.callbackList.forEach(r=>r(e,t))}registerCallback(e){this.callbackList.push(e)}unregisterCallback(e){const t=this.callbackList.findIndex(t=>t===e);t>-1&&this.callbackList.splice(t,1)}connect(e){var t;const{svcUrl:r,meetingNumber:n,conId:o,clientCap:i,jid:s,displayName:a}=e;if(!this.instance&&void 0!==window.webIM){this.instance=new window.webIM.WebimInstance;const e=this.instance.server;xd.forEach(t=>{e.on(t,e=>{this.onXmppCallback(t,e)})})}const c=`wss://${r}/wc/media/${n}?type=x&cid=${o}`;null===(t=this.instance)||void 0===t||t.server.connect({url:c,jid:s,meetingNumber:n,clientCap:i,displayName:a})}lowerHand(e){var t;null===(t=this.instance)||void 0===t||t.server.lowerHand(e)}raiseHand(){var e;null===(e=this.instance)||void 0===e||e.server.raiseHand()}sendWebinarMsg(e,t,r,n){var o;null===(o=this.instance)||void 0===o||o.server.sendWebinarMsg(e,t,r,n)}rename(e,t){var r;null===(r=this.instance)||void 0===r||r.server.rename(e,t)}sendAsk(e,t,r){var n;null===(n=this.instance)||void 0===n||n.server.sendAsk(e,t,r)}sendAnswer(e,t,r){var n;null===(n=this.instance)||void 0===n||n.server.sendAnswer(e,t,r)}answerOnline(e,t){var r;null===(r=this.instance)||void 0===r||r.server.answerOnline(e,t)}sendDismiss(e){var t;null===(t=this.instance)||void 0===t||t.server.sendDismiss(e)}sendReOpen(e){var t;null===(t=this.instance)||void 0===t||t.server.sendReOpen(e)}sendUpVote(e){var t;null===(t=this.instance)||void 0===t||t.server.sendUpVote(e)}sendDownVote(e){var t;null===(t=this.instance)||void 0===t||t.server.sendDownVote(e)}disconnect(){var e;null===(e=this.instance)||void 0===e||e.server.disconnect(),this.instance=void 0}}Fd.agentInstance=void 0;let Gd=0;var Bd=Kn((function(e,t){var r;r=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function o(){}function i(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var s=JSON.stringify(r);/^[\{\[]/.test(s)&&(r=s)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var c in i)i[c]&&(a+="; "+c,!0!==i[c]&&(a+="="+i[c].split(";")[0]));return document.cookie=t+"="+r+a}}function s(e,r){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],s=0;s<i.length;s++){var a=i[s].split("="),c=a.slice(1).join("=");r||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var d=t(a[0]);if(c=(n.read||n)(c,d)||t(c),r)try{c=JSON.parse(c)}catch(e){}if(o[d]=c,e===d)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return s(e,!1)},o.getJSON=function(e){return s(e,!0)},o.remove=function(t,r){i(t,"",e(r,{expires:-1}))},o.defaults={},o.withConverter=r,o}((function(){}))},e.exports=r()})),Wd="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),Kd=new Uint8Array(16);function qd(){if(!Wd)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wd(Kd)}for(var zd=[],Jd=0;Jd<256;++Jd)zd.push((Jd+256).toString(16).substr(1));function Yd(e,t,r){var n=(e=e||{}).random||(e.rng||qd)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return function(e,t){return(zd[e[0]]+zd[e[1]]+zd[e[2]]+zd[e[3]]+"-"+zd[e[4]]+zd[e[5]]+"-"+zd[e[6]]+zd[e[7]]+"-"+zd[e[8]]+zd[e[9]]+"-"+zd[e[10]]+zd[e[11]]+zd[e[12]]+zd[e[13]]+zd[e[14]]+zd[e[15]]).toLowerCase()}(n)}let Xd;!function(e){e[e.Unknown=0]="Unknown",e[e.Windows=1]="Windows",e[e.Mac=2]="Mac",e[e.Pad=3]="Pad",e[e.Mobile=4]="Mobile",e[e.CallIn=5]="CallIn",e[e.Linux=6]="Linux",e[e.WebClient=7]="WebClient",e[e.ChromeOs=8]="ChromeOs"}(Xd||(Xd={}));const{WebclientIsOnHold:Zd,WebclientOpt:Qd,WebclientParticipantId:$d,WebclientZoomId:eu,WebclientWebinarToken:tu}=Yo,{WebclientDeviceId:ru}=Xo,nu=Fd.getInstance();let ou;var iu=Object.freeze({__proto__:null,loadWebIMEpic:(e,t)=>e.pipe(Mt(""+kr),Tt(t),Ue(([,e])=>{const{media:{assetsPath:t}}=e;return ke(new Promise((e,r)=>{To(t+"/webim.min.js",()=>{e("")},()=>{r()})})).pipe(ht(Kr(!0)),nt(e=>se(Kr(!1))))})),connectXMPPSocketEpic:(e,t)=>e.pipe(Mt(""+Dr),Tt(t),Je(([,e])=>"closed"===e.socket.xmppSocketStatus),Rc(([,t])=>{const{meeting:{svcUrl:r,meetingNumber:n,conId:o,jid:i,userName:s},socket:{isXmppSDKLoaded:a}}=t,c=jo()&&Ho()?11:10;let d=se(a);return!1===a&&(d=e.pipe(Mt(""+Kr),ut(1))),d.pipe(Ue(e=>{return e?(t={svcUrl:r,meetingNumber:n,conId:o,jid:i,userName:s,clientCap:c},nu.connect(t),ou=new K,We(e=>nu.registerCallback(e),e=>nu.unregisterCallback(e),(e,t)=>({event:e,data:t})).subscribe(ou),ou).pipe(Ae(e=>Lr(e)),Et(Wr(ks.Connecting))):ae("webim load fail");var t}))})),connectedXmppSocketEpic:(e,t)=>e.pipe(Mt(""+Wr),Je(e=>e.payload===ks.Connecting),Rc(()=>{if(ou){const e=ou.pipe(Je(e=>"CONNECTED"===e.event)),r=ou.pipe(Je(e=>"DISCONNECTED"===e.event));return qe(e.pipe(Ue(()=>se(Wr(ks.Connected)))),r.pipe(Tt(t),Je(([,e])=>"closed"!==e.socket.xmppSocketStatus&&"joined"===e.meeting.meetingStatus&&!e.meeting.isMeetingReset),Ae(()=>(Xi("RECONNECTING_MEETING",{reason:No.Failover}),ro()))))}})),disconnectXmppSocketEpic:e=>e.pipe(Mt(""+Mr),ht(Wr(ks.Closed)),At(()=>{var e;nu.disconnect(),null===(e=ou)||void 0===e||e.complete()}))});const su={meetingStatus:"initial",isWindowOpen:!1,apiKey:"",signature:"",lang:"en-US",tk:"",customerKey:"",mtkGuid:"",pingRWCTimestamp:0,passWord:"",meetingNumber:0,userName:"",userEmail:"",sdkUrl:"",sdkOrigin:"",proxy:1,cv:"",meetingId:"",tid:"",ts:"",auth:"",sign:"",isSupportCallOut:!1,tollNumbers:void 0,recordingEnable:!1,callOutCountry:void 0,inviteEmail:"",xmppConfig:null,isSupportH323:!1,h323GatewayInfo:"",h323Password:"",trackAuth:"",isOriginHost:!1,isWebinar:!1,encryptedRWC:void 0,meetingOptions:null,meetingTopic:"",isSupportQA:!1,bLock:!1,bHoldUponEntry:!1,viewOnly:0,listenOnlyPhone:0,bAllowRaiseHand:!1,bAllowAttendeeRename:!1,bBroadcast:void 0,bAllowPlayChimeForEnterOrExit:!1,bIbDisableShare:!1,bIbDisableChat:!1,bAllowShowCount:!1,encryptKey:"",bNoHostTimeOut:!1,confId:"",conId:"",e2eEncrypt:!1,zoomId:"",jid:"",xtoken:"",groups:void 0,svcUrl:"",encType:NaN,userGUID:"",userId:NaN,isHost:!1,isCoHost:!1,participantID:0,isOnHold:!1,isMeetingReset:!1,bRecord:!1,audioVideoBeforeOnHold:void 0,region:void 0,network:void 0,joinMeetingTimeStamp:0,enableQos:!0},au=Rr({[""+io]:Rd((e,{payload:t})=>{Object.assign(e,t)}),[""+so]:Rd((e,{payload:t})=>{e.isWindowOpen=t}),[""+ao]:Rd((e,{payload:t})=>{e.apiKey=t.apiKey,e.signature=t.signature,e.lang=t.language}),[""+co]:Rd((e,{payload:t})=>{e.zak=t}),[""+uo]:Rd((e,{payload:t})=>{e.tk=t.tk,e.mtkGuid=t.mtkGuid}),[""+lo]:Rd((e,{payload:t})=>{e.pingRWCTimestamp=t}),[""+po]:Rd((e,{payload:t})=>{e.confId=t.confID,e.conId=t.conID,e.e2eEncrypt=t.e2eEncrypt,e.meetingNumber=parseInt(t.mn,10),e.zoomId=t.zoomID,e.meetingStatus="joined",e.jid=t.jid,e.xtoken=t.xtoken,e.groups=t.groups,e.svcUrl=t.svcUrl,e.encType=t.encType,e.userGUID=t.userGUID,e.userId=t.userID,e.role=t.role,e.participantID=t.participantID}),[""+ho]:Rd((e,{payload:t})=>{Object.assign(e,t)}),[""+fo]:Rd((e,{payload:t})=>{e.isHost=t}),[""+vo]:Rd((e,{payload:t})=>{e.isCoHost=t}),[""+Eo]:Rd((e,{payload:t})=>{e.isOnHold=t}),[""+yo]:Rd((e,{payload:t})=>{e.isMeetingReset=t}),[""+go]:Rd((e,{payload:t})=>{e.audioVideoBeforeOnHold=t}),[""+So]:Rd((e,{payload:t})=>{e.currentUserAudioBeforeReset=t}),[""+bo]:Rd((e,{payload:t})=>{e.isCurrentUserMutedBeforeReset=t}),[""+mo]:Rd((e,{payload:t})=>{e.meetingStatus=t}),[""+Io]:Rd((e,{payload:t})=>{e.region=t.region,e.network=t.network}),[""+Ao]:Rd((e,{payload:t})=>{e.isCurrentUserStartVideoBeforeReset=t}),[""+Oo]:Rd((e,{payload:t})=>{e.joinMeetingTimeStamp=t}),[""+Co]:Rd((e,{payload:t})=>{e.enableQos=t}),[""+_o]:Rd((e,{payload:t})=>{Object.assign(e,d(d({},su),{},{isMeetingReset:!0,currentUserAudioBeforeReset:e.audioVideoBeforeOnHold?e.audioVideoBeforeOnHold.audio:t.audio,isCurrentUserMutedBeforeReset:e.audioVideoBeforeOnHold?e.audioVideoBeforeOnHold.muted:t.muted,isCurrentUserStartVideoBeforeReset:e.audioVideoBeforeOnHold?e.audioVideoBeforeOnHold.video:t.video,apiKey:e.apiKey,signature:e.signature,meetingNumber:e.meetingNumber,userName:e.userName,lang:e.lang,passWord:e.passWord,userEmail:e.userEmail,sdkUrl:e.sdkUrl,sdkOrigin:e.sdkOrigin,proxy:1,cv:e.cv}))})},su),cu=an(Ud,{meetingInfoEpic:(e,t)=>e.pipe(Mt(""+eo),bt(e=>{const r=Object.assign({},e.payload,{password:zn(e.payload.password),topic:zn(e.payload.topic)});return((e,t,r="zoomsdkjsonpcallback")=>new x(n=>{Gd++;const o=`${r}${Gd}`,i=document.createElement("script");Object.keys(t).forEach(e=>(void 0===t[e]||null===t[e])&&delete t[e]),i.src=`${e}?${new URLSearchParams(Object.assign(t,{callback:o})).toString()}`,i.async=!0,i.onerror=e=>n.error(e),document.getElementsByTagName("head")[0].appendChild(i),window[o]=e=>{i.parentNode&&i.parentNode.removeChild(i),delete window[o],n.next(e),n.complete()}}))(Hd,r).pipe(nt(e=>se({status:!1,result:e.toString(),errorCode:-3e3})),Ue(r=>{const[n,o]=Ze(se(r),e=>!0===e.status&&void 0!==e.result);return o.subscribe(e=>{e.state||(3e3===e.errorCode&&"Meeting password is incorrect"===e.errorMessage?Xi("JOIN_MEETING_FAILED",Gn(3004)):-3e3===e.errorCode?Xi("JOIN_MEETING_FAILED",{reason:"connection error"}):3e3===e.errorCode?Xi("JOIN_MEETING_FAILED",{reason:e.errorMessage,errorCode:200}):300===e.errorCode?Xi("JOIN_MEETING_FAILED",{reason:"This account does not exist or does not belong to you",errorCode:200}):124===e.errorCode&&"Parse lite sdk topic and pwd fail"===e.errorMessage?Xi("JOIN_MEETING_FAILED",{reason:"Parse topic and pwd fail",errorCode:200}):124===e.errorCode&&"The java web token is expired or more than 2 days or ineffective."===e.errorMessage?Xi("JOIN_MEETING_FAILED",{reason:"The token is expired or more than 2 days or ineffective.",errorCode:200}):124===e.errorCode&&Xi("JOIN_MEETING_FAILED",{reason:"Verify JWT failed",errorCode:200}))}),n.pipe(wc(r=>{if(!0===r.status){const{result:{mid:n}}=r;return Uo.init(n),xe(se(io(Ic(r,e.payload))),on(kd,t,to()))}}))}))}))}),du=ni.createAgent();let uu;var lu=Object.freeze({__proto__:null,connectZoomSocketEpic:(e,t)=>e.pipe(Mt(""+Nr),Tt(t),Je(([,e])=>"closed"===e.socket.zoomSocketStatus),Rc(([,e])=>{const{socket:{retryCount:t,rwgServerList:r},meeting:n,breakoutRoom:o}=e;let i;if(n.zlkJwtToken)i=function({passWord:e,meetingNumber:t,userName:r,topic:n,trackAuth:o,tid:i,meetingId:s,ts:a,auth:c,lang:d,retryCount:u,rwgServerList:l,cv:p,customerKey:h,zlkJwtToken:_}){const f=Bd.get("_zm_mtk_guid");let v=Uo.get(ru);if(v||(v=Yd(),Uo.set(ru,v,Mo.LocalStorage)),l.length>u){const E=l[u];let y={dn2:zn(r),topic:zn(n),auth:c,browser:Vo(),trackAuth:o,mid:s,tid:i,lang:d,ts:a,"ZM-CID":v,_ZM_MTG_TRACK_ID:f||"",iccv:p,customer_key:zn(h),cfs:0,zlkJwtToken:_};""!==e&&(y=Object.assign(y,{mpwd:zn(e)})),E.rwcAuth?y=Object.assign(y,{rwcAuth:E.rwcAuth}):E.rwcToken&&(y=Object.assign(y,{rwcToken:E.rwcToken}));let g=2;return xo()?g=1:Fo()&&(g=0),y=Object.assign(y,{as_type:g}),[{key:Qd,queryKey:"opt"},{key:$d,queryKey:"participantID"},{key:eu,queryKey:"zoomid"}].forEach(e=>{const t=Uo.get(e.key);void 0!==t&&(y[e.queryKey]=t)}),`wss://${E.rwg}/instantsdk/${t}?${new URLSearchParams(y).toString()}`}return null}(d(d({},n),{},{retryCount:t,rwgServerList:r}));else{let e=d(d({},n),{},{retryCount:t,rwgServerList:r});if(o&&o.currentRoom.status===Is.Joining){const{currentRoom:{boId:t,boConfId:r,boToken:n}}=o;e=d(d({},e),{},{bid:t,botk:n,confID:r})}i=function({isHost:e,isOriginHost:t,passWord:r,meetingNumber:n,userName:o,zak:i,trackAuth:s,tid:a,sign:c,meetingId:d,ts:u,auth:l,lang:p,tk:h,retryCount:_,rwgServerList:f,userEmail:v,cv:E,bid:y,botk:g,confID:S,customerKey:b}){const m=Bd.get("_zm_mtk_guid");let I=Uo.get(ru);if(I||(I=Yd(),Uo.set(ru,I,Mo.LocalStorage)),f.length>_){const A=f[_];let O={dn2:zn(o),auth:l,sign:c,browser:Vo(),trackAuth:s,mid:d,tid:a,email:v,lang:p,zak:i||"",tk:h||"",customer_key:zn(b),ts:u,"ZM-CID":I,_ZM_MTG_TRACK_ID:m||"",jscv:E,cfs:0};e&&t||""===r||(O=Object.assign(O,{mpwd:r})),A.rwcAuth?O=Object.assign(O,{rwcAuth:A.rwcAuth}):A.rwcToken&&(O=Object.assign(O,{rwcToken:A.rwcToken}));let C=2;return xo()?C=1:Fo()&&(C=0),O=Object.assign(O,{as_type:C}),[{key:Zd,queryKey:"cfs"},{key:Qd,queryKey:"opt"},{key:$d,queryKey:"participantID"},{key:eu,queryKey:"zoomid"},{key:tu,queryKey:"tk"}].forEach(e=>{const t=Uo.get(e.key);void 0!==t&&(O[e.queryKey]=t)}),y&&g&&S&&Object.assign(O,{bid:zn(y),botk:g,confID:S}),`wss://${A.rwg}/wc/api/${n}?${new URLSearchParams(O).toString()}`}return null}(e)}if(i){const e=(s=i,du.connect(s),uu=new K,We(e=>du.on(ti.Message,e),e=>du.off(ti.Message,e),e=>e.data).subscribe(uu),uu);return qe(e.pipe(Je(e=>"string"==typeof e),Ae(e=>JSON.parse(e)),Pc(),Tc(e=>{if(0!==e.evt||!e.body||"invalid parameters!"!==e.body.test)return Ur(e);Xi("JOIN_MEETING_FAILED",Gn(Vn.INVALID_PARAMETER))}),Et(Fr(ks.Connecting))),e.pipe(Je(e=>e instanceof ArrayBuffer),Ae(e=>Vr(e))))}var s})),connectedZoomSocketEpic:(e,t)=>e.pipe(Mt(""+Nr),bt(()=>{const[e,r,n]=[ti.Open,ti.Close,ti.Error].map(e=>We(t=>du.on(e,t),t=>du.on(e,t)));return qe(e.pipe(Ue(()=>qe(se(Fr(ks.Connected)),tt(6e4).pipe(Tt(t),Je(([,e])=>"initial"===e.meeting.meetingStatus&&!e.meeting.isMeetingReset),Ae(()=>(Xi("RECONNECTING_MEETING",{reason:No.Failover}),ro())))))),r.pipe(Tt(t),Je(([,e])=>"closed"!==e.socket.zoomSocketStatus&&"joined"===e.meeting.meetingStatus&&!e.meeting.isMeetingReset),Ae(()=>(Xi("RECONNECTING_MEETING",{reason:No.Failover}),ro()))),n.pipe(Tt(t),wc(([,e])=>{const{meeting:{meetingStatus:t,isMeetingReset:r},socket:{retryCount:n}}=e;return"initial"===t?ke([Br(n+1),Pr({retry:!0})]):r?void 0:(Xi("RECONNECTING_MEETING",{reason:No.Failover}),se(ro()))})))})),disconnectZoomSocketEpic:e=>e.pipe(Mt(""+Pr),Ue(e=>e.payload&&e.payload.retry?se(Nr()).pipe(st(1e3),Et(Fr(ks.Closed))):se(Fr(ks.Closed))),st(100),At(()=>{var e;du.close(),null===(e=uu)||void 0===e||e.complete()}))});const pu=oi.getInstance();let hu;var _u=Object.freeze({__proto__:null,connectMainSessionSocketEpic:(e,t)=>e.pipe(Mt(""+jr),Tt(t),Je(([,e])=>"closed"===e.socket.mainSessionSocketStatus),bt(([,e])=>{const{meeting:{svcUrl:t,meetingNumber:r,conId:n}}=e;return(e=>(pu.connect(e),hu=new K,We(e=>pu.on(ti.Message,e),e=>pu.off(ti.Message,e)).pipe(Ae(e=>e.data)).subscribe(hu),hu))(function(e,t,r){return`wss://${e}/wc/media/${t}?type=m&cid=${r}&mode=2`}(t,r,n)).pipe(Ae(e=>JSON.parse(e)),Je(e=>0!==e.evt),Pc(),Ae(e=>xr(e)),Et(qr(ks.Connecting)))})),connectedMainSessionSocketEpic:(e,t)=>e.pipe(Mt(""+jr),bt(()=>{const[e,r,n]=[ti.Open,ti.Close,ti.Error].map(e=>We(t=>pu.on(e,t),t=>pu.on(e,t)));return qe(e.pipe(ht(qr(ks.Connected))),r.pipe(Tt(t),Je(([,e])=>"closed"!==e.socket.zoomSocketStatus&&"joined"===e.meeting.meetingStatus),Ae(()=>(Xi("RECONNECTING_MEETING",{reason:No.Failover}),ro()))),n.pipe(Ae(()=>(Xi("RECONNECTING_MEETING",{reason:No.Failover}),ro()))))})),disconnectMainSessionSocketEpic:e=>e.pipe(Mt(""+Hr),ht(qr(ks.Closed)),At(()=>{var e;pu.close(),null===(e=hu)||void 0===e||e.complete()}))});const fu={zoomSocketStatus:ks.Closed,isXmppSDKLoaded:!1,xmppSocketStatus:ks.Closed,mainSessionSocketStatus:ks.Closed,retryCount:0,rwgServerList:[]},vu=Rr({[""+Fr]:Rd((e,{payload:t})=>{e.zoomSocketStatus=t}),[""+Gr]:Rd((e,{payload:t})=>{const{rwgServerList:r}=e;r.find(e=>e===t.rwg)||r.push(t)}),[""+Br]:Rd((e,{payload:t})=>{e.retryCount=t}),[""+Wr]:Rd((e,{payload:t})=>{e.xmppSocketStatus=t}),[""+Kr]:Rd((e,{payload:t})=>{e.isXmppSDKLoaded=t}),[""+qr]:Rd((e,{payload:t})=>{e.mainSessionSocketStatus=t}),[""+zr]:()=>fu},fu),Eu=an(lu,iu,_u),yu={id:"userId",type:e=>Es(e)?{userType:e,avatarBackgroundType:Math.floor(8*Math.random())+1}:{userType:e},role:e=>{return{userRole:e,isHost:(t=e,(t&_s.Host)===_s.Host)};var t},dn2:e=>({displayName:Jn(e)}),bShareOn:"sharerOn",bSharePause:"sharerPause",bLocalRecordStatus:e=>({bLocalRecord:1===e}),bGuest:"isGuest"};var gu=Object.freeze({__proto__:null,updateAttendeesEpic:(e,t)=>cn(e,7937).pipe(Ae(e=>(e=>{const t={};return["add","remove","update"].forEach(r=>{null!==e[r]&&void 0!==e[r]&&(t[r]=e[r].reduce((e,t)=>{const r=Object.keys(t).reduce((e,r)=>{const n=yu[r];return"function"==typeof n?Object.assign(e,n(t[r])):"string"==typeof n?e[n]=t[r]:e[r]=t[r],e},{}),n=e.find(e=>e.userId===r.userId);return void 0!==n?Object.assign(n,r):e.push(r),e},[]))}),t})(e.payload.body)),Tt(t),Ue(([e,t])=>{const r=[ts(e)],{meeting:{userId:n},participants:{attendeesList:o,failoverAttendeesList:i}}=t;if(e.add){const t=e.add.find(e=>e.userId===n);void 0!==t&&Xi("ADD_CURRENT_USER_PARTICIPANT_ATTRIBUTE",t);const o=e.add.filter(e=>e.userId!==n);if(o.length>0){const e=o.filter(e=>!ys(e.userRole)).map(e=>{const t=i.find(t=>t.zoomID===e.zoomID);return t?d(d({},e),{},{source:t.isOnHold?"on hold":"failover"}):e}),t=e.filter(e=>!!e.source).map(e=>({zoomID:e.zoomID}));r.push(ss(t)),Xi("ADD_USER_PARTICIPANT_ATTRIBUTE",e)}}if(e.update){const t=e.update.find(e=>e.userId===n);void 0!==t&&Xi("UPDATE_CURRENT_USER_PARTICIPANT_ATTRIBUTE",t);const r=e.update.filter(e=>e.userId!==n);r.length>0&&Xi("UPDATE_USER_PARTICIPANT_ATTRIBUTE",r)}if(e.remove){const t=e.remove.map(e=>{const t=o.find(t=>t.userId===e.userId);return t?2===e.action&&1===e.nUserStatus?t.bHold?(r.push(is({zoomID:t.zoomID,isOnHold:!0})),d(d({},e),{},{reason:"on hold"})):(r.push(is({zoomID:t.zoomID,isOnHold:!1})),d(d({},e),{},{reason:"failover"})):e:null}).filter(e=>!!e);Xi("REMOVE_USER_PARTICIPANT_ATTRIBUTE",t)}return ke(r)})),receiveUserListFromXMPPEpic:e=>dn(e,"POOL").pipe(Je(e=>e.payload.data.action===Vd.MemberChange),At(e=>{Xi("UPDATE_WEBINAR_PARTICIPANT_ATTRIBUTE",e.payload.data.data)}),Ae(e=>rs(e.payload.data.data))),handleAdmitAllSilentUsersEpic:e=>cn(e,7951).pipe(At(e=>{!1===e.payload.body.bStarted&&Xi("ADMIT_ALL_SILENT_USERS_END",e.payload.body.bStarted)}),Ae(e=>ns(e.payload.body.bStarted))),handleKVUpdateIndicationEpic:e=>cn(e,7946).pipe(Je(e=>["bRaiseHand","feedback"].indexOf(e.payload.body.key)>-1&&0===e.payload.body.value),Ae(e=>(Xi("UPDATE_USER_PARTICIPANT_ATTRIBUTE",{}),void 0!==e.payload.body.bRaiseHand?as():cs())))});const Su={attendeesList:[],xmppAttendeeList:[],allowTalkAttendeesList:[],failoverAttendeesList:[],isAdmitAllSilentUsers:!1},bu=Rr({[""+ts]:Rd((e,{payload:t})=>{void 0!==t.add&&t.add.length>0&&t.add.forEach(t=>{const r=e.attendeesList.find(e=>e.userId===t.userId);if(void 0!==r)Object.assign(r,t);else{const r=e.allowTalkAttendeesList.find(e=>e.userId===t.userId);void 0!==r?Object.assign(r,t):ys(t.userRole)?e.allowTalkAttendeesList.push(t):e.attendeesList.push(t)}}),void 0!==t.update&&t.update.length>0&&t.update.forEach(t=>{const r=e.attendeesList.find(e=>e.userId===t.userId);if(void 0!==r)Object.assign(r,t);else{const r=e.allowTalkAttendeesList.find(e=>e.userId===t.userId);void 0!==r&&Object.assign(r,t)}}),void 0!==t.remove&&t.remove.length>0&&t.remove.forEach(t=>{const r=e.attendeesList.findIndex(e=>e.userId===t.userId);if(-1!==r)e.attendeesList.splice(r,1);else{const r=e.allowTalkAttendeesList.findIndex(e=>e.userId===t.userId);-1!==r&&e.allowTalkAttendeesList.splice(r,1)}})}),[""+rs]:Rd((e,{payload:t})=>{e.xmppAttendeeList=t.map(e=>d(d({},e),{},{displayName:e.name,userId:Number(e.node),userRole:Number(e.role)}))}),[""+ns]:Rd((e,{payload:t})=>{e.isAdmitAllSilentUsers=t}),[""+as]:Rd(e=>{e.attendeesList.forEach(e=>{!0===e.bRaiseHand&&(e.bRaiseHand=!1)})}),[""+cs]:Rd(e=>{e.attendeesList.forEach(e=>{e.feedback>0&&(e.feedback=0)})}),[""+is]:Rd((e,{payload:t})=>{e.failoverAttendeesList.push(t)}),[""+ss]:Rd((e,{payload:t})=>{t.forEach(t=>{const r=e.failoverAttendeesList.findIndex(e=>e.zoomID===t.zoomID);-1!==r&&e.failoverAttendeesList.splice(r,1)})}),[""+os]:()=>Su},Su),mu=an(gu),Iu={audioEncodeStatus:"initial",audioDecodeStatus:"initial",videoEncodeStatus:"initial",videoDecodeStatus:"initial",sharingEncodeStatus:"initial",sharingDecodeStatus:"initial",assetsPath:"",mediaConstraints:void 0},Au=Rr({[""+Zr]:Rd((e,{payload:t})=>{e.audioDecodeStatus=t}),[""+Xr]:Rd((e,{payload:t})=>{e.audioEncodeStatus=t}),[""+tn]:Rd((e,{payload:t})=>{e.sharingDecodeStatus=t}),[""+en]:Rd((e,{payload:t})=>{e.sharingEncodeStatus=t}),[""+$r]:Rd((e,{payload:t})=>{e.videoDecodeStatus=t}),[""+Qr]:Rd((e,{payload:t})=>{e.videoEncodeStatus=t}),[""+rn]:Rd((e,{payload:t})=>{e.mediaConstraints=t.mediaConstraints,e.assetsPath=t.assetsPath}),[""+nn]:e=>d(d({},Iu),{},{mediaConstraints:e.mediaConstraints,assetsPath:e.assetsPath})},Iu),Ou=(e,t,r)=>Fe(...[t,r].map((t,r)=>{if("initial"!==t)return ke(Promise.resolve("success"===t));{const t=0===r?"ENCODE":"DECODE";return Qe($i(`${e.toUpperCase()}_${t}_SUCCESS`,1).pipe(ht(!0)),$i(`${e.toUpperCase()}_${t}_FAIL`,1).pipe(ht(!1)))}})),Cu=()=>ke(navigator.mediaDevices.enumerateDevices()).pipe(Ae(e=>{const t=[],r=[],n=[];return e.forEach(e=>{const{kind:o,deviceId:i,label:s}=e;switch(o){case"audioinput":"communications"===i||/ZoomAudioDevice/i.test(s)||/Zoom-\S*/.test(s)||/CubebAggregateDevice\S*/.test(s)||t.push({deviceId:i,label:s});break;case"audiooutput":"communications"===i||/ZoomAudioDevice/i.test(s)||r.push({deviceId:i,label:s});break;case"videoinput":n.push({deviceId:i,label:s})}}),{microphones:t,speakers:r,cameras:n}}));function Tu(e){if(e){let r=e;try{const t=e.width;e.width=t}catch(n){var t;r=e.cloneNode(!0),null===(t=e.parentNode)||void 0===t||t.replaceChild(r,e)}return r}return e}const wu=ni.createAgent();var Ru=Object.freeze({__proto__:null,audioAsnsEpic:(e,t)=>cn(e,12033).pipe(Tt(t),Ae(([e,t])=>{const{participants:{attendeesList:r,allowTalkAttendeesList:n}}=t,o=e.payload.body,i={};return o&&([...r,...n].forEach(e=>{for(let t=1;t<=3;t++){const r="asn"+t,{userId:n,displayName:s}=e;if(void 0!==o[r]&&n===o[r]){i[r]={userId:n,displayName:s};break}}}),Xi("AUDIO_ACTIVE_SPEAKER",Object.values(i))),Us(i)})),unmuteConsentAfterSpotlighted:(e,t)=>cn(e,16135).pipe(Tt(t),At(([e,t])=>{const{payload:{body:{id:r,bLeadershipOn:n}}}=e,{audio:{bCanUnmute:o}}=t,i=Cs(t);if(i){const{isHost:e,bCoHost:t,userId:s,audio:a,muted:c}=i,d=e||t;n&&s>>10==r>>10&&(null!==a&&""!==a&&!0!==c||!d&&!o||Xi("AUDIO_UNMUTE_CONSENT",yi.Spotlight))}}),vt($)),unmuteConsentEpic:(e,t)=>cn(e,12037).pipe(Tt(t),At(([,e])=>{const t=Cs(e);null!==(null==t?void 0:t.audio)&&""!==(null==t?void 0:t.audio)&&1==(null==t?void 0:t.muted)&&Xi("AUDIO_UNMUTE_CONSENT",yi.Unmute)}),vt($)),setAudioAttributeEpic:(e,t)=>cn(e,7938).pipe(Je(e=>e.payload.body&&["bCanUnmute","bMutedAll","bMutedUponEntry"].some(t=>void 0!==e.payload.body[t])),Tc(e=>{if(void 0!==e.payload.body.bCanUnmute)return Vs(e.payload.body.bCanUnmute);if(void 0!==e.payload.body.bMutedAll){const r=Cs(t.value);if(("computer"===(null==r?void 0:r.audio)||"phone"===(null==r?void 0:r.audio))&&0==r.muted)return xs(e.payload.body.bMutedAll)}return void 0!==e.payload.body.bMutedUponEntry?Bs(e.payload.body.bMutedUponEntry):void 0})),currentUserAudioChangeEpic:(e,t)=>cn(e,7937).pipe(Tt(t),Je(([,e])=>e.socket.zoomSocketStatus===ks.Connected),wc(([e,t])=>{if(e.payload.body.update&&e.payload.body.update.some(e=>void 0!==e.audio||void 0!==e.muted)){const r=t.meeting.userId,n=e.payload.body.update,[o,i]=Ze(ke(n),e=>e.id===r);i.subscribe(e=>{Xi("AUDIO_PARTICIPANT_AUDIO_UPDATE",e)});const{audio:{isActiveOperation:s,isMutedAll:a},audio:{activeMicrophone:c,activeSpeaker:d,audioSsrc:u}}=t;let l=Cs(t);!l&&e.payload.body.add&&e.payload.body.add.length>0&&(l=e.payload.body.add.find(e=>e.id===r),l&&(l.userRole=l.role));const p=gs(l.userRole);return o.pipe(At(e=>{var t,r,n,o;if(e.audio!==(null===(t=l)||void 0===t?void 0:t.audio))if(""===e.audio)Xi("AUDIO_CURRENT_USER_LEAVE_AUDIO");else if("computer"===e.audio)si.getInstance().joinComputerAudio(u,c,d,!p);else if("phone"===e.audio){var i;"computer"===(null===(i=l)||void 0===i?void 0:i.audio)&&(si.getInstance().leaveComputerAudio(),wu.joinOrLeaveVoip(!1)),Xi("AUDIO_CURRENT_USER_JOIN_BY_PHONE")}(null===(r=l)||void 0===r?void 0:r.audio)&&""!==(null===(n=l)||void 0===n?void 0:n.audio)&&e.muted!==(null===(o=l)||void 0===o?void 0:o.muted)&&(!0===e.muted?Xi("AUDIO_CURRENT_USER_MUTED",{source:s?"active":a?"passive(mute all)":"passive(mute one)"}):!1===e.muted&&Xi("AUDIO_CURRENT_USER_UNMUTED",{source:s?"active":"passive"}))}),Je(e=>{var t,r;return""!==(null===(t=l)||void 0===t?void 0:t.audio)&&e.muted!==(null===(r=l)||void 0===r?void 0:r.muted)}),vt(se(Fs(!1),xs(!1))))}})),handleDialOutEpic:(e,t)=>cn(e,8198).pipe(Tt(t),Je(([e,t])=>e.payload.seq==t.audio.dialout.sequence),At(([e])=>{const t=e.payload.body.result;Xi("AUDIO_DIALOUT_RESULT_CODE",{code:t}),t===gi.Success?Xi("AUDIO_DIALOUT_RESULT_SUCCESS"):-1===[gi.Calling,gi.Ringing,gi.Accepted,gi.Success].indexOf(t)&&Xi("DIALOUT_FAIL")}),Ae(([e])=>js(e.payload.body.result))),handleDialouCancelEpic:e=>cn(e,8200).pipe(At(e=>{const t=e.payload.body.result;[0,11].indexOf(t)>-1?Xi("AUDIO_DIALOUT_CANCEL_SUCCESS"):Xi("DIALOUT_CANCEL_FAIL",t)}),Je(e=>0===e.payload.body.result||11===e.payload.body.result),ht(js(-1))),handleAllowToTalkEpic:(e,t)=>cn(e,12036).pipe(Tt(t),wc(([e,t])=>{const r=Cs(t),{media:{audioEncodeStatus:n},audio:{audioSsrc:o,activeMicrophone:i,activeSpeaker:s}}=t,{promoterID:a,bAllowTalk:c}=e.payload.body;if((null==r?void 0:r.userId)===a){const e=si.getInstance();if(c){let t=se(!0);return"success"!==n&&(e.enableAudioEncode(),t=Qe($i("AUDIO_ENCODE_SUCCESS",1).pipe(ht(!0)),$i("AUDIO_ENCODE_FAIL",1).pipe(ht(!1)))),t.pipe(At(t=>{t&&(e.joinComputerAudio(o,i,s,!0),Xi("AUDIO_UNMUTE_CONSENT",yi.AllowToTalk))}),ht(Hs(!0)))}return wu.mute(a,!0),e.leaveComputerAudio(),tt(300).pipe(At(()=>{e.joinComputerAudio(o,i,s,!1)}),ht(Hs(!1)))}})),handleAllowToTalkResponseEpic:e=>cn(e,8205).pipe(At(e=>{Xi("AUDIO_ALLOW_TO_TALK_RESPONSE",e.payload.body)}),vt($)),handleAttendeePromoteDepromote:(e,t)=>dn(e,"POOL").pipe(Je(e=>e.payload.data.action===Vd.Depromote||e.payload.data.action===Vd.Promote),Tt(t),At(([e,t])=>{const r=Cs(t);"phone"===(null==r?void 0:r.audio)?wu.audioDrop(r.userId):"computer"===(null==r?void 0:r.audio)&&(e.payload.data.action,Vd.Promote)}),vt($)),setAudioSSRCEpic:(e,t)=>cn(e,12035).pipe(Tt(t),Ue(([e,t])=>{const{meeting:{currentUserAudioBeforeReset:r},media:{audioDecodeStatus:n,audioEncodeStatus:o}}=t,{payload:{body:{ssrc:i}}}=e;let s=void 0;const a=Cs(t);if(a&&"computer"===r&&""===a.audio){const e=gs(a.userRole);s=Ou("audio",e?"success":o,n).pipe(Je(([e,t])=>e&&t),At(()=>{wu.joinOrLeaveVoip(!0)}),ht(So(void 0)))}return s?qe(se(Gs(i)),s):se(Gs(i))})),handleMergeAudioEpic:(e,t)=>cn(e,7952).pipe(bt(e=>$i("AUDIO_CURRENT_USER_JOIN_BY_PHONE",1).pipe(Tt(t),At(([,t])=>{const{BindStatus:r,nOperatorUserId:n}=e.payload.body,o=t.participants.attendeesList.find(e=>e.userId===n);!0===r&&Xi("AUDIO_MERGE_AUDIO_INDICATION",{operatorName:null==o?void 0:o.displayName,operatorUserId:n,operatorRole:null==o?void 0:o.userRole})})))),handleUserGrantAudioCaptureEpic:(e,t)=>ln(e,vi.UserGrantCaptureAudio).pipe(Tt(t),Ue(([,e])=>{Xi("AUDIO_CURRENT_USER_JOIN_BY_VOIP");const t=Cs(e),{meeting:{isCurrentUserMutedBeforeReset:r},audio:{bMutedUponEntry:n,isUserGrantCaptureAudio:o}}=e,i=[Ws(!0)];return t&&(!0===t.muted&&wu.mute(t.userId,!0),(!0===r||!o&&!t.isHost&&n)&&(wu.mute(t.userId,!0),r&&i.push(bo(void 0)))),ke(i)})),handleUserForbiddenMicrophoneEpic:e=>ln(e,vi.UserForbiddedCaptureAudio).pipe(At(()=>{Xi("USER_FORBIDDEN_MICROPHONE")}),ht(Ks(!0))),handleAudioSocketErrorEpic:e=>ln(e,vi.AudioWebsocketBroken).pipe(At(()=>{Xi("ESTABLISH_AUDIO_STREAM_ERROR")}),vt($)),handleAudioZeroDataEpic:(e,t)=>ln(e,vi.AudioZeroData).pipe(Tt(t),Tc(([,e])=>{const{audio:{webrtcRestartCount:t,activeMicrophone:r}}=e;if(t<3)return si.getInstance().restoreWebRTC(r),qs(t+1)})),handleAutoPlayEpic:(e,t)=>e.pipe(Mt(""+Zs),Je(e=>!1===e.payload),Ue(()=>(Xi("AUDIO_AUTO_PLAY_FAILED"),Qe(Be(document,"click").pipe(ut(1)),Be(document,"touchend").pipe(ut(1))).pipe(Tt(t),At(([,e])=>{const{audio:{audioSsrc:t,activeMicrophone:r,activeSpeaker:n}}=e,o=Cs(e),i=gs(o.userRole);si.getInstance().joinComputerAudio(t,r,n,!i),wu.joinOrLeaveVoip(!0)}),ht(Zs(!0))))))});const Nu={asnIds:{asn1:{userId:0,displayName:null},asn2:{userId:0,displayName:null},asn3:{userId:0,displayName:null}},microphoneDevicesList:[],speakerDevicesList:[],activeMicrophone:"default",activeSpeaker:"default",isMicrophoneForbidden:!1,audioSsrc:0,bCanUnmute:!1,bMutedUponEntry:!1,isAllowToTalk:!1,dialout:{sequence:0,returnCode:-1},canPlayAudio:!1,isActiveOperation:!1,isMutedAll:!1,isUserGrantCaptureAudio:!1,webrtcRestartCount:0,isComputerAudioLoading:!1},Du=Rr({[""+Us]:Rd((e,{payload:t})=>{e.asnIds=d({},t)}),[""+Vs]:Rd((e,{payload:t})=>{e.bCanUnmute=t}),[""+Ls]:Rd((e,{payload:t})=>{const{dialout:r}=e;r.sequence=t}),[""+js]:Rd((e,{payload:t})=>{const{dialout:r}=e;r.returnCode=t}),[""+Hs]:Rd((e,{payload:t})=>{e.isAllowToTalk=t}),[""+Fs]:Rd((e,{payload:t})=>{e.isActiveOperation=t}),[""+xs]:Rd((e,{payload:t})=>{e.isMutedAll=t}),[""+Gs]:Rd((e,{payload:t})=>{e.audioSsrc=t}),[""+Bs]:Rd((e,{payload:t})=>{e.bMutedUponEntry=t}),[""+Ws]:Rd((e,{payload:t})=>{e.isUserGrantCaptureAudio=t}),[""+Ks]:Rd((e,{payload:t})=>{e.isMicrophoneForbidden=t}),[""+qs]:Rd((e,{payload:t})=>{e.webrtcRestartCount=t}),[""+zs]:Rd((e,{payload:t})=>{e.microphoneDevicesList=t}),[""+Js]:Rd((e,{payload:t})=>{e.speakerDevicesList=t}),[""+Ys]:Rd((e,{payload:t})=>{e.activeMicrophone=t}),[""+Xs]:Rd((e,{payload:t})=>{e.activeSpeaker=t}),[""+Zs]:Rd((e,{payload:t})=>{e.canPlayAudio=t}),[""+Qs]:({dialout:{returnCode:e}})=>d(d({},Nu),{},{dialout:d(d({},Nu.dialout),{},{returnCode:e})}),[""+$s]:Rd((e,{payload:t})=>{e.isComputerAudioLoading=t})},Nu),Pu=an(Ru),Mu=e=>4294966272&e,ku=ni.createAgent(),Uu=si.getInstance();var Vu=Object.freeze({__proto__:null,handleStartCaptureVideoSuccessEpic:(e,t)=>ln(e,vi.StartVideoCaptureSuccess).pipe(Tt(t),Tc(([,e])=>{const{video:{cameraDevicesList:t,activeCamera:r},meeting:{userId:n}}=e;return t.length<1?(Xi("CAN_NOT_DETECT_CAMERA",{reason:"Cannot detect camera devices"}),void Uu.stopCaptureVideo()):"default"===r||t.some(e=>e.deviceId===r)?void ku.muteAttendeeVideo(n,!1):(Xi("CAN_NOT_FIND_CAMERA",{reason:"cannot find target camera"}),void Uu.stopCaptureVideo())})),startVideoResponse:(e,t)=>cn(e,7937).pipe(Tt(t),Je(([e,t])=>{var r,n,o,i;const s=t.meeting.userId;return(null==e||null===(r=e.payload)||void 0===r||null===(n=r.body)||void 0===n||null===(o=n.update)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.id)===s}),Je(([e])=>{var t,r,n,o;return!0===(null==e||null===(t=e.payload)||void 0===t||null===(r=t.body)||void 0===r||null===(n=r.update)||void 0===n||null===(o=n[0])||void 0===o?void 0:o.bVideoOn)}),Tc(()=>(Xi("VIDEO_CAPTURE_START_SUCCESS"),Sa(!0)))),handleForbiddenCaptureVideoEpic:e=>ln(e,vi.UserForbiddedCaptureVideo).pipe(At(()=>Xi("VIDEO_USER_FORBIDDEN_CAPTURE")),ht(ma(!0))),handleCameraIsTakenByOtherProgramsEpic:e=>ln(e,vi.UserCameraIsTakenByOtherPrograms).pipe(At(()=>Xi("VIDEO_CAMERA_IS_TAKEN",{reason:"User camera is taken by other programs."})),ht(Ta(!0))),handleVideoSocketErrorEpic:e=>ln(e,vi.VideoWebsocketBroken).pipe(At(()=>{Xi("VIDEO_ESTABLISH_STREAM_ERROR",{reason:"Video websocket broken."})}),vt($)),handleStopVideoCaptureFailedEpic:e=>ln(e,vi.StopVideoCaptureFailed).pipe(At(()=>{Xi("VIDEO_CAPTURE_STOP_RESULT",{failed:!0,reason:"Unknown."})}),vt($)),handleStopVideoCaptureSuccessEpic:(e,t)=>ln(e,vi.StopVideoCaptureSuccess).pipe(Tt(t),Tc(([,e])=>{const{meeting:{userId:t},video:{isCurrentUserStartedVideo:r}}=e;r||Xi("VIDEO_CAPTURE_STOP_RESULT"),ku.muteAttendeeVideo(t,!0)})),stopVideoResponse:(e,t)=>cn(e,7937).pipe(Tt(t),Je(([e,t])=>{var r,n,o,i;const s=t.meeting.userId;return(null==e||null===(r=e.payload)||void 0===r||null===(n=r.body)||void 0===n||null===(o=n.update)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.id)===s}),Je(([e])=>{var t,r,n,o;return!1===(null==e||null===(t=e.payload)||void 0===t||null===(r=t.body)||void 0===r||null===(n=r.update)||void 0===n||null===(o=n[0])||void 0===o?void 0:o.bVideoOn)}),Tc(()=>(Xi("VIDEO_CAPTURE_STOP_RESULT"),Sa(!1)))),receiveVideoMuteIndication:(e,t)=>cn(e,16133).pipe(Tt(t),Je(([e,t])=>{var r,n;return(null==e||null===(r=e.payload)||void 0===r||null===(n=r.body)||void 0===n?void 0:n.id)===t.meeting.userId}),Tc(([e])=>{const{id:t,bVideoMute:r}=e.payload.body;return Xi("RECEIVE_VIDEO_MUTE_INDICATION",{id:t,isVideoMuted:r}),!0===r&&Uu.stopCaptureVideo(),!1===r&&Xi("ASK_FOR_START_VIDEO_CONSENT",{id:t,isVideoMuted:r}),Oa(r)})),receiveVideoActiveIndication:e=>cn(e,16129).pipe(Ae(e=>{const{payload:{body:{id:t,bVideoOn:r}}}=e,n=Mu(t);return Xi("RECEIVE_VIDEO_ACTIVE_INDICATION",{bVideoOn:r,userId:n}),Ea({bVideoOn:r,userId:n})})),receiveVideoSsrcIndication:(e,t)=>cn(e,16131).pipe(Je(e=>void 0!==e.payload.body.ssrc),Tt(t),bt(([e,t])=>{const{meeting:{isCurrentUserStartVideoBeforeReset:r},media:{videoEncodeStatus:n},video:{captureCanvasList:o,activeCamera:i,isVerifiedVideoCaptureCanvasAfterFailover:s}}=t,{payload:{body:{ssrc:a}}}=e;let c=void 0;const d=Cs(t);return d&&!0===r&&!0!==d.bVideoOn&&(c=Ou("video",n,"success").pipe(Je(([e,t])=>e&&t),Ue(()=>{const e=[Sa(void 0)];return!1===s&&(Array.isArray(o)?o.forEach(e=>{Tu(document.querySelector("#"+e))}):Tu(document.querySelector("#"+o)),e.push(Ra(!0))),si.getInstance().startCaptureVideo(a,i,640,360),ke(e)}))),c?qe(se(va(a)),c):se(va(a))})),receiveVideoDecodeMaxSizeEpic:e=>ln(e,vi.VideoDecodeMaxSize).pipe(Je(e=>{var t;return null==e||null===(t=e.payload)||void 0===t?void 0:t.data}),wc(e=>{const{size:t}=e.payload.data;return se(Ia(t))})),spotlightVideoResponseEpic:e=>cn(e,16135).pipe(Ae(e=>{const{payload:{body:{bLeadershipOn:t,id:r}}}=e,n=[];return t&&n.push(Mu(r)),Xi("VIDEO_SPOTLIGHT_CHANGE",{spotlightList:n}),ba(n)})),handleGroupLayoutIndicationEpic:(e,t)=>cn(e,7958).pipe(Tt(t),Ae(([e,t])=>{const{payload:{body:r}}=e;let n=[];r&&r.group_list&&r.group_list[0]&&(n=r.group_list[0].map(e=>e.id));const o=Ds(t);return n=n.filter(e=>o.findIndex(t=>t.userId===e)>=0),Xi("VIDEO_SPOTLIGHT_CHANGE",{spotlightList:n}),ba(n)})),handleCurrentVideoResolution:e=>ln(e,vi.CurrentVideoResolution).pipe(Tc(e=>(Xi("VIDEO_RENDER_START_SUCCESS"),Xi("RECEIVE_VIDEO_DIMENSION_CHANGE",e.payload.data),Da(e.payload.data)))),handleMeetingVideoAttributeEpic:e=>cn(e,7938).pipe(Je(e=>{const{payload:{body:t}}=e;return void 0!==(null==t?void 0:t.bFollowHostVideo)||void 0!==(null==t?void 0:t.VideoHd)}),Ae(e=>{const{payload:{body:{bFollowHostVideo:t,VideoHd:r}}}=e;return void 0!==t?(Xi("VIDEO_FOLLOW_HOST_ORDER_CHANGE",{bOn:t}),ka(t)):ja(1===r)})),handleHostDragLayoutIndicationEpic:(e,t)=>cn(e,7957).pipe(Tt(t),Ae(([e,t])=>{const{video:{isFollowHostVideoLayout:r}}=t,{payload:{body:n}}=e,o=n&&n.drag_list&&n.drag_list.map(e=>e.id);return r&&Xi("VIDEO_HOST_DRAG_LAYOUT_CHANGE",{layout:o}),Ua(o)})),handlePeerVideoStateChangeEpic:(e,t)=>cn(e,7937).pipe(Tt(t),Je(([e,t])=>{const{meeting:{userId:r},video:{subscribedVideoList:n}}=t,o=e.payload.body.update,i=e.payload.body.remove;return o&&o.length>0&&o.findIndex(e=>e.id!==r&&(void 0!==e.bVideoOn||e.bHold))>-1||i&&i.some(e=>n.includes(e.id))}),At(([e,t])=>{const{payload:{body:{remove:r,update:n}}}=e,{video:{subscribedVideoList:o}}=t,i=Ns(t);if(r&&r.length>0&&r.filter(e=>o.includes(e.id)).forEach(e=>{Xi("VIDEO_OLD_USER_STOP",{userId:e.id})}),n&&n.length>0){const e=n.filter(e=>void 0!==e.bVideoOn).filter(e=>-1===i.findIndex(t=>t.userId===e.id)),t=n.filter(e=>!0===e.bHold);t.length>0&&t.filter(e=>o.includes(e.id)).forEach(e=>{Xi("VIDEO_OLD_USER_STOP",{userId:e.id})}),e.forEach(e=>{e.bVideoOn?Xi("VIDEO_NEW_USER_START",{userId:e.id}):Xi("VIDEO_OLD_USER_STOP",{userId:e.id})})}}),vt($))});const Lu={videoSsrc:0,cameraDevicesList:[],activeCamera:"default",activeVideoId:0,isCurrentUserStartedVideo:!1,spotlightUserList:[],isCaptureForbidden:!1,receivedVideoMaxQuality:2,captureCanvasList:[],subscribedVideoList:[],renderedVideoList:[],isVideoMuted:!1,isCaptureCameraLoading:!1,isCameraTaken:!1,receivedVideoDimension:{width:0,height:0},isFollowHostVideoLayout:!1,hostDragLayout:[],isSupportHDVideo:!1,highDefinitionVideoId:void 0},ju=Rr({[""+va]:Rd((e,{payload:t})=>{e.videoSsrc=t}),[""+ya]:Rd((e,{payload:t})=>{e.cameraDevicesList=t}),[""+ga]:Rd((e,{payload:t})=>{e.activeCamera=t}),[""+Ea]:Rd((e,{payload:t})=>{e.activeVideoId=t.userId}),[""+Sa]:Rd((e,{payload:t})=>{e.isCurrentUserStartedVideo=t}),[""+ba]:Rd((e,{payload:t})=>{e.spotlightUserList=t}),[""+ma]:Rd((e,{payload:t})=>{e.isCaptureForbidden=t}),[""+Ia]:Rd((e,{payload:t})=>{e.receivedVideoMaxQuality=t}),[""+Aa]:Rd((e,{payload:t})=>{let r=t;Array.isArray(t)||(r=[t]),e.captureCanvasList=r}),[""+Oa]:Rd((e,{payload:t})=>{e.isVideoMuted=t}),[""+Ca]:Rd((e,{payload:t})=>{e.isCaptureCameraLoading=t}),[""+Ta]:Rd((e,{payload:t})=>{e.isCameraTaken=t}),[""+Ra]:Rd((e,{payload:t})=>{e.isVerifiedVideoCaptureCanvasAfterFailover=t}),[""+wa]:Rd((e,{payload:t})=>{e.isVerifiedVideoRenderCanvasAfterFailover=t}),[""+Da]:Rd((e,{payload:t})=>{e.receivedVideoDimension=t}),[""+Pa]:Rd((e,{payload:t})=>{e.subscribedVideoList.includes(t)||e.subscribedVideoList.push(t)}),[""+Ma]:Rd((e,{payload:t})=>{const r=e.subscribedVideoList.indexOf(t);r>=0&&e.subscribedVideoList.splice(r,1)}),[""+Va]:Rd((e,{payload:t})=>{-1===e.renderedVideoList.findIndex(e=>e.userId===t.userId&&e.key===t.key&&e.canvasId===t.canvasId)&&e.renderedVideoList.push(d({},t))}),[""+La]:Rd((e,{payload:t})=>{const r=e.renderedVideoList.findIndex(e=>e.userId===t.userId&&e.key===t.key&&e.canvasId===t.canvasId);r>=0&&e.renderedVideoList.splice(r,1)}),[""+ka]:Rd((e,{payload:t})=>{e.isFollowHostVideoLayout=t}),[""+Ua]:Rd((e,{payload:t})=>{e.hostDragLayout=t}),[""+ja]:Rd((e,{payload:t})=>{e.isSupportHDVideo=t}),[""+Ha]:Rd((e,{payload:t})=>{e.highDefinitionVideoId=t}),[""+Na]:e=>d(d({},Lu),{},{captureCanvasList:e.captureCanvasList,activeCamera:e.activeCamera,isVerifiedVideoCaptureCanvasAfterFailover:!1,isVerifiedVideoRenderCanvasAfterFailover:!1})},Lu),Hu=an(Vu),{InitSuccessVideo:xu,InitSuccessAudio:Fu,InitSuccessSharing:Gu,InitFailedVideo:Bu,InitFailedAudio:Wu,InitFailedSharing:Ku}=vi;let qu;const zu=new z(sn(cu,Eu,mu,an(Object.freeze({__proto__:null,connectToMediaStreamEpic:(e,t)=>e.pipe(Mt(""+Jr),Tt(t),Je(([,e])=>void 0!==e.media.assetsPath&&void 0!==e.media.mediaConstraints),At(([,e])=>{const{media:{assetsPath:r,mediaConstraints:n},meeting:{enableQos:o}}=e;qu=si.getInstance(),r&&n&&qu.setAssetsAndConstraint(r,n);const i=Cs(e);let s;s=i?se(i):$i("ADD_CURRENT_USER_PARTICIPANT_ATTRIBUTE",1).pipe(ue(ge),Tt(t),Ae(([,e])=>Cs(e))),s.pipe(Tt(t)).subscribe(([e,t])=>{const{meeting:{svcUrl:r,meetingNumber:n,conId:i,e2eEncrypt:s,userId:a,isWebinar:c}}=t;var d;e&&(null===(d=qu)||void 0===d||d.connect({svcUrl:r,meetingNumber:n,conId:i,e2eEncrypt:s,isViewOnly:gs(e.userRole),currentUserId:a,isWebinar:c,enableQos:o}))})}),bt(()=>We(e=>{var t;return null===(t=qu)||void 0===t?void 0:t.registerCallback(e)},e=>{var t;return null===(t=qu)||void 0===t?void 0:t.unregisterCallback(e)},(e,t)=>({type:e,data:t})).pipe(Ae(e=>Yr(e))))),connectedMediaStreamEpic:e=>ln(e,[xu,Fu,Gu,Bu,Wu,Ku]).pipe(wc(e=>{const{payload:{type:t,data:r}}=e;if(t===Fu||t===Wu){if(r===Ei.EncodeSuccess)return Xi("AUDIO_ENCODE_SUCCESS"),se(Xr("success"));if(r===Ei.DecodeSuccess)return Xi("AUDIO_DECODE_SUCCESS"),se(Zr("success"));if(r===Ei.EncodeFailed)return Xi("AUDIO_ENCODE_FAIL"),se(Xr("failed"));if(r===Ei.DecodeFailed)return Xi("AUDIO_DECODE_FAIL"),se(Zr("failed"))}else if(t===xu||t===Bu){if(r===Ei.EncodeSuccess)return Xi("VIDEO_ENCODE_SUCCESS"),se(Qr("success"));if(r===Ei.DecodeSuccess)return Xi("VIDEO_DECODE_SUCCESS"),se($r("success"));if(r===Ei.EncodeFailed)return Xi("VIDEO_ENCODE_FAIL"),se(Qr("failed"));if(r===Ei.DecodeFailed)return Xi("VIDEO_DECODE_FAIL"),se($r("failed"))}else if(t===Gu||t===Ku){if(r===Ei.EncodeSuccess)return Xi("SHARING_ENCODE_SUCCESS"),se(en("success"));if(r===Ei.DecodeSuccess)return Xi("SHARING_DECODE_SUCCESS"),se(tn("success"));if(r===Ei.EncodeFailed)return Xi("SHARING_ENCODE_FAIL"),se(en("failed"));if(r===Ei.DecodeFailed)return Xi("SHARING_DECODE_FAIL"),se(tn("failed"));if(t===Gu&&void 0===r)return Xi("SHARING_DECODE_SUCCESS"),se(tn("success"))}})),mediaDeviceUpdateEpic:(e,t)=>ln(e,[xu,Fu]).pipe(Rc(()=>{if("object"==typeof navigator.mediaDevices)return qe(Cu(),qe(ln(e,vi.StartVideoCaptureSuccess),Be(navigator.mediaDevices,"devicechange"),ln(e,vi.UserGrantCaptureAudio)).pipe(Ue(()=>Cu().pipe(At(()=>{Xi("MEDIA_DEVICE_CHANGE")}))))).pipe(Tt(t),Ue(([e,t])=>{const r=[zs(e.microphones),Js(e.speakers),ya(e.cameras)];if(t.audio){const{audio:{activeMicrophone:i,activeSpeaker:s,microphoneDevicesList:a,speakerDevicesList:c}}=t,{microphones:d,speakers:u}=e,l=a.filter(e=>-1===d.findIndex(t=>t.deviceId===e.deviceId)),p=c.filter(e=>-1===u.findIndex(t=>t.deviceId===e.deviceId));var n,o;l.length>0&&l[0].deviceId===i&&(null===(n=qu)||void 0===n||n.changeMicrophone("default"),r.push(Ys("default"))),p.length>0&&p[0].deviceId===s&&(null===(o=qu)||void 0===o||o.changeSpeaker("default"),r.push(Xs("default")))}return ke(r)}))})),sendUserNodeListToMediaSDKEpic:e=>cn(e,7937).pipe(At(e=>{const{payload:{body:t}}=e,r=si.getInstance();t.add&&r.sendUserNodeList(t.add.map(e=>({userid:e.id,sn:e.zoomID&&Xn(e.zoomID)}))),t.remove&&r.sendUserNodeList(t.remove.map(e=>({userid:e.id,bremove:!0})))}),vt($)),handleMediaSdkGcmIVResponseEpic:e=>ln(e,vi.AesGcmIvResponse).pipe(At(e=>{const{payload:{data:{workerType:t,iv:r}}}=e,n=Uo.get(Yo.WebclientIVState);if(n){const e=d(d({},n),{},{[t]:r});Uo.set(Yo.WebclientIVState,e,Mo.SessionStorage)}}),vt($))})))),Ju=(e,t,r)=>zu.pipe(Ue(n=>n(e,t,r))),Yu={meeting:au,socket:vu,participants:bu,media:Au},Xu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Q.constructor,r=new t(Q.SchedulerAction),n=new K,o=void 0,i=function(t){o=t;var i=(new K).pipe(ue(r)),s=(new K).pipe(ue(r)),a=new Ut(i),c=new Vt(s,o.getState());return n.pipe(Ae((function(t){var r="dependencies"in e?t(a,c,e.dependencies):t(a,c);if(!r)throw new TypeError('Your root Epic "'+(t.name||"<anonymous>")+"\" does not return a stream. Double check you're not missing a return statement!");return r})),Ue((function(e){return ke(e).pipe(gt(r),ue(r))}))).subscribe(o.dispatch),function(e){return function(t){var r=e(t);return s.next(o.getState()),i.next(t),r}}};return i.run=function(e){n.next(e)},i}(),Zu=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||S;function Qu(e){return function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var o=t[n];"function"==typeof e[o]&&(r[o]=e[o])}var i,s=Object.keys(r);try{!function(e){Object.keys(e).forEach((function(t){var r=e[t];if(void 0===r(void 0,{type:h.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===r(void 0,{type:h.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+h.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(r)}catch(e){i=e}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var n=!1,o={},a=0;a<s.length;a++){var c=s[a],d=r[c],u=e[c],l=d(u,t);if(void 0===l){var p=v(c,t);throw new Error(p)}o[c]=l,n=n||l!==u}return(n=n||s.length!==Object.keys(e).length)?o:e}}(d(d({},Yu),e))}const $u=Symbol("store"),el=Symbol("getState"),tl=Symbol("dispatch"),rl=Symbol("additionFeatures"),nl=Symbol("mediaContext");function ol(e,t,r){const n=r.value;r.value=function(...e){const t=this[$u];if(t){const{meeting:{isOnHold:e,isMeetingReset:r,meetingStatus:n,isWebinar:o},socket:{xmppSocketStatus:i}}=t.getState();if("joined"!==n)return Promise.reject({type:"IMPROPER_MEETING_STATE",reason:"closed"});if(o&&"connected"!==i)return Promise.reject({type:"IMPROPER_MEETING_STATE",reason:"closed"});if(r)return Promise.reject({type:"IMPROPER_MEETING_STATE",reason:"reconnecting"});if(e)return Promise.reject({type:"IMPROPER_MEETING_STATE",reason:"on hold"})}return n.apply(this,e)}}function il(e,t,r){const n=r.value;r.value=function(...e){const t=this[$u];if(t){const e=t.getState();if(!Ts(e))return Promise.reject({type:"INSUFFICIENT_PRIVILEGES",reason:"only host or co-host can do the operation"})}return n.apply(this,e)}}function sl(e,t,r){const n=r.value;r.value=function(...e){const t=this[$u];if(t){const e=t.getState();if(!ws(e))return Promise.reject({type:"INSUFFICIENT_PRIVILEGES",reason:"only host can do the operation"})}return n.apply(this,e)}}function al(e){return function(t,r,n){const o=n.value;n.value=function(...t){const r=this[$u];return r&&void 0===r.getState()[e]?Promise.reject({type:Fi,reason:`Module:${e} is not enabled`}):o.apply(this,t)}}}let cl;function dl(e){return function(t,r,n){const o=n.value;n.value=function(t,...r){const n=this[$u];if(n){const r=n.getState(),o=Array.isArray(e)?e:[e];let i=Ds(r).find(e=>e.userId===t);if(o.findIndex(e=>e===cl.Attendee)>-1&&(i=Rs(r).find(e=>e.userId===t)),!i)return Promise.reject({type:Gi,reason:"no matching user"});{const{meeting:{userId:e}}=n.getState();for(let r=0;r<o.length;r++){const n=o[r];if(n===cl.Other&&t===e)return Promise.reject({type:Fi,reason:"operation is not applicable to self"});if(n===cl.Self&&t!==e)return Promise.reject({type:Fi,reason:"operation is only applicable to self "});if(n===cl.Client&&Es(i.userType)||n===cl.Phone&&!Es(i.userType))return Promise.reject({types:Fi,reason:"improper target client"})}}}const i=[t,...r];return o.apply(this,i)}}}!function(e){e.Self="Self",e.Other="Other",e.Client="Client",e.Phone="Phone",e.Attendee="Attendee"}(cl||(cl={}));class ul{constructor(e){this[$u]=void 0,this[tl]=void 0,this[el]=void 0,this[rl]=void 0,this[$u]=e,this[tl]=e.dispatch,this[el]=e.getState}}var ll,pl,hl,_l;const fl=ni.createAgent();let vl,El,yl,gl,Sl=(ll=dl(cl.Other),pl=dl(cl.Other),hl=dl(cl.Other),u((_l=class extends ul{constructor(e){super(e),this.modules=void 0,this.modules=new Map}init(e,t,r){const{[tl]:n,[$u]:o}=this;let i="https://source.zoom.us/2.0.0/lib/core",s="en-US";const a="js_media.min.js";let c="https://source.zoom.us/2.0.0/lib/core/"+a;if(r){const{dependentAssets:e,additionalFeatures:t,constraints:n,language:d,webEndpoint:u}=r;if(d&&(s=d),u&&function(e){jd=function(e,t){let r=e;/^https?:\/\//.test(r)||(r="https://"+e);try{const e=new URL(r);if(!t)return e.href;if(t.hostname)return e.hostname;if(t.path)return e.pathname}catch(e){return""}return""}(e,{hostname:!0}),Hd=`https://${jd}/wc/lsdk`}(u),e===Do.CDN)i="https://dmogdx0jrul3u.cloudfront.net/2.0.0/lib/core",c="https://dmogdx0jrul3u.cloudfront.net/2.0.0/lib/core/"+a;else if(e===Do.Global)i="https://source.zoom.us/2.0.0/lib/core",c="https://source.zoom.us/2.0.0/lib/core/"+a;else if(e===Do.CN)i="https://jssdk.zoomus.cn/2.0.0/lib/core",c="https://jssdk.zoomus.cn/2.0.0/lib/core/"+a;else if(e&&/^https?:\/\//.test(e)){let t=e;"/"===t[t.length-1]&&(t=t.slice(0,length-2)),i=t,c=`${t}/${a}`}t&&Array.isArray(t)&&t.forEach(e=>{if(this[rl][e]&&void 0===o.getState()[e]){const{epic:t,reducer:r,Client:n}=this[rl][e];o.injectReducer(e,r),o.injectEpic(t);const i=new n(o);this.modules.set(e,i)}}),(null==n?void 0:n.audio)&&void 0===o.getState().audio&&(o.injectReducer("audio",Du),o.injectEpic(Pu)),(null==n?void 0:n.video)&&void 0===o.getState().video&&(o.injectReducer("video",ju),o.injectEpic(Hu)),(null==n?void 0:n.screen)&&void 0===o.getState().share&&(o.injectReducer("share",Dd),o.injectEpic(Pd))}return n(ao({apiKey:e,signature:t,language:s})),n(rn({mediaConstraints:r&&r.constraints||{},assetsPath:i})),new Promise((e,t)=>{To(c,()=>{e("")},()=>{t({type:Gi,reason:"depedent assets are not accessible"})})})}on(e,t){((e,t)=>{const r=Ki[e];if(r){const n=Ji.get(e);if(n)n.push(t),Ji.set(e,n);else{const n=[t];Ji.set(e,n);const o=qe(...r.map(e=>{const{event:t,payload:r}=e;return Be(qi,t).pipe(Ae(e=>r(e)),ue(ge))})).subscribe(t=>{const r=Ji.get(e);r&&r.forEach(e=>{e(t)})});Yi.push(o)}}})(e,t)}off(e,t){((e,t)=>{if(Ki[e]){const r=Ji.get(e);if(Array.isArray(r)){const n=r.findIndex(e=>e===t);n>-1&&(r.splice(n,1),Ji.set(e,r))}}})(e,t)}getFeatureModule(e){return this.modules.get(e)}leave(){const{[el]:e,[tl]:t}=this;return"connected"===e().socket.zoomSocketStatus&&t(no()),Promise.resolve("")}end(){const{[el]:e,[tl]:t}=this;return"connected"===e().socket.zoomSocketStatus?(t(oo()),tt(500).pipe(At(()=>{es()}),ht("")).toPromise()):Promise.resolve("")}changeName(e,t){const r=this[$u].getState(),{meeting:{bAllowAttendeeRename:n}}=r,o=Cs(r),i=gs(o.userRole),s=Ts(r);if(i)return Promise.reject({type:"INSUFFICIENT_PRIVILEGES"});if(t&&t!==(null==o?void 0:o.userId)){if(s){const{participants:{attendeesList:n}}=r,o=n.find(e=>e.userId===t);if(o)return fl.rename(t,zn(e),zn(o.displayName)),Cc(t,t=>t.displayName===e);{const n=Rs(r).find(e=>e.userId===t);return n?(Fd.getInstance().rename(n.jid,e),Qi("UPDATE_WEBINAR_PARTICIPANT_ATTRIBUTE",t=>{const r=t.find(e=>e.jid===n.jid);return r&&r.name===e})):Promise.reject({type:Gi,reason:"no matching user"})}}return Promise.reject({type:"INSUFFICIENT_PRIVILEGES"})}return e===o.displayName?Promise.resolve():s||n?(fl.rename(o.userId,zn(e),zn(o.displayName)),Qi("UPDATE_CURRENT_USER_PARTICIPANT_ATTRIBUTE",t=>t.displayName===e)):Promise.reject({type:"INSUFFICIENT_PRIVILEGES",reason:"host disallow rename themselves"})}makeHost(e){return fl.assignHost(e,!1),Cc(e,e=>!0===e.isHost)}makeCoHost(e){const t=this[$u].getState(),r=Ds(t).find(t=>t.userId===e);return!0===(null==r?void 0:r.bCoHost)?Promise.reject({type:Gi,reason:`user:[${e}] is already co-host `}):(fl.assignHost(e,!0),Cc(e,e=>!0===e.bCoHost))}revokeCoHost(e){const t=this[$u].getState(),r=Ds(t).find(t=>t.userId===e);return!1===(null==r?void 0:r.bCoHost)?Promise.reject({type:Gi,reason:`user:[${e}] is not a co-host`}):(fl.revokeCoHost(e),Cc(e,e=>!1===e.bCoHost))}isHost(){const e=this[$u].getState(),t=Cs(e);return!!t&&t.isHost}isCoHost(){const e=this[$u].getState(),t=Cs(e);return!!t&&!!t.bCoHost}isOriginHost(){const{meeting:{isOriginHost:e}}=this[el]();return e}getCurrentUserInfo(){const e=this[$u].getState(),t=Cs(e);if(t){const r={userId:t.userId,displayName:t.displayName,audio:t.audio,muted:t.muted,isHost:t.isHost,isCoHost:t.bCoHost,avatar:t.avatar,isPhoneUser:Es(t.userType),bRaiseHand:t.bRaiseHand,bHold:t.bHold,bVideoOn:t.bVideoOn,sharerOn:t.sharerOn,sharePause:t.sharerPause,feedback:t.feedback};if(e.meeting.isWebinar&&gs(t.userRole)){const{participants:{allowTalkAttendeesList:n}}=e,o=n.find(e=>e.userId===t.userId),i=!!o;Object.assign(r,{isAllowToTalk:i}),o&&Object.assign(r,{audio:o.audio,muted:o.muted})}return r}return null}getParticipantsList(){const e=this[$u].getState(),{meeting:{meetingStatus:t}}=e,r=Cs(e);return"joined"===t&&r&&!r.bHold?Ds(e).map(e=>({userId:e.userId,displayName:e.displayName,audio:e.audio,muted:e.muted,isHost:e.isHost,isCoHost:e.bCoHost,avatar:e.avatar,isPhoneUser:Es(e.userType),bRaiseHand:e.bRaiseHand,bHold:e.bHold,bVideoOn:e.bVideoOn,sharerOn:e.sharerOn,sharePause:e.sharerPause,feedback:e.feedback})):[]}getMeetingHost(){const e=this[el](),t=Ps(e);return t?{userId:t.userId,displayName:t.displayName,audio:t.audio,muted:t.muted,isHost:t.isHost,isCoHost:t.bCoHost,avatar:t.avatar,isPhoneUser:Es(t.userType),bRaiseHand:t.bRaiseHand,bHold:t.bHold,bVideoOn:t.bVideoOn,sharerOn:t.sharerOn,feedback:t.feedback}:null}getMeetingInfo(){const{meeting:{meetingStatus:e,isOnHold:t,meetingNumber:r,passWord:n,userName:o,userEmail:i,meetingTopic:s,encType:a,region:c,network:d,topic:u,zlkJwtToken:l,userId:p,lang:h,inviteEmail:_,meetingId:f}}=this[el](),v="joined"===e&&!t;if(l)return{topic:u,password:n,userName:o,isInMeeting:v,userId:p,meetingId:f};{let e="";return 0===a?e="None":1===a?e="AES ECB":2===a&&(e="AES GCM"),{meetingNumber:r,password:n,userName:o,userEmail:i,inviteEmail:_,meetingTopic:s,encryptionType:e,region:c,network:d,isInMeeting:v,userId:p,lang:h,webEndpoint:jd,meetingId:f}}}}).prototype,"end",[sl,ol],Object.getOwnPropertyDescriptor(_l.prototype,"end"),_l.prototype),u(_l.prototype,"changeName",[ol],Object.getOwnPropertyDescriptor(_l.prototype,"changeName"),_l.prototype),u(_l.prototype,"makeHost",[ll,sl,ol],Object.getOwnPropertyDescriptor(_l.prototype,"makeHost"),_l.prototype),u(_l.prototype,"makeCoHost",[pl,sl,ol],Object.getOwnPropertyDescriptor(_l.prototype,"makeCoHost"),_l.prototype),u(_l.prototype,"revokeCoHost",[hl,sl,ol],Object.getOwnPropertyDescriptor(_l.prototype,"revokeCoHost"),_l.prototype),_l);!function(e){e[e.NoAttendee=0]="NoAttendee",e[e.All=1]="All",e[e.AllPanelist=2]="AllPanelist",e[e.Host=3]="Host",e[e.NoOne=4]="NoOne",e[e.EveryonePublicly=5]="EveryonePublicly"}(vl||(vl={})),function(e){e[e.All=0]="All",e[e.Panelist=1]="Panelist",e[e.IndividualCcPanelist=2]="IndividualCcPanelist",e[e.Individual=3]="Individual",e[e.SilentModeUsers=4]="SilentModeUsers"}(El||(El={})),function(e){e[e.None=0]="None",e[e.Delete=1]="Delete",e[e.Modify=2]="Modify"}(yl||(yl={})),function(e){e[e.Success=0]="Success",e[e.Delete=1]="Delete",e[e.Block=3]="Block"}(gl||(gl={}));const bl=[vl.All,vl.Host,vl.NoOne,vl.EveryonePublicly],ml=[vl.NoAttendee,vl.All,vl.AllPanelist],Il={userId:El.All,displayName:"Everyone",isHost:!1,isCoHost:!1},Al={userId:El.Panelist,displayName:"All panelists"},Ol={userId:El.SilentModeUsers,displayName:"Everyone (in Waiting Room)",isHost:!1,isCoHost:!1};var Cl=Object.freeze({__proto__:null,receiveChatMessageFromXMPPEpic:(e,t)=>dn(e,"Message").pipe(Tt(t),Ue(([e,t])=>{const{payload:{data:{sn:r,senderName:n,senderJid:o,receiver:i,text:s,type:a}}}=e,c=Cs(t),d=Rs(t),{meeting:{jid:u,userId:l},participants:{xmppAttendeeList:p}}=t;return ei.beginDecrypt({decryptedText:s,type:Jo.XMPP_CHAT,zoomId:r}).then(({message:e})=>{var t;let r=null,s=0,h="";c&&gs(c.userRole)&&u===i?(r=p.find(e=>e.jid===o),s=l,h=c.displayName):a===El.Panelist&&(r=d.find(e=>e.jid===o),s=El.Panelist,h=Al.displayName);const _={message:e,sender:{name:n,userId:(null===(t=r)||void 0===t?void 0:t.userId)||0,avatar:""},receiver:{name:h,userId:s},timestamp:(new Date).getTime()};return Xi("CHAT_RECEIVE_MESSAGE_EVENTS",_),qa(_)})})),receiveChatMessageFromRWGEpic:(e,t)=>cn(e,7944).pipe(Tt(t),Ue(([e,t])=>{const{meeting:{bIbDisableChat:r,isWebinar:n},participants:{attendeesList:o}}=t,{payload:{body:{attendeeNodeID:i,sn:s,destNodeID:a,text:c,senderName:d,msgID:u}}}=e,l=Cs(t),p=Rs(t);if(l){const e=gs(null==l?void 0:l.userRole)&&i===l.userId&&!u;if(!r&&!e){let e,t=s;if(!s){const e=o.find(e=>e.userId===a);e&&(t=e.zoomID)}if(i===El.SilentModeUsers){const t=Jn(c),r={id:u,message:t,sender:{name:"Host",userId:a},receiver:{name:"Everyone (in Waiting Room)",userId:i},timestamp:(new Date).getTime()};e=Promise.resolve(r)}else e=ei.beginDecrypt({decryptedText:c,zoomId:t,type:Jo.RWG_CHAT}).then(({message:e})=>{const t=o.find(e=>e.userId===a),r=d?Jn(d):null==t?void 0:t.displayName;let s="";if(i===El.All)s=n?"All panelists and attendees":"Everyone";else if(i===El.Panelist)s="All panelists";else if(n&&p.findIndex(e=>e.userId===i)>-1)s=p.find(e=>e.userId===i).displayName;else{const e=o.find(e=>e.userId===i);e&&(s=e.displayName)}return{id:u,message:e,sender:{name:r,userId:a,avatar:null==t?void 0:t.avatar},receiver:{name:s,userId:i},timestamp:(new Date).getTime()}});return e.then(e=>(Xi("CHAT_RECEIVE_MESSAGE_EVENTS",e),qa(e)))}}return $})),changePrivilegeResponse:(e,t)=>cn(e,7938).pipe(Je(e=>{var t,r;return void 0!==(null===(t=e.payload.body)||void 0===t?void 0:t.chatPriviledge)||void 0!==(null===(r=e.payload.body)||void 0===r?void 0:r.bAllowAttendeeChat)}),Tt(t),Ae(([e,t])=>{const{payload:{body:{chatPriviledge:r,bAllowAttendeeChat:n}}}=e,{chat:{chatPrivilege:o}}=t;return void 0!==n?(Xi("CHAT_PRIVILEGE_CHANGE",!0===n?{chatPrivilege:o}:{chatPrivilege:vl.NoAttendee}),Ja(n)):(Xi("CHAT_PRIVILEGE_CHANGE",{chatPrivilege:r}),Ka(r))})),chatResponseEpic:(e,t)=>cn(e,4136).pipe(Tt(t),Ue(([e,t])=>{const{payload:{body:{result:r,destNodeID:n,msgID:o}}}=e,{meeting:{userId:i}}=t;return r===gl.Success?(Xi("CHAT_MESSAGE_RESPONSE",{msgId:o,receiverId:n}),se(Ya({destNodeID:n,msgID:o,userId:i}))):r===gl.Delete||r===gl.Block?se(Xa({msgId:o})):$})),chatCmdResponseEpic:e=>cn(e,4238).pipe(Ue(e=>{const{payload:{body:{bSuccess:t,cmd:r,msgID:n}}}=e,o=[];if(t)switch(r){case yl.Delete:o.push(Xa({msgId:n})),Xi("CHAT_DELETE_MESSAGE_REPONSE",{id:n})}return ke(o)})),chatCmdIndicationEpic:e=>cn(e,7960).pipe(Ue(e=>{const{payload:{body:{cmd:t,msgID:r}}}=e,n=[];switch(t){case yl.Delete:n.push(Xa({msgId:r})),Xi("CHAT_DELETE_MESSAGE_REPONSE",{id:r})}return ke(n)}))});const Tl={chatHistory:[],chatPrivilege:vl.All,isAllowAttendeeChat:!0},wl=Rr({[""+qa]:Rd((e,{payload:t})=>{e.chatHistory.push(t)}),[""+Ka]:Rd((e,{payload:t})=>{e.chatPrivilege=t}),[""+Ja]:Rd((e,{payload:t})=>{e.isAllowAttendeeChat=t}),[""+Ya]:Rd((e,{payload:t})=>{const{destNodeID:r,msgID:n,userId:o}=t;for(let t=e.chatHistory.length-1;t>=0;t--){const i=e.chatHistory[t];if(!i.id&&i.sender.userId===o&&[El.All,El.Panelist,r].includes(i.receiver.userId)){i.id=n;break}}}),[""+Xa]:Rd((e,{payload:t})=>{const{msgId:r}=t,n=e.chatHistory.findIndex(e=>e.id===r);n>=0&&e.chatHistory.splice(n,1)}),[""+za]:()=>d({},Tl)},Tl);function Rl(e,t,r){if(null==r?void 0:r.host)return[Ps(e),...Ms(e)].filter(e=>(null==e?void 0:e.userId)!==t).map(e=>({userId:null==e?void 0:e.userId,displayName:null==e?void 0:e.displayName,isHost:null==e?void 0:e.isHost,isCoHost:null==e?void 0:e.bCoHost}));{let n=[Ps(e),...Ms(e),...e.participants.attendeesList.filter(e=>!(e.bCoHost||e.isHost))];if(null==r?void 0:r.includeAttendee){const t=Rs(e).filter(e=>!Es(e.userType));n=[...n,...t]}return n.filter(e=>(null==e?void 0:e.userId)!==t).map(e=>({userId:null==e?void 0:e.userId,displayName:null==e?void 0:e.displayName,isHost:null==e?void 0:e.isHost,isCoHost:null==e?void 0:e.bCoHost}))}}var Nl;const Dl=ni.createAgent(),Pl=Fd.getInstance(),Ml=e=>{const{text:t,destId:r,sn:n,attendeeId:o}=e;return ei.beginEncrypt({text:t,type:Jo.RWG_CHAT}).then(e=>{Dl.chat(e,r,n,o)})};let kl=(u((Nl=class extends ul{send(e,t){if(!e)return Promise.reject({type:Gi,reason:"Text is empty"});const{[el]:r,[tl]:n}=this,o=r(),i=Cs(o),s=function(e,t){if(t===El.All)return Il;if(t===El.Panelist)return Al;if(t===El.SilentModeUsers)return Ol;{const{meeting:{isWebinar:r},participants:{xmppAttendeeList:n,attendeesList:o}}=e;return r?o.find(e=>e.userId===t)||n.find(e=>e.userId===t):o.find(e=>e.userId===t)}}(o,t),a=((e,t,r)=>{const n=null==t?void 0:t.userId;if(!(null==e?void 0:e.zoomID)||!(null==t?void 0:t.displayName)||n===e.userId)return{type:Gi,reason:"invalid target user"};const{chat:{chatPrivilege:o},meeting:{isWebinar:i}}=r,s=Ts(r),a=t.isHost||t.bCoHost;if(!s)if(i&&gs(e.userRole)){if(o===vl.NoAttendee||o===vl.AllPanelist&&n!==El.Panelist||o===vl.All&&n!==El.All&&n!==El.Panelist)return{type:"INSUFFICIENT_PRIVILEGES",reason:"Insufficient chat privilege"}}else if(o===vl.NoAttendee||o===vl.Host&&!a||n===El.SilentModeUsers||o===vl.EveryonePublicly&&n!==El.All&&!a)return{type:"INSUFFICIENT_PRIVILEGES",reason:"Insufficient chat privilege"};return null})(i,s,o);if(a)return Promise.reject(a);const{meeting:{isWebinar:c,encType:u}}=o,l=u===zo.AES_GCM;let p=Promise.resolve(),h=!1;return t===El.SilentModeUsers?Dl.chat(zn(e),t):c?s.userRole===fs.Attendee?8==(8&s.clientCap)?p=Ml({text:e,destId:El.IndividualCcPanelist,sn:null==i?void 0:i.zoomID,attendeeId:t}):(p=Ml({text:e,destId:El.Panelist,sn:null==i?void 0:i.zoomID,attendeeId:t}).then(()=>(e=>{const{text:t,jid:r,isGCMEnabled:n}=e;return ei.beginEncrypt({text:t,type:Jo.XMPP_CHAT}).then(e=>{Pl.sendWebinarMsg(e,r,El.IndividualCcPanelist,n)})})({text:e,jid:s.jid,isGCMEnabled:l})),h=!0):s&&(p=Ml({text:e,destId:s.userId,sn:null==i?void 0:i.zoomID})):p=Ml({text:e,destId:s.userId,sn:null==i?void 0:i.zoomID}),p.then(()=>{const r={message:e,sender:{name:null==i?void 0:i.displayName,userId:null==i?void 0:i.userId,avatar:null==i?void 0:i.avatar},receiver:{name:null==s?void 0:s.displayName,userId:null==s?void 0:s.userId},timestamp:(new Date).getTime()};return n(qa(r)),h?(Xi("CHAT_RECEIVE_MESSAGE_EVENTS",r),r):Qi("CHAT_MESSAGE_RESPONSE",e=>({ret:[e.receiverId,El.All,El.Panelist].includes(t)||e.receiverId===El.IndividualCcPanelist?0:-1,body:e})).then(e=>{const{msgId:t}=e,n=d({id:t},r);return Xi("CHAT_RECEIVE_MESSAGE_EVENTS",n),n})})}setPrivilege(e){const t=this[el](),{meeting:{isWebinar:r},chat:{chatPrivilege:n}}=t;return n===e?Promise.resolve(""):!r&&!bl.includes(e)||r&&!ml.includes(e)?Promise.reject({type:Gi,reason:"invalid privilege value of parameter"}):(Dl.setChatPriviledge(e),Qi("CHAT_PRIVILEGE_CHANGE",t=>t.chatPrivilege===e))}deleteMessage(e){const t=this[el](),{chat:{chatHistory:r},meeting:{meetingOptions:n,userId:o}}=t;if(null==n?void 0:n.isEnableDeleteChatMsg){const n=Ts(t),i=r.find(t=>t.id===e);if(i){const{sender:t}=i;if(n)Dl.chatCmdReq(e,yl.Delete);else{if(t.userId!==o)return Promise.reject({type:"INSUFFICIENT_PRIVILEGES",reason:"can not delete message"});Dl.chatCmdReq(e,yl.Delete)}return Qi("CHAT_DELETE_MESSAGE_REPONSE",t=>t.id===e).then(()=>({id:e}))}return Promise.reject({type:Gi,reason:"msgId is wrong"})}return Promise.reject({type:Fi,reason:"can not delete messages"})}getPrivilege(){const{chat:{chatPrivilege:e,isAllowAttendeeChat:t}}=this[el]();return t?e:vl.NoAttendee}getReceivers(){const e=this[el](),{chat:{chatPrivilege:t,isAllowAttendeeChat:r},meeting:{isWebinar:n}}=e;if(!r)return[];const o=Cs(e);if(o)if(n){if(!gs(o.userRole)){const t=Rl(e,o.userId,{includeAttendee:!0});return[Al,Il,...t]}if(t===vl.All)return[Al,Il];if(t===vl.AllPanelist)return[Al];if(t===vl.NoAttendee)return[]}else{const r=Ts(e);if(t===vl.All||r){const t=Rl(e,o.userId);return[Il,...t]}if(t===vl.Host)return Rl(e,o.userId,{host:!0});if(t===vl.EveryonePublicly){const t=Rl(e,o.userId,{host:!0});return[Il,...t]}if(t===vl.NoOne)return[]}return[]}getHistory(){return this[el]().chat.chatHistory.map(e=>d({},e))}isAllowToDeleteMessages(){const e=this[el](),{meeting:{meetingOptions:t}}=e;return null==t?void 0:t.isEnableDeleteChatMsg}}).prototype,"send",[ol],Object.getOwnPropertyDescriptor(Nl.prototype,"send"),Nl.prototype),u(Nl.prototype,"setPrivilege",[il,ol],Object.getOwnPropertyDescriptor(Nl.prototype,"setPrivilege"),Nl.prototype),u(Nl.prototype,"deleteMessage",[ol],Object.getOwnPropertyDescriptor(Nl.prototype,"deleteMessage"),Nl.prototype),Nl);const Ul=an(Cl),Vl=(e,t)=>{const{store:{getState:r,dispatch:n},mediaAgent:o}=e,i=r(),{meeting:{bIbDisableShare:s},share:{sharePrivilege:a,ssrc:c,isChromeExtensionInstalled:u,isVerifiedCaptureCanvasAfterFailover:l},media:{sharingEncodeStatus:p}}=i;if(s)return Promise.reject({type:Fi,reason:"information barrier"});const h=Ts(i),_=Mc(i);if(a===bi.OnlyHost&&!h)return Promise.reject({type:"INSUFFICIENT_PRIVILEGES",reason:"only host can start screen share"});if(a===bi.HostGrab&&!h&&_.length>0)return Promise.reject({type:"INSUFFICIENT_PRIVILEGES",reason:"only host can grab screen share"});const f=Cs(i);if(!0===(null==f?void 0:f.sharerOn))return Promise.reject({type:Fi,reason:"you have already started screen share."});let v=se(!0);return(()=>{const{userAgent:e}=navigator;return!/opera|opr\/[\d]+/i.test(navigator.userAgent)&&!/edge\/(\d+)/i.test(navigator.userAgent)&&/chrome/i.test(e)&&/webkit/i.test(e)})()&&void 0===navigator.mediaDevices.getDisplayMedia&&!u&&(o.checkChromeSharingExtension(),v=$i("SHARE_CHECK_CHROME_SHARING_EXTENSION",1)),t.id||(t.id="__ZOOM_SDK_SHARE_CANVAS_@__".replace("@",""+Math.floor(1e4*Math.random()))),Fe([Ou("sharing",p,"success"),v]).subscribe(([e,r])=>{const[i]=e;if(i&&r){!1===l&&(Tu(t),n(ha(!0)));let e=document.querySelector("#__ZOOM_SDK_SHARING_VIDEO__");e&&"VIDEO"===e.tagName||(e=document.createElement("video"),e.id="__ZOOM_SDK_SHARING_VIDEO__",e.style.display="none",document.body.appendChild(e)),o.startDesktopSharing(c,t.id,"__ZOOM_SDK_SHARING_VIDEO__")}}),new Promise((e,t)=>{Qe($i("UPDATE_CURRENT_USER_PARTICIPANT_ATTRIBUTE",1),$i("SHARE_CHECK_CHROME_SHARING_EXTENSION").pipe(Je(e=>!e),ut(1),vt(ae({reason:"required extension",extensionUrl:"https://chrome.google.com/webstore/detail/zoom-scheduler/kgjfgplpablkjnlkjmjdecgdpfankdle"}))),$i("SHARE_START_DESKTOP_SHARE_FAILED",1).pipe(vt(ae({reason:"user deny screen share"})))).subscribe(r=>{!0===r.sharerOn?e(""):t({type:"INTERNAL_ERROR"})},e=>{t(d({type:Fi},e))})})},Ll=ps([Ds],e=>e.filter(e=>e.bVideoOn));var jl,Hl,xl,Fl,Gl,Bl,Wl,Kl,ql,zl,Jl,Yl,Xl,Zl,Ql,$l,ep,tp,rp,np,op,ip,sp,ap;let cp=(jl=al("audio"),Hl=al("audio"),xl=al("audio"),Fl=al("audio"),Gl=al("audio"),Bl=al("audio"),Wl=al("video"),Kl=al("video"),ql=al("video"),zl=al("video"),Jl=al("video"),Yl=al("video"),Xl=al("video"),Zl=al("video"),Ql=al("share"),$l=al("share"),ep=al("share"),tp=al("share"),rp=al("share"),np=al("share"),op=al("share"),ip=al("share"),dp="isShareOptionLocked",sp=function(e,t,r){const n=r.value;r.value=function(...e){const t=this[$u];if(t){const{meeting:{meetingOptions:e}}=t.getState();if(!0===e[dp])return Promise.reject({type:"OPERATION_LOCKED",reason:dp+" is locked"})}return n.apply(this,e)}},u((ap=class extends ul{constructor(e){super(e),this[$u].dispatch(Jr()),this[nl]={store:e,mediaAgent:si.getInstance(),rwgAgent:ni.createAgent()}}startAudio(){return(e=>{const{store:{getState:t,dispatch:r},rwgAgent:n}=e,o=t(),i=Cs(o);if("computer"===(null==i?void 0:i.audio))return Promise.resolve();if("phone"===(null==i?void 0:i.audio))return Promise.reject({type:Fi,reason:"joined by phone"});{const{audio:{isAllowToTalk:e,isComputerAudioLoading:t,canPlayAudio:s},media:{audioDecodeStatus:a,audioEncodeStatus:c}}=o;if(t)return Promise.reject({type:Fi,reason:"Computer audio has been loading, please wait."});if(i){r($s(!0));const{userRole:t}=i,o=gs(t);Ou("audio",o&&!e?"success":c,a).subscribe(([e,t])=>{if(e&&t){let e=s?Promise.resolve():function(){const e=document.createElement("audio");return e.muted=!1,e.volume=.1,e.src=URL.createObjectURL(Si),e.play()}();void 0===e&&(e=Promise.resolve()),e.then(()=>{n.joinOrLeaveVoip(!0)}).catch(()=>{r(Zs(!1))})}})}return"failed"===c||"failed"===a?(r($s(!1)),Promise.reject({type:"INTERNAL_ERROR",reason:"audio encode or decode error"})):new Promise((e,t)=>{Qe($i(Li.JoinComputerAudio.success,1),qe(...Li.JoinComputerAudio.fail.map(e=>$i(e,1).pipe(Ue(()=>ae({type:"INSUFFICIENT_PRIVILEGES",reason:e}))))),tt(3e4).pipe(Ue(()=>ae({type:"OPERATION_TIMEOUT"})))).subscribe(()=>{r($s(!1)),e("")},e=>{n.joinOrLeaveVoip(!1),r($s(!1)),t(e)})})}})(this[nl])}stopAudio(){return(e=>{const{store:{getState:t,dispatch:r},mediaAgent:n,rwgAgent:o}=e,i=t(),{audio:{isComputerAudioLoading:s}}=i,a=Cs(i);return s?Promise.reject({type:Fi,reason:"Computer audio has not finished joining, please wait."}):"computer"===(null==a?void 0:a.audio)?(n.leaveComputerAudio(),o.joinOrLeaveVoip(!1),r(qs(0)),Qi("AUDIO_CURRENT_USER_LEAVE_AUDIO")):Promise.resolve("")})(this[nl])}muteAudio(e){return((e,t)=>{const{store:{getState:r,dispatch:n},rwgAgent:o,mediaAgent:i}=e,s=r(),a=Cs(s);if(null==t||t===(null==a?void 0:a.userId))return""===(null==a?void 0:a.audio)||null===(null==a?void 0:a.audio)?Promise.reject({type:Fi,reason:"no audio joined"}):!0===(null==a?void 0:a.muted)?Promise.resolve(""):(n(Fs(!0)),o.mute(a.userId,!0),Qi("AUDIO_CURRENT_USER_MUTED").then(()=>(i.muteAudio(),"")));if(Ts(s)){const{participants:{allowTalkAttendeesList:e,attendeesList:r}}=s,n=e.concat(r).find(e=>e.userId===t);return n?""===n.audio||null===n?Promise.reject({type:Fi,reason:"no audio joined"}):!1===n.muted?(o.mute(t,!0),Qi("AUDIO_PARTICIPANT_AUDIO_UPDATE",e=>e.id===t&&1==e.muted)):Promise.resolve(""):Promise.reject({type:Gi,reason:"no matching user"})}return Promise.reject({type:"INSUFFICIENT_PRIVILEGES"})})(this[nl],e)}unmuteAudio(e){return((e,t)=>{const{store:{getState:r,dispatch:n},rwgAgent:o,mediaAgent:i}=e,s=r(),a=Cs(s);if(void 0===t||t===(null==a?void 0:a.userId))return""===(null==a?void 0:a.audio)||null===(null==a?void 0:a.audio)?Promise.reject({type:Fi,reason:"no audio joined"}):!1===(null==a?void 0:a.muted)?Promise.resolve(""):(n(Fs(!0)),s.audio.bCanUnmute?(o.mute(a.userId,!1),Qi("AUDIO_CURRENT_USER_UNMUTED").then(()=>(i.unmuteAudio(),""))):Promise.reject({type:"INSUFFICIENT_PRIVILEGES",reason:"host not allow unmute themselves"}));if(Ts(s)){const{participants:{allowTalkAttendeesList:e,attendeesList:r}}=s,n=e.concat(r).find(e=>e.userId===t);return n?""===n.audio||null===n?Promise.reject({type:Fi,reason:"no audio joined"}):(!0===n.muted&&o.mute(t,!1),Promise.resolve("")):Promise.reject({type:Gi,reason:"no matching user"})}return Promise.reject({type:"INSUFFICIENT_PRIVILEGES"})})(this[nl],e)}switchMicrophone(e){return((e,t)=>{const{store:{getState:r,dispatch:n},mediaAgent:o}=e,{audio:{microphoneDevicesList:i,activeMicrophone:s}}=r();return-1==i.findIndex(e=>e.deviceId===t)?Promise.reject({type:"INVALID_DEVICE_ID"}):(t!==s&&(o.changeMicrophone(t),n(Ys(t))),Promise.resolve(""))})(this[nl],e)}switchSpeaker(e){return((e,t)=>{const{store:{getState:r,dispatch:n},mediaAgent:o}=e,{audio:{speakerDevicesList:i,activeSpeaker:s}}=r();return-1==i.findIndex(e=>e.deviceId===t)?Promise.reject({type:"INVALID_DEVICE_ID"}):(t!==s&&(o.changeSpeaker(t),n(Xs(t))),Promise.resolve(""))})(this[nl],e)}getMicList(){return(({store:{getState:e}})=>{const t=e();return t.audio?[...t.audio.microphoneDevicesList]:[]})(this[nl])}getSpeakerList(){return(({store:{getState:e}})=>{const t=e();return t.audio?[...t.audio.speakerDevicesList]:[]})(this[nl])}isAudioMuted(e){return(({store:{getState:e}},t)=>{const r=e(),{meeting:{isWebinar:n}}=r;let o=null;return void 0===t?o=Cs(r):(o=r.participants.attendeesList.find(e=>e.userId===t),n&&!o&&(o=r.participants.xmppAttendeeList.find(e=>e.userId===t))),!!o&&!!o.muted})(this[nl],e)}getActiveMicrophone(){return(({store:{getState:e}})=>{const t=e();return t.audio?t.audio.activeMicrophone:null})(this[nl])}getActiveSpeaker(){return(({store:{getState:e}})=>{const t=e();return t.audio?t.audio.activeSpeaker:null})(this[nl])}startVideo(e){return((e,t)=>{const{store:{getState:r,dispatch:n},mediaAgent:o}=e,i=r(),{media:{videoDecodeStatus:s,videoEncodeStatus:a},video:{videoSsrc:c,activeCamera:d,isCaptureCameraLoading:u,isCurrentUserStartedVideo:l,isVideoMuted:p}}=i;return l?Promise.reject({type:Fi,reason:"Video is started"}):u?Promise.reject({type:Fi,reason:"Camera is starting,please wait."}):p&&!Ts(i)?Promise.reject({type:Fi,reason:"Video is muted by the host"}):(n(Ca(!0)),Ou("video",a,s).subscribe(([e])=>{if(e){const{cameraId:e=d,captureWidth:r=640,captureHeight:i=360,videoDOMId:s}=t||{};o.startCaptureVideo(c,e,r,i,s),d!==e&&n(ga(e))}else n(Ca(!1))}),Zi(Mi).then(()=>{n(Ta(!1)),n(ma(!1))}).finally(()=>{n(Ca(!1))}))})(this[nl],e)}stopVideo(){return(e=>{const{store:{getState:t},mediaAgent:r}=e,{video:{isCaptureCameraLoading:n,isCurrentUserStartedVideo:o}}=t();return n?Promise.reject({type:Fi,reason:"Camera is starting,please wait."}):o?(r.stopCaptureVideo(),Qi("VIDEO_CAPTURE_STOP_RESULT",e=>!0!==(null==e?void 0:e.failed))):Promise.reject({type:Fi,reason:"carmera is closed"})})(this[nl])}switchCamera(e){return((e,t)=>{const{store:{getState:r,dispatch:n},mediaAgent:o}=e,i=r(),{video:{cameraDevicesList:s,isCurrentUserStartedVideo:a}}=i;return-1===s.map(e=>e.deviceId).indexOf(t)?Promise.reject({type:Gi,reason:"Cannot find cameraDeviceId in camera devices list."}):(a&&o.changeCamera(t),n(ga(t)),Promise.resolve())})(this[nl],e)}renderVideo(e,t,r,n,o,i,s,a){return((e,t,r,n,o,i,s,a,c,d)=>{const{store:{getState:u,dispatch:l},mediaAgent:p,rwgAgent:h}=e,_=u(),{meeting:{userId:f},video:{subscribedVideoList:v}}=_;if(!t)return Promise.reject({type:Gi,reason:"Received canvas is falsy"});if(!v.includes(r)&&v.length>=9)return Promise.reject({type:Fi,reason:"subscribe video counts greater than maximum size (9)"});if(-1===Ll(_).findIndex(e=>e.userId===r))return Promise.reject({type:Gi,reason:"user is not send video"});const{media:{videoDecodeStatus:E}}=_;return t.id||(t.id="__ZOOM_SDK_VIDEO_CANVAS_@__".replace("@",""+Math.floor(1e4*Math.random()))),Ou("video","success",E).subscribe(([e])=>{if(e){const{video:{isVerifiedVideoRenderCanvasAfterFailover:e,highDefinitionVideoId:d,isSupportHDVideo:_,renderedVideoList:E}}=u();let y=t;!1===e&&(y=Tu(t),l(wa(!0)));const g=r===f,S=c||"__ZOOM_SDK_VIDEO_ZONE__";let b=a;a===Ii.Video_720P&&(_?d?d!==r&&(console.warn("Web Video SDK only supports subscribing one 720P video stream, will downgrade to 360P stream"),b=Ii.Video_360P):l(Ha(r)):(console.warn("Can not subscribe 720P video stream,will downgrade to 360P stream"),b=Ii.Video_360P)),E.some(e=>e.userId===r&&e.key===S&&e.canvasId===y.id)||p.renderVideo(y.id,r,S,n,o,i,s,b,g,"",!1),r===d&&b===Ii.Video_720P||h.subscribeVideo(r,b,!1),v.includes(r)||l(Pa(r)),d===r&&b!==Ii.Video_720P&&l(Ha(void 0)),l(Va({userId:r,key:S,canvasId:y.id}))}}),"failed"===E?Promise.reject({type:"INTERNAL_ERROR",reason:"Video  decode status is failed"}):Promise.resolve("")})(this[nl],e,t,r,n,o,i,s,a)}stopRenderVideo(e,t,r,n,o=!1){return((e,t,r,n,o,i=!1)=>{const{store:{getState:s,dispatch:a},mediaAgent:c,rwgAgent:d}=e,u=s(),{video:{subscribedVideoList:l,renderedVideoList:p,highDefinitionVideoId:h}}=u;if(!t||!t.id)return Promise.reject({type:Gi,reason:"canvas is falsy"});if(l.includes(r)){let e=o;e||(e={R:0,G:0,B:0,A:0});const s=n||"__ZOOM_SDK_VIDEO_ZONE__";p.find(e=>e.userId===r&&e.key===s)&&(c.stopRenderVideo(t.id,r,s,e,i),1==p.filter(e=>e.userId===r).length&&(d.unsubscribeVideo(r),a(Ma(r)),h===r&&a(Ha(void 0))),a(La({userId:r,key:s,canvasId:t.id})))}return Promise.resolve("")})(this[nl],e,t,r,n,o)}updateVideoCanvasDimension(e,t,r){return((e,t,r,n)=>{const{mediaAgent:o}=e;return t&&t.id?(o.updateRenderedVideoCanvasDimension(t.id,r,n),Promise.resolve("")):Promise.reject({type:Gi,reason:"canvas is falsy"})})(this[nl],e,t,r)}adjustRenderedVideoPosition(e,t,r,n,o,i,s){return((e,t,r,n,o,i,s,a)=>{const{store:{getState:c},mediaAgent:d}=e;if(!t||!t.id)return Promise.reject({type:Gi,reason:"canvas is falsy"});const{video:{subscribedVideoList:u}}=c();return u.includes(r)?(d.adjustRenderedVideoPosition(t.id,r,a||"__ZOOM_SDK_VIDEO_ZONE__",i,s,n,o),Promise.resolve("")):Promise.reject({type:Gi,reason:"userId is not correct"})})(this[nl],e,t,r,n,o,i,s)}clearVideoCanvas(e,t){return((e,t,r)=>{const{mediaAgent:n}=e;if(!t||!t.id)return Promise.reject({type:Gi,reason:"canvas is falsy"});let o=r;return o||(o={R:0,G:0,B:0,A:0}),n.clearVideoCanvas(t.id,o),Promise.resolve("")})(this[nl],e,t)}isCapturingVideo(){return(e=>{const{store:{getState:t}}=e,r=t();return!!r.video&&r.video.isCurrentUserStartedVideo})(this[nl])}isCameraTaken(){return(e=>{const{store:{getState:t}}=e,r=t();return!!r.video&&r.video.isCameraTaken})(this[nl])}isCaptureForbidden(){return(e=>{const{store:{getState:t}}=e,r=t();return!!r.video&&r.video.isCaptureForbidden})(this[nl])}getCameraList(){return(e=>{const{store:{getState:t}}=e,r=t();if(!r.video)return[];const{video:{cameraDevicesList:n}}=r;return n.map(e=>Object.assign({},e))})(this[nl])}getActiveCamera(){return(e=>{const{store:{getState:t}}=e,r=t();return r.video?r.video.activeCamera:""})(this[nl])}getActiveVideoId(){return(e=>{const{store:{getState:t}}=e,r=t();return r.video?r.video.activeVideoId:0})(this[nl])}getVideoMaxQuality(){return(e=>{const{store:{getState:t}}=e,r=t();return r.video?r.video.receivedVideoMaxQuality:Ii.Video_90P})(this[nl])}getReceivedVideoDimension(){return(e=>{const{store:{getState:t}}=e,r=t();return r.video?r.video.receivedVideoDimension:null})(this[nl])}isSupportMultipleVideos(){return"function"==typeof OffscreenCanvas&&"function"==typeof SharedArrayBuffer}isSupportHDVideo(){return(e=>{var t;const{store:{getState:r}}=e;return null===(t=r().video)||void 0===t?void 0:t.isSupportHDVideo})(this[nl])}startShareView(e,t){return((e,t,r,n)=>{const{store:{getState:o,dispatch:i},mediaAgent:s,rwgAgent:a}=e,{share:{isReceiveSharing:c,isRemoteSharingActive:d,activeNodeId:u,activeSsrc:l,shareQuality:p,status:h,isVerifiedRenderCanvasAfterFailover:_},media:{sharingDecodeStatus:f}}=o();if(!t||r!==u)return Promise.reject({type:Gi,reason:""});if(!d||c||h!==mi.End)return Promise.reject({type:Fi,reason:""});return Ou("sharing","success",f).subscribe(([,e])=>{if(e){let e=t;!1===_&&(e=Tu(t),i(pa(!0))),i(ra(!0)),a.subscribeSharing(r,p),s.renderSharing(l,e,!1,n)}}),"failed"===f?Promise.reject({type:"INTERNAL_ERROR",reason:""}):Qi("SHARE_RECEIVED_DIMENSION_CHANGE",e=>!!e,6e4)})(this[nl],e,t)}stopShareView(){return(e=>{const{store:{dispatch:t,getState:r},rwgAgent:n,mediaAgent:o}=e,{share:{isReceiveSharing:i,activeNodeId:s}}=r();return i?(o.stopRenderSharing(),n.unsubscribeSharing(s),t(ra(!1)),Promise.resolve("")):Promise.resolve("")})(this[nl])}switchShareView(e){return((e,t)=>{const{store:{getState:r,dispatch:n},rwgAgent:o,mediaAgent:i}=e,s=r(),{share:{isReceiveSharing:a,activeNodeId:c,isRemoteControlApproved:d,isGrabRemoteControl:u,shareQuality:l}}=s;return a?t===c?Promise.resolve(""):Mc(s).findIndex(e=>e.userId===c)>-1?(d&&(u&&o.subscribeGrabRemoteControl(c,!1),o.sharingRequestRemoteControl(c,!1)),o.unsubscribeSharing(c),o.subscribeSharing(t,l),i.switchSharingSource(t),n(ta({bStatus:1,activeNodeID:t,ssrc:t})),Promise.resolve("")):Promise.reject({type:Gi,reason:"no matching user id"}):Promise.reject({type:Fi})})(this[nl],e)}updateSharingCanvasDimension(e,t){return((e,t,r)=>{const{store:{getState:n},mediaAgent:o}=e,i=n(),{share:{isReceiveSharing:s}}=i;return s&&o.updateRenderedSharingDimension(t,r),Promise.resolve("")})(this[nl],e,t)}startShareScreen(e){return Vl(this[nl],e)}stopShareScreen(){return(e=>{const{store:{getState:t,dispatch:r},rwgAgent:n,mediaAgent:o}=e,{share:{status:i},meeting:{userId:s}}=t();return i===mi.End?Promise.resolve(""):(r(sa(mi.End)),n.stopSharing(s),o.stopDesktopSharing(),Qi("UPDATE_CURRENT_USER_PARTICIPANT_ATTRIBUTE",e=>!1===e.sharerOn))})(this[nl])}pauseShareScreen(){return(e=>{const{store:{getState:t,dispatch:r},rwgAgent:n,mediaAgent:o}=e,{share:{status:i}}=t();return i===mi.Sharing?(n.pauseSharing(),o.pauseDesktopSharing(),Qi("UPDATE_CURRENT_USER_PARTICIPANT_ATTRIBUTE",e=>!0===e.sharerPause).then(()=>(r(sa(mi.Paused)),""))):Promise.reject({type:Fi})})(this[nl])}resumeShareScreen(){return(e=>{const{store:{getState:t,dispatch:r},rwgAgent:n,mediaAgent:o}=e,{share:{status:i}}=t();return i===mi.Paused?(n.resumeSharing(),o.resumeDesktopSharing(),Qi("UPDATE_CURRENT_USER_PARTICIPANT_ATTRIBUTE",e=>!0===e.sharerOn&&!1===e.sharerPause).then(()=>(r(sa(mi.Sharing)),""))):Promise.reject({type:Fi})})(this[nl])}lockShare(e){return((e,t)=>((e,t)=>{const{store:{getState:r},rwgAgent:n}=e,{share:{sharePrivilege:o}}=r();return o===t?Promise.resolve(""):Object.values(bi).includes(t)?(n.lockSharing(t),Qi("UPDATE_MEETING_ATTRIBUTE",e=>e.lockShare===t)):Promise.reject({type:Gi})})(e,t?bi.OnlyHost:bi.HostGrab))(this[nl],e)}getShareUserList(){return(e=>{const{store:{getState:t}}=e,r=t();return r.share?Mc(r).map(e=>({userId:e.userId,displayName:e.displayName,audio:e.audio,muted:e.muted,isHost:e.isHost,isCoHost:e.bCoHost,avatar:e.avatar,bVideoOn:e.bVideoOn,sharerOn:e.sharerOn,sharePause:e.sharerPause})):[]})(this[nl])}getActiveShareUserId(){return(e=>{const{store:{getState:t}}=e,r=t();return r.share&&r.share.isRemoteSharingActive?r.share.activeNodeId:0})(this[nl])}isReceiveSharing(){return(e=>{const{store:{getState:t}}=e,r=t();return!!r.share&&r.share.isReceiveSharing})(this[nl])}getSharedContentDimension(){return(e=>{const{store:{getState:t}}=e,r=t();if(r.share){if(r.share.status!==mi.End)return d({},r.share.shareDimension);{const{share:{receivedShareDimension:e}}=r;return{width:e.width,height:e.height}}}return null})(this[nl])}getShareStatus(){return(e=>{const{store:{getState:t}}=e,r=t();return r.share?r.share.status:null})(this[nl])}}).prototype,"startAudio",[ol,jl],Object.getOwnPropertyDescriptor(ap.prototype,"startAudio"),ap.prototype),u(ap.prototype,"stopAudio",[ol,Hl],Object.getOwnPropertyDescriptor(ap.prototype,"stopAudio"),ap.prototype),u(ap.prototype,"muteAudio",[ol,xl],Object.getOwnPropertyDescriptor(ap.prototype,"muteAudio"),ap.prototype),u(ap.prototype,"unmuteAudio",[ol,Fl],Object.getOwnPropertyDescriptor(ap.prototype,"unmuteAudio"),ap.prototype),u(ap.prototype,"switchMicrophone",[ol,Gl],Object.getOwnPropertyDescriptor(ap.prototype,"switchMicrophone"),ap.prototype),u(ap.prototype,"switchSpeaker",[ol,Bl],Object.getOwnPropertyDescriptor(ap.prototype,"switchSpeaker"),ap.prototype),u(ap.prototype,"startVideo",[ol,Wl],Object.getOwnPropertyDescriptor(ap.prototype,"startVideo"),ap.prototype),u(ap.prototype,"stopVideo",[ol,Kl],Object.getOwnPropertyDescriptor(ap.prototype,"stopVideo"),ap.prototype),u(ap.prototype,"switchCamera",[ol,ql],Object.getOwnPropertyDescriptor(ap.prototype,"switchCamera"),ap.prototype),u(ap.prototype,"renderVideo",[ol,zl],Object.getOwnPropertyDescriptor(ap.prototype,"renderVideo"),ap.prototype),u(ap.prototype,"stopRenderVideo",[ol,Jl],Object.getOwnPropertyDescriptor(ap.prototype,"stopRenderVideo"),ap.prototype),u(ap.prototype,"updateVideoCanvasDimension",[ol,Yl],Object.getOwnPropertyDescriptor(ap.prototype,"updateVideoCanvasDimension"),ap.prototype),u(ap.prototype,"adjustRenderedVideoPosition",[ol,Xl],Object.getOwnPropertyDescriptor(ap.prototype,"adjustRenderedVideoPosition"),ap.prototype),u(ap.prototype,"clearVideoCanvas",[ol,Zl],Object.getOwnPropertyDescriptor(ap.prototype,"clearVideoCanvas"),ap.prototype),u(ap.prototype,"startShareView",[ol,Ql],Object.getOwnPropertyDescriptor(ap.prototype,"startShareView"),ap.prototype),u(ap.prototype,"stopShareView",[ol,$l],Object.getOwnPropertyDescriptor(ap.prototype,"stopShareView"),ap.prototype),u(ap.prototype,"switchShareView",[ol,ep],Object.getOwnPropertyDescriptor(ap.prototype,"switchShareView"),ap.prototype),u(ap.prototype,"updateSharingCanvasDimension",[ol,tp],Object.getOwnPropertyDescriptor(ap.prototype,"updateSharingCanvasDimension"),ap.prototype),u(ap.prototype,"startShareScreen",[ol,rp],Object.getOwnPropertyDescriptor(ap.prototype,"startShareScreen"),ap.prototype),u(ap.prototype,"stopShareScreen",[ol,np],Object.getOwnPropertyDescriptor(ap.prototype,"stopShareScreen"),ap.prototype),u(ap.prototype,"pauseShareScreen",[ol,op],Object.getOwnPropertyDescriptor(ap.prototype,"pauseShareScreen"),ap.prototype),u(ap.prototype,"resumeShareScreen",[ol,ip],Object.getOwnPropertyDescriptor(ap.prototype,"resumeShareScreen"),ap.prototype),u(ap.prototype,"lockShare",[il,sp,ol],Object.getOwnPropertyDescriptor(ap.prototype,"lockShare"),ap.prototype),ap);var dp,up;const lp={chat:{epic:Ul,reducer:wl,Client:kl}},pp=ni.createAgent();let hp=(u((up=class extends Sl{constructor(e){super(e),this.mediaStream=void 0,this[rl]=lp}getMediaStream(){return void 0===this.mediaStream&&(this.mediaStream=new cp(this[$u])),this.mediaStream}joinInstant(e,t,r,n,o){const{[el]:i,[tl]:s}=this,{meeting:{lang:a,meetingStatus:c},socket:{zoomSocketStatus:d}}=i();return t?"initial"===c&&"closed"===d?(s(eo({topic:e,password:o||"",userName:r,zlk:t,lang:a,cv:n})),Zi(ci)):Promise.reject({type:Fi,reason:"duplicated operation"}):Promise.reject({type:Fi,reason:"invalid  signature"})}removeUser(e){const t=this[$u].getState(),{participants:{attendeesList:r}}=t;return r.find(t=>t.userId===e)?(pp.expel(e),Qi("REMOVE_USER_PARTICIPANT_ATTRIBUTE",t=>t.some(t=>t.userId===e))):Promise.reject({type:Gi,reason:"no matched user"})}}).prototype,"removeUser",[il,ol],Object.getOwnPropertyDescriptor(up.prototype,"removeUser"),up.prototype),up);class _p{constructor(e){this.instant=void 0,this.context=void 0,this.script=void 0,this.mic=void 0,this.instant=0,this.context=e,this.mic=null,this.script=e.createScriptProcessor(2048,1,1),this.script.onaudioprocess=e=>{const t=e.inputBuffer.getChannelData(0);let r,n=0;for(r=0;r<t.length;++r)n+=t[r]*t[r];this.instant=Math.sqrt(n/t.length)}}connectToSource(e){console.log("InputMicDetector is listening");try{var t;this.mic=this.context.createMediaStreamSource(e),this.mic.connect(this.script),null===(t=this.script)||void 0===t||t.connect(this.context.destination)}catch(e){console.error(e)}}stop(){var e,t;console.log("Audio Previewer stopped"),null===(e=this.mic)||void 0===e||e.disconnect(),this.mic=null,null===(t=this.script)||void 0===t||t.disconnect(),this.script=null}getMicVolume(){return this.instant}}class fp{constructor(e=""){this.audioContext=void 0,this.inputMicDetector=void 0,this.isMicUnmuted=void 0,this.isAudioStarted=void 0,this.audioStream=void 0,this.deviceId=void 0,this.audioContext=null,this.inputMicDetector=null,this.isMicUnmuted=!1,this.isAudioStarted=!1,this.audioStream=null,this.deviceId=e}async start(){if(this.audioStream||this.isAudioStarted)throw new Error("AudioAlreadyStartedError");try{const e=await navigator.mediaDevices.getUserMedia(this.getAudioConstraints());this.audioStream=e,this.isAudioStarted=!0}catch(e){throw e}}async unmute(){if(!this.audioStream||!this.isAudioStarted)throw new Error("AudioNotStartedError");if(this.isMicUnmuted)throw new Error("AudioAlreadyUnmutedError");return this.toggleMicIsMuted(!0)}async mute(){if(!this.audioStream||!this.isAudioStarted)throw new Error("AudioNotStartedError");if(!this.isMicUnmuted)throw new Error("AudioAlreadyMutedError");return this.toggleMicIsMuted(!1)}getCurrentVolume(){return this.inputMicDetector?this.inputMicDetector.getMicVolume():0}async stop(){if(!this.audioStream||!this.isAudioStarted)throw new Error("AudioNotStartedError");this.audioStream.getAudioTracks().forEach(e=>e.stop()),this.audioStream=null,this.isAudioStarted=!1}async toggleMicIsMuted(e){if(e){if(!this.audioContext){const e=window.AudioContext||window.webkitAudioContext;this.audioContext=new e}this.inputMicDetector=new _p(this.audioContext),this.inputMicDetector.connectToSource(this.audioStream)}else this.inputMicDetector&&this.inputMicDetector.stop(),this.inputMicDetector=null;this.isMicUnmuted=e}getAudioConstraints(){return{audio:""===this.deviceId||{deviceId:this.deviceId},video:!1}}}const vp={width:{min:1024,ideal:1280,max:1920},height:{min:576,ideal:720,max:1080},aspectRatio:{ideal:1.777777778}};class Ep{constructor(e=""){this.isVideoStarted=void 0,this.videoStream=void 0,this.deviceId=void 0,this.isVideoStarted=!1,this.videoStream=null,this.deviceId=e}async start(e){if(!e)throw new Error("Video DOM element is falsy");if(this.isVideoStarted||this.videoStream)throw new Error("VideoAlreadyStartedError");const t=async t=>{if(!t||"OverconstrainedError"!==t.name&&"ConstraintNotSatisfiedError"!==t.name)throw t;console.log(`Warning: detected ${t.name} -- trying to fall back to lower aspect ratio`);try{const t=await navigator.mediaDevices.getUserMedia(this.getVideoConstraints(!0));return this.tryPlayVideo(e,t)}catch(e){throw e}};try{const t=await navigator.mediaDevices.getUserMedia(this.getVideoConstraints());return this.tryPlayVideo(e,t)}catch(e){return t(e)}}async stop(){if(!this.videoStream||!this.isVideoStarted)throw new Error("VideoNotStartedError");this.videoStream.getVideoTracks().forEach(e=>e.stop()),this.videoStream=null,this.isVideoStarted=!1}getVideoConstraints(e=!1){let t=vp;return e?t=""===this.deviceId||{deviceId:this.deviceId}:""!==this.deviceId&&(t.deviceId=this.deviceId),{audio:!1,video:t}}async tryPlayVideo(e,t){if(!e)throw new Error("Video DOM element is falsy");try{this.videoStream=t,e.srcObject=this.videoStream,await e.play(),this.isVideoStarted=!0}catch(e){throw e}}}class yp{static createClient(){if(!this.meetingClient){const e=function(){const e=[Xu],t=f(Qu(),Zu(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return g({},r,{dispatch:n=S.apply(void 0,i)(r.dispatch)})}}}(...e)));return t.asyncReducers={},t.injectReducer=(e,r)=>{void 0===t.asyncReducers[e]&&(t.asyncReducers[e]=r,t.replaceReducer(Qu(t.asyncReducers)))},t.injectEpic=e=>{zu.next(e)},Xu.run(Ju),t}();this.meetingClient=new hp(e)}return this.meetingClient}static destroyClient(){this.meetingClient&&(this.meetingClient.leave().then(()=>{tt(500).subscribe(()=>{es()})}),this.meetingClient=null)}static checkSystemRequirements(){return{audio:jo()&&Ho(),video:jo()&&void 0!==navigator.mediaDevices,screen:jo()&&void 0!==(navigator.mediaDevices&&navigator.mediaDevices).getDisplayMedia}}static getDevices(e){return e?navigator.mediaDevices.enumerateDevices():navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then(e=>(e.getTracks().forEach(e=>e.stop()),navigator.mediaDevices.enumerateDevices()))}static createLocalAudioTrack(e=""){return new fp(e)}static createLocalVideoTrack(e=""){return new Ep(e)}}yp.meetingClient=void 0,yp.VERSION="2.0.0";var gp,Sp,bp="https://dmogdx0jrul3u.cloudfront.net/videosdk/".concat("1.1.4","/lib"),mp="https://source.zoom.us/videosdk/".concat("1.1.4","/lib"),Ip="https://jssdk.zoomus.cn/videosdk/".concat("1.1.4","/lib"),Ap=Symbol("stream"),Op=function(){function t(r){e(this,t),this[Ap]=void 0,this[Ap]=r}return r(t,[{key:"startAudio",value:function(){return this[Ap].startAudio()}},{key:"stopAudio",value:function(){return this[Ap].stopAudio()}},{key:"muteAudio",value:function(e){return this[Ap].muteAudio(e)}},{key:"unmuteAudio",value:function(e){return this[Ap].unmuteAudio(e)}},{key:"isAudioMuted",value:function(e){return this[Ap].isAudioMuted(e)}},{key:"getMicList",value:function(){return this[Ap].getMicList()}},{key:"getSpeakerList",value:function(){return this[Ap].getSpeakerList()}},{key:"getActiveMicrophone",value:function(){return this[Ap].getActiveMicrophone()}},{key:"getActiveSpeaker",value:function(){return this[Ap].getActiveSpeaker()}},{key:"switchMicrophone",value:function(e){return this[Ap].switchMicrophone(e)}},{key:"switchSpeaker",value:function(e){return this[Ap].switchSpeaker(e)}},{key:"startVideo",value:function(e){return this[Ap].startVideo(e)}},{key:"stopVideo",value:function(){return this[Ap].stopVideo()}},{key:"renderVideo",value:function(e,t,r,n,o,i,s,a){return this[Ap].renderVideo(e,t,r,n,o,i,s,a)}},{key:"stopRenderVideo",value:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this[Ap].stopRenderVideo(e,t,r,n,o)}},{key:"updateVideoCanvasDimension",value:function(e,t,r){return this[Ap].updateVideoCanvasDimension(e,t,r)}},{key:"adjustRenderedVideoPosition",value:function(e,t,r,n,o,i,s){return this[Ap].adjustRenderedVideoPosition(e,t,r,n,o,i,s)}},{key:"clearVideoCanvas",value:function(e,t){return this[Ap].clearVideoCanvas(e,t)}},{key:"getCameraList",value:function(){return this[Ap].getCameraList()}},{key:"switchCamera",value:function(e){return this[Ap].switchCamera(e)}},{key:"isCapturingVideo",value:function(){return this[Ap].isCapturingVideo()}},{key:"isCameraTaken",value:function(){return this[Ap].isCameraTaken()}},{key:"getActiveVideoId",value:function(){return this[Ap].getActiveVideoId()}},{key:"getActiveCamera",value:function(){return this[Ap].getActiveCamera()}},{key:"isCaptureForbidden",value:function(){return this[Ap].isCaptureForbidden()}},{key:"getVideoMaxQuality",value:function(){return this[Ap].getVideoMaxQuality()}},{key:"getReceivedVideoDimension",value:function(){return this[Ap].getReceivedVideoDimension()}},{key:"isSupportMultipleVideos",value:function(){return this[Ap].isSupportMultipleVideos()}},{key:"isSupportHDVideo",value:function(){return this[Ap].isSupportHDVideo()}},{key:"startShareView",value:function(e,t){return this[Ap].startShareView(e,t)}},{key:"stopShareView",value:function(){return this[Ap].stopShareView()}},{key:"startShareScreen",value:function(e){return this[Ap].startShareScreen(e)}},{key:"pauseShareScreen",value:function(){return this[Ap].pauseShareScreen()}},{key:"resumeShareScreen",value:function(){return this[Ap].resumeShareScreen()}},{key:"stopShareScreen",value:function(){return this[Ap].stopShareScreen()}},{key:"lockShare",value:function(e){return this[Ap].lockShare(e)}},{key:"isShareLocked",value:function(){return this[Ap].isShareLocked()}},{key:"getActiveShareUserId",value:function(){return this[Ap].getActiveShareUserId()}}]),t}(),Cp=Symbol("chat"),Tp=function(){function t(r){e(this,t),this[Cp]=void 0,this[Cp]=r}return r(t,[{key:"send",value:function(e,t){return this[Cp].send(e,t)}},{key:"sendToAll",value:function(e){return this[Cp].send(e,El.All)}},{key:"setPrivilege",value:function(e){return this[Cp].setPrivilege(e)}},{key:"getPrivilege",value:function(){return this[Cp].getPrivilege()}},{key:"getReceivers",value:function(){return this[Cp].getReceivers().map((function(e){return i({isManager:e.isCoHost},s(e,["isCoHost"]))}))}}]),t}(),wp=function(e){return"string"==typeof e&&e.length>0},Rp=Symbol("Client"),Np=function(){function t(){e(this,t),this[Rp]=void 0,this.stream=void 0,this.chat=void 0,this[Rp]=yp.createClient()}return r(t,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en-US",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Global",r=arguments.length>2?arguments[2]:void 0,n="";switch(t){case"Global":n=mp;break;case"CN":n=Ip;break;case"CDN":n=bp;break;default:n=t}return this[Rp].init("","",{language:e,dependentAssets:n,constraints:i({},yp.checkSystemRequirements()),additionalFeatures:["chat"],webEndpoint:r||"zoom.us"})}},{key:"join",value:function(e,t,r,n){return wp(e)&&wp(t)&&wp(r)?e.length>200?Promise.reject({type:"INVALID_PARAMETERS",reason:"the max length of topic is 200"}):r.length>200?Promise.reject({type:"INVALID_PARAMETERS",reason:"the max length of username is 200"}):!n||wp(n)&&!void/^([!@#$%^&*?=]|\w|\d){1,10}$/gi.test(n)?this[Rp].joinInstant(e,t,r,"1.1.4",n):Promise.reject({type:"INVALID_PARAMETERS",reason:"Password can contain English characters, numbers and special characters like !@#$%^&*?=, and the max length of password is 10"}):Promise.reject({type:"INVALID_PARAMETERS",reason:"topic, token and userName must be string and required"})}},{key:"leave",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?this[Rp].end():this[Rp].leave()}},{key:"getSessionInfo",value:function(){var e=this[Rp].getMeetingInfo();return{isInMeeting:e.isInMeeting||!1,password:e.password||"",topic:e.topic,userName:e.userName,userId:e.userId,sessionId:e.meetingId}}},{key:"on",value:function(e,t){this[Rp].on(e,t)}},{key:"off",value:function(e,t){this[Rp].off(e,t)}},{key:"getMediaStream",value:function(){return this.stream||(this.stream=new Op(this[Rp].getMediaStream())),this.stream}},{key:"getChatClient",value:function(){return this.chat||(this.chat=new Tp(this[Rp].getFeatureModule("chat"))),this.chat}},{key:"coverntUser",value:function(e){return{userId:e.userId,avatar:e.avatar||"",displayName:e.displayName,isHost:e.isHost,isManager:e.isCoHost||!1,audio:e.audio,muted:e.muted,bVideoOn:e.bVideoOn,sharerOn:e.sharerOn,sharerPause:e.sharerPause}}},{key:"getCurrentUserInfo",value:function(){var e=this[Rp].getCurrentUserInfo();if(e)return this.coverntUser(e)}},{key:"getUser",value:function(e){var t=this[Rp].getParticipantsList().find((function(t){return t.userId===e}));if(t)return this.coverntUser(t)}},{key:"getAllUser",value:function(){var e=this;return this[Rp].getParticipantsList().map((function(t){return e.coverntUser(t)}))}},{key:"changeName",value:function(e,t){return this[Rp].changeName(e,t)}},{key:"makeHost",value:function(e){return this[Rp].makeHost(e)}},{key:"makeManager",value:function(e){return this[Rp].makeCoHost(e)}},{key:"revokeManager",value:function(e){return this[Rp].revokeCoHost(e)}},{key:"removeUser",value:function(e){return this[Rp].removeUser(e)}},{key:"isHost",value:function(){return this[Rp].isHost()}},{key:"isManager",value:function(){return this[Rp].isCoHost()}}]),t}(),Dp=function(){function t(){e(this,t)}return r(t,null,[{key:"createClient",value:function(){return this.videoClient||(this.videoClient=new Np),this.videoClient}},{key:"destroyClient",value:function(){this.videoClient&&(this.videoClient.leave(),this.videoClient=null)}},{key:"checkSystemRequirements",value:function(){return yp.checkSystemRequirements()}},{key:"getDevices",value:function(e){return yp.getDevices(e)}},{key:"createLocalAudioTrack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return yp.createLocalAudioTrack(e)}},{key:"createLocalVideoTrack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return yp.createLocalVideoTrack(e)}}]),t}();Dp.videoClient=void 0,Dp.VERSION="1.1.4",function(e){e[e.All=1]="All",e[e.NoOne=4]="NoOne",e[e.EveryonePublicly=5]="EveryonePublicly"}(gp||(gp={})),function(e){e[e.All=0]="All"}(Sp||(Sp={}));export default Dp;export{Sp as ChatMsgType,gp as ChatPrivilege,Po as ConnectionState,Ni as PassiveStopShareReason,bi as SharePrivilege,mi as ShareStatus,Ai as VideoActiveState,wi as VideoCapturingState,Ii as VideoQuality};
